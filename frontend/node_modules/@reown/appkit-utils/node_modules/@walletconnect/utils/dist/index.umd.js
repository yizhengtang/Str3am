(function(B,Vt){typeof exports=="object"&&typeof module<"u"?Vt(exports):typeof define=="function"&&define.amd?define(["exports"],Vt):(B=typeof globalThis<"u"?globalThis:B||self,Vt(B["@walletconnect/utils"]={}))})(this,function(B){"use strict";const Vt=":";function Mi(e){const[t,r]=e.split(Vt);return{namespace:t,reference:r}}function Jo(e){const{namespace:t,reference:r}=e;return[t,r].join(Vt)}function Bi(e){const[t,r,n]=e.split(Vt);return{namespace:t,reference:r,address:n}}function Qo(e){const{namespace:t,reference:r,address:n}=e;return[t,r,n].join(Vt)}function Ii(e,t){const r=[];return e.forEach(n=>{const a=t(n);r.includes(a)||r.push(a)}),r}function ef(e){const{address:t}=Bi(e);return t}function tf(e){const{namespace:t,reference:r}=Bi(e);return Jo({namespace:t,reference:r})}function Z0(e,t){const{namespace:r,reference:n}=Mi(t);return Qo({namespace:r,reference:n,address:e})}function G0(e){return Ii(e,ef)}function rf(e){return Ii(e,tf)}function X0(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const a=e[n];r.push(...a.accounts)}),r}function J0(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const a=e[n];r.push(...rf(a.accounts))}),r}function Q0(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const a=e[n];r.push(...$n(n,a))}),r}function $n(e,t){return e.includes(":")?[e]:t.chains||[]}var nf=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},ed=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),td=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),rd=function(){function e(t,r,n,a){this.name=t,this.version=r,this.os=n,this.bot=a,this.type="bot-device"}return e}(),nd=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),id=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),ad=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,od=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,af=3,fd=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",ad]],of=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function sd(e){return e?ff(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new id:typeof navigator<"u"?ff(navigator.userAgent):dd()}function cd(e){return e!==""&&fd.reduce(function(t,r){var n=r[0],a=r[1];if(t)return t;var i=a.exec(e);return!!i&&[n,i]},!1)}function ff(e){var t=cd(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new nd;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<af&&(a=nf(nf([],a,!0),hd(af-a.length),!0)):a=[];var i=a.join("."),o=ud(e),f=od.exec(e);return f&&f[1]?new rd(r,i,o,f[1]):new ed(r,i,o)}function ud(e){for(var t=0,r=of.length;t<r;t++){var n=of[t],a=n[0],i=n[1],o=i.exec(e);if(o)return a}return null}function dd(){var e=typeof process<"u"&&process.version;return e?new td(process.version.slice(1)):null}function hd(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sf(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var ur={};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Oi=function(e,t){return Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Oi(e,t)};function bd(e,t){Oi(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ni=function(){return Ni=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ni.apply(this,arguments)};function pd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function vd(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(o=e[f])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function gd(e,t){return function(r,n){t(r,n,e)}}function md(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function yd(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function f(l){try{d(n.next(l))}catch(p){o(p)}}function c(l){try{d(n.throw(l))}catch(p){o(p)}}function d(l){l.done?i(l.value):a(l.value).then(f,c)}d((n=n.apply(e,t||[])).next())})}function wd(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function f(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function xd(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Ed(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ci(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(f){o={error:f}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function _d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cf(arguments[t]));return e}function Sd(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,f=i.length;o<f;o++,a++)n[a]=i[o];return n}function fn(e){return this instanceof fn?(this.v=e,this):new fn(e)}function Ad(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(w){n[w]&&(a[w]=function(S){return new Promise(function(E,M){i.push([w,S,E,M])>1||f(w,S)})})}function f(w,S){try{c(n[w](S))}catch(E){p(i[0][3],E)}}function c(w){w.value instanceof fn?Promise.resolve(w.value.v).then(d,l):p(i[0][2],w)}function d(w){f("next",w)}function l(w){f("throw",w)}function p(w,S){w(S),i.shift(),i.length&&f(i[0][0],i[0][1])}}function Dd(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:fn(e[a](o)),done:a==="return"}:i?i(o):o}:i}}function Md(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ci=="function"?Ci(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(f,c){o=e[i](o),a(f,c,o.done,o.value)})}}function a(i,o,f,c){Promise.resolve(c).then(function(d){i({value:d,done:f})},o)}}function Bd(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Id(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Od(e){return e&&e.__esModule?e:{default:e}}function Nd(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Cd(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Rd=Object.freeze({__proto__:null,__extends:bd,get __assign(){return Ni},__rest:pd,__decorate:vd,__param:gd,__metadata:md,__awaiter:yd,__generator:wd,__createBinding:xd,__exportStar:Ed,__values:Ci,__read:cf,__spread:_d,__spreadArrays:Sd,__await:fn,__asyncGenerator:Ad,__asyncDelegator:Dd,__asyncValues:Md,__makeTemplateObject:Bd,__importStar:Id,__importDefault:Od,__classPrivateFieldGet:Nd,__classPrivateFieldSet:Cd}),Pn=sf(Rd),Ri={},sn={},uf;function Td(){if(uf)return sn;uf=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return sn.delay=e,sn}var dr={},Ti={},hr={},df;function $d(){return df||(df=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.ONE_THOUSAND=hr.ONE_HUNDRED=void 0,hr.ONE_HUNDRED=100,hr.ONE_THOUSAND=1e3),hr}var $i={},hf;function Pd(){return hf||(hf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}($i)),$i}var lf;function bf(){return lf||(lf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Pn;t.__exportStar($d(),e),t.__exportStar(Pd(),e)}(Ti)),Ti}var pf;function Fd(){if(pf)return dr;pf=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.fromMiliseconds=dr.toMiliseconds=void 0;const e=bf();function t(n){return n*e.ONE_THOUSAND}dr.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return dr.fromMiliseconds=r,dr}var vf;function Ud(){return vf||(vf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Pn;t.__exportStar(Td(),e),t.__exportStar(Fd(),e)}(Ri)),Ri}var Or={},gf;function zd(){if(gf)return Or;gf=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const a=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:a})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Or.Watch=e,Or.default=e,Or}var Pi={},cn={},mf;function Ld(){if(mf)return cn;mf=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.IWatch=void 0;class e{}return cn.IWatch=e,cn}var yf;function qd(){return yf||(yf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Pn.__exportStar(Ld(),e)}(Pi)),Pi}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Pn;t.__exportStar(Ud(),e),t.__exportStar(zd(),e),t.__exportStar(qd(),e),t.__exportStar(bf(),e)})(ur);var ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.getLocalStorage=ee.getLocalStorageOrThrow=ee.getCrypto=ee.getCryptoOrThrow=Ui=ee.getLocation=ee.getLocationOrThrow=Fi=ee.getNavigator=ee.getNavigatorOrThrow=Fn=ee.getDocument=ee.getDocumentOrThrow=ee.getFromWindowOrThrow=ee.getFromWindow=void 0;function lr(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}ee.getFromWindow=lr;function Nr(e){const t=lr(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}ee.getFromWindowOrThrow=Nr;function kd(){return Nr("document")}ee.getDocumentOrThrow=kd;function jd(){return lr("document")}var Fn=ee.getDocument=jd;function Hd(){return Nr("navigator")}ee.getNavigatorOrThrow=Hd;function Vd(){return lr("navigator")}var Fi=ee.getNavigator=Vd;function Kd(){return Nr("location")}ee.getLocationOrThrow=Kd;function Wd(){return lr("location")}var Ui=ee.getLocation=Wd;function Yd(){return Nr("crypto")}ee.getCryptoOrThrow=Yd;function Zd(){return lr("crypto")}ee.getCrypto=Zd;function Gd(){return Nr("localStorage")}ee.getLocalStorageOrThrow=Gd;function Xd(){return lr("localStorage")}ee.getLocalStorage=Xd;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});var wf=zi.getWindowMetadata=void 0;const xf=ee;function Jd(){let e,t;try{e=xf.getDocumentOrThrow(),t=xf.getLocationOrThrow()}catch{return null}function r(){const p=e.getElementsByTagName("link"),w=[];for(let S=0;S<p.length;S++){const E=p[S],M=E.getAttribute("rel");if(M&&M.toLowerCase().indexOf("icon")>-1){const D=E.getAttribute("href");if(D)if(D.toLowerCase().indexOf("https:")===-1&&D.toLowerCase().indexOf("http:")===-1&&D.indexOf("//")!==0){let I=t.protocol+"//"+t.host;if(D.indexOf("/")===0)I+=D;else{const O=t.pathname.split("/");O.pop();const N=O.join("/");I+=N+"/"+D}w.push(I)}else if(D.indexOf("//")===0){const I=t.protocol+D;w.push(I)}else w.push(D)}}return w}function n(...p){const w=e.getElementsByTagName("meta");for(let S=0;S<w.length;S++){const E=w[S],M=["itemprop","property","name"].map(D=>E.getAttribute(D)).filter(D=>D?p.includes(D):!1);if(M.length&&M){const D=E.getAttribute("content");if(D)return D}}return""}function a(){let p=n("name","og:site_name","og:title","twitter:title");return p||(p=e.title),p}function i(){return n("description","og:description","twitter:description","keywords")}const o=a(),f=i(),c=t.origin,d=r();return{description:f,url:c,icons:d,name:o}}wf=zi.getWindowMetadata=Jd;const Ef="ReactNative",Qe={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Un=" ",Qd=":",_f="/",Li=2,eh=1e3,Sf="js";function qi(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Kt(){return!Fn()&&!!Fi()&&navigator.product===Ef}function th(){return Kt()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function rh(){return Kt()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function un(){return!qi()&&!!Fi()&&!!Fn()}function br(){return Kt()?Qe.reactNative:qi()?Qe.node:un()?Qe.browser:Qe.unknown}function nh(){var e;try{return Kt()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function Af(e,t){const r=new URLSearchParams(e);for(const n of Object.keys(t).sort())if(t.hasOwnProperty(n)){const a=t[n];a!==void 0&&r.set(n,a)}return r.toString()}function ih(){return wf()||{name:"",description:"",url:"",icons:[""]}}function ah(e,t){var r;const n=br(),a={protocol:e,version:t,env:n};return n==="browser"&&(a.host=((r=Ui())==null?void 0:r.host)||"unknown"),a}function Df(){if(br()===Qe.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const e=sd();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function Mf(){var e;const t=br();return t===Qe.browser?[t,((e=Ui())==null?void 0:e.host)||"unknown"].join(":"):t}function Bf(e,t,r){const n=Df(),a=Mf();return[[e,t].join("-"),[Sf,r].join("-"),n,a].join("/")}function oh({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:a,projectId:i,useOnCloseEvent:o,bundleId:f,packageName:c}){const d=r.split("?"),l=Bf(e,t,n),p={auth:a,ua:l,projectId:i,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:f||void 0},w=Af(d[1]||"",p);return d[0]+"?"+w}function fh(e){let t=(e.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const r=typeof t<"u"?e.split("://")[1]:e;return t=t==="wss"?"https":"http",[t,r].join("://")}function sh(e,t,r){if(!e[t]||typeof e[t]!==r)throw new Error(`Missing or invalid "${t}" param`)}function If(e,t=Li){return Of(e.split(_f),t)}function ch(e){return If(e).join(Un)}function Wt(e,t){return e.filter(r=>t.includes(r)).length===e.length}function Of(e,t=Li){return e.slice(Math.max(e.length-t,0))}function uh(e){return Object.fromEntries(e.entries())}function dh(e){return new Map(Object.entries(e))}function hh(e,t){const r={};return Object.keys(e).forEach(n=>{r[n]=t(e[n])}),r}const lh=e=>e;function Nf(e){return e.trim().replace(/^\w/,t=>t.toUpperCase())}function bh(e){return e.split(Un).map(t=>Nf(t)).join(Un)}function ph(e=ur.FIVE_MINUTES,t){const r=ur.toMiliseconds(e||ur.FIVE_MINUTES);let n,a,i,o;return{resolve:f=>{i&&n&&(clearTimeout(i),n(f),o=Promise.resolve(f))},reject:f=>{i&&a&&(clearTimeout(i),a(f))},done:()=>new Promise((f,c)=>{if(o)return f(o);i=setTimeout(()=>{const d=new Error(t);o=Promise.reject(d),c(d)},r),n=f,a=c})}}function vh(e,t,r){return new Promise(async(n,a)=>{const i=setTimeout(()=>a(new Error(r)),t);try{const o=await e;n(o)}catch(o){a(o)}clearTimeout(i)})}function ki(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function gh(e){return ki("topic",e)}function mh(e){return ki("id",e)}function yh(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function wh(e,t){return ur.fromMiliseconds((t||Date.now())+ur.toMiliseconds(e))}function xh(e){return Date.now()>=ur.toMiliseconds(e)}function Eh(e,t){return`${e}${t?`:${t}`:""}`}function Tt(e=[],t=[]){return[...new Set([...e,...t])]}async function _h({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;const a=typeof r=="string"?JSON.parse(r):r,i=a?.href;if(typeof i!="string")return;const o=Cf(i,e,t),f=br();if(f===Qe.browser){if(!((n=Fn())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Rf(o)}else f===Qe.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(a){console.error(a)}}function Cf(e,t,r){const n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let a=`${e}`;if(e.startsWith("https://t.me")){const i=e.includes("?")?"&startapp=":"?startapp=";a=`${a}${i}${Pf(n,!0)}`}else a=`${a}/wc?${n}`;return a}function Rf(e){let t="_self";$f()?t="_top":(Tf()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function Sh(e,t){let r="";try{if(un()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}function ji(e,t){return e.filter(r=>t.includes(r))}function Ah(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function Dh(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Mh(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function Tf(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function $f(){try{return window.self!==window.top}catch{return!1}}function Pf(e,t=!1){const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function Hi(e){return Buffer.from(e,"base64").toString("utf-8")}function Bh(e){return new Promise(t=>setTimeout(t,e))}function dn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ih(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hn(e,...t){if(!Ih(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Vi(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dn(e.outputLen),dn(e.blockLen)}function Cr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ff(e,t){hn(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const zn=BigInt(2**32-1),Uf=BigInt(32);function Oh(e,t=!1){return t?{h:Number(e&zn),l:Number(e>>Uf&zn)}:{h:Number(e>>Uf&zn)|0,l:Number(e&zn)|0}}function Nh(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:i,l:o}=Oh(e[a],t);[r[a],n[a]]=[i,o]}return[r,n]}const Ch=(e,t,r)=>e<<r|t>>>32-r,Rh=(e,t,r)=>t<<r|e>>>32-r,Th=(e,t,r)=>t<<r-32|e>>>64-r,$h=(e,t,r)=>e<<r-32|t>>>64-r,Rr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ph(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Ki(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function yt(e,t){return e<<32-t|e>>>t}const zf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Fh(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Lf(e){for(let t=0;t<e.length;t++)e[t]=Fh(e[t])}function Uh(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Tr(e){return typeof e=="string"&&(e=Uh(e)),hn(e),e}function zh(...e){let t=0;for(let n=0;n<e.length;n++){const a=e[n];hn(a),t+=a.length}const r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const i=e[n];r.set(i,a),a+=i.length}return r}class Wi{clone(){return this._cloneInto()}}function qf(e){const t=n=>e().update(Tr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function pr(e=32){if(Rr&&typeof Rr.getRandomValues=="function")return Rr.getRandomValues(new Uint8Array(e));if(Rr&&typeof Rr.randomBytes=="function")return Rr.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const kf=[],jf=[],Hf=[],Lh=BigInt(0),ln=BigInt(1),qh=BigInt(2),kh=BigInt(7),jh=BigInt(256),Hh=BigInt(113);for(let e=0,t=ln,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],kf.push(2*(5*n+r)),jf.push((e+1)*(e+2)/2%64);let a=Lh;for(let i=0;i<7;i++)t=(t<<ln^(t>>kh)*Hh)%jh,t&qh&&(a^=ln<<(ln<<BigInt(i))-ln);Hf.push(a)}const[Vh,Kh]=Nh(Hf,!0),Vf=(e,t,r)=>r>32?Th(e,t,r):Ch(e,t,r),Kf=(e,t,r)=>r>32?$h(e,t,r):Rh(e,t,r);function Wh(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const f=(o+8)%10,c=(o+2)%10,d=r[c],l=r[c+1],p=Vf(d,l,1)^r[f],w=Kf(d,l,1)^r[f+1];for(let S=0;S<50;S+=10)e[o+S]^=p,e[o+S+1]^=w}let a=e[2],i=e[3];for(let o=0;o<24;o++){const f=jf[o],c=Vf(a,i,f),d=Kf(a,i,f),l=kf[o];a=e[l],i=e[l+1],e[l]=c,e[l+1]=d}for(let o=0;o<50;o+=10){for(let f=0;f<10;f++)r[f]=e[o+f];for(let f=0;f<10;f++)e[o+f]^=~r[(f+2)%10]&r[(f+4)%10]}e[0]^=Vh[n],e[1]^=Kh[n]}r.fill(0)}class Yi extends Wi{constructor(t,r,n,a=!1,i=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,dn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ph(this.state)}keccak(){zf||Lf(this.state32),Wh(this.state32,this.rounds),zf||Lf(this.state32),this.posOut=0,this.pos=0}update(t){Cr(this);const{blockLen:r,state:n}=this;t=Tr(t);const a=t.length;for(let i=0;i<a;){const o=Math.min(r-this.pos,a-i);for(let f=0;f<o;f++)n[this.pos++]^=t[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:a}=this;t[n]^=r,(r&128)!==0&&n===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){Cr(this,!1),hn(t),this.finish();const r=this.state,{blockLen:n}=this;for(let a=0,i=t.length;a<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-a);t.set(r.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return dn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ff(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:a,rounds:i,enableXOF:o}=this;return t||(t=new Yi(r,n,a,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=a,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Zi=((e,t,r)=>qf(()=>new Yi(t,e,r)))(1,136,256/8);function bn(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Wf(e){return bn(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Yf="2.23.2";let Gi={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${Yf}`};class vr extends Error{constructor(t,r={}){const n=r.cause instanceof vr?r.cause.details:r.cause?.message?r.cause.message:r.details,a=r.cause instanceof vr&&r.cause.docsPath||r.docsPath,i=Gi.getDocsUrl?.({...r,docsPath:a}),o=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...Gi.version?[`Version: ${Gi.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=a,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=Yf}walk(t){return Zf(this,t)}}function Zf(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Zf(e.cause,t):t?null:e}class Gf extends vr{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function $r(e,{dir:t,size:r=32}={}){return typeof e=="string"?Yh(e,{dir:t,size:r}):Zh(e,{dir:t,size:r})}function Yh(e,{dir:t,size:r=32}={}){if(r===null)return e;const n=e.replace("0x","");if(n.length>r*2)throw new Gf({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function Zh(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new Gf({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let a=0;a<r;a++){const i=t==="right";n[i?a:r-a-1]=e[i?a:e.length-a-1]}return n}class Gh extends vr{constructor({max:t,min:r,signed:n,size:a,value:i}){super(`Number "${i}" is not in safe ${a?`${a*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class Xh extends vr{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Pr(e,{size:t}){if(Wf(e)>t)throw new Xh({givenSize:Wf(e),maxSize:t})}function Xi(e,t={}){const{signed:r}=t;t.size&&Pr(e,{size:t.size});const n=BigInt(e);if(!r)return n;const a=(e.length-2)/2,i=(1n<<BigInt(a)*8n-1n)-1n;return n<=i?n:n-BigInt(`0x${"f".padStart(a*2,"f")}`)-1n}function Jh(e,t={}){return Number(Xi(e,t))}const Qh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ji(e,t={}){return typeof e=="number"||typeof e=="bigint"?Jf(e,t):typeof e=="string"?rl(e,t):typeof e=="boolean"?el(e,t):Xf(e,t)}function el(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(Pr(r,{size:t.size}),$r(r,{size:t.size})):r}function Xf(e,t={}){let r="";for(let a=0;a<e.length;a++)r+=Qh[e[a]];const n=`0x${r}`;return typeof t.size=="number"?(Pr(n,{size:t.size}),$r(n,{dir:"right",size:t.size})):n}function Jf(e,t={}){const{signed:r,size:n}=t,a=BigInt(e);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&a>i||a<o){const c=typeof e=="bigint"?"n":"";throw new Gh({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${e}${c}`})}const f=`0x${(r&&a<0?(1n<<BigInt(n*8))+BigInt(a):a).toString(16)}`;return n?$r(f,{size:n}):f}const tl=new TextEncoder;function rl(e,t={}){const r=tl.encode(e);return Xf(r,t)}const nl=new TextEncoder;function il(e,t={}){return typeof e=="number"||typeof e=="bigint"?ol(e,t):typeof e=="boolean"?al(e,t):bn(e)?es(e,t):ts(e,t)}function al(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Pr(r,{size:t.size}),$r(r,{size:t.size})):r}const $t={zero:48,nine:57,A:65,F:70,a:97,f:102};function Qf(e){if(e>=$t.zero&&e<=$t.nine)return e-$t.zero;if(e>=$t.A&&e<=$t.F)return e-($t.A-10);if(e>=$t.a&&e<=$t.f)return e-($t.a-10)}function es(e,t={}){let r=e;t.size&&(Pr(r,{size:t.size}),r=$r(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const a=n.length/2,i=new Uint8Array(a);for(let o=0,f=0;o<a;o++){const c=Qf(n.charCodeAt(f++)),d=Qf(n.charCodeAt(f++));if(c===void 0||d===void 0)throw new vr(`Invalid byte sequence ("${n[f-2]}${n[f-1]}" in "${n}").`);i[o]=c*16+d}return i}function ol(e,t){const r=Jf(e,t);return es(r)}function ts(e,t={}){const r=nl.encode(e);return typeof t.size=="number"?(Pr(r,{size:t.size}),$r(r,{dir:"right",size:t.size})):r}function rs(e,t){const r=t||"hex",n=Zi(bn(e,{strict:!1})?il(e):e);return r==="bytes"?n:Ji(n)}class ns extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Qi=new ns(8192);function fl(e,t){if(Qi.has(`${e}.${t}`))return Qi.get(`${e}.${t}`);const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=rs(ts(r),"bytes"),a=(t?r.substring(`${t}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&a[o]&&(a[o]=a[o].toUpperCase()),(n[o>>1]&15)>=8&&a[o+1]&&(a[o+1]=a[o+1].toUpperCase());const i=`0x${a.join("")}`;return Qi.set(`${e}.${t}`,i),i}function sl(e){const t=rs(`0x${e.substring(4)}`).substring(26);return fl(`0x${t}`)}async function cl({hash:e,signature:t}){const r=bn(e)?e:Ji(e),{secp256k1:n}=await Promise.resolve().then(function(){return k1});return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:l,v:p,yParity:w}=t,S=Number(w??p),E=is(S);return new n.Signature(Xi(d),Xi(l)).addRecoveryBit(E)}const o=bn(t)?t:Ji(t),f=Jh(`0x${o.slice(130)}`),c=is(f);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function is(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ul({hash:e,signature:t}){return sl(await cl({hash:e,signature:t}))}function dl(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),i=BigInt(4294967295),o=Number(r>>a&i),f=Number(r&i),c=n?4:0,d=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+d,f,n)}function hl(e,t,r){return e&t^~e&r}function ll(e,t,r){return e&t^e&r^t&r}class bl extends Wi{constructor(t,r,n,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ki(this.buffer)}update(t){Cr(this);const{view:r,buffer:n,blockLen:a}=this;t=Tr(t);const i=t.length;for(let o=0;o<i;){const f=Math.min(a-this.pos,i-o);if(f===a){const c=Ki(t);for(;a<=i-o;o+=a)this.process(c,o);continue}n.set(t.subarray(o,o+f),this.pos),this.pos+=f,o+=f,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Cr(this),Ff(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>a-o&&(this.process(n,0),o=0);for(let p=o;p<a;p++)r[p]=0;dl(n,a-8,BigInt(this.length*8),i),this.process(n,0);const f=Ki(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,l=this.get();if(d>l.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)f.setUint32(4*p,l[p],i)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:i,destroyed:o,pos:f}=this;return t.length=a,t.pos=f,t.finished=i,t.destroyed=o,a%r&&t.buffer.set(n),t}}const pl=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zt=new Uint32Array(64);class vl extends bl{constructor(){super(64,32,8,!1),this.A=Yt[0]|0,this.B=Yt[1]|0,this.C=Yt[2]|0,this.D=Yt[3]|0,this.E=Yt[4]|0,this.F=Yt[5]|0,this.G=Yt[6]|0,this.H=Yt[7]|0}get(){const{A:t,B:r,C:n,D:a,E:i,F:o,G:f,H:c}=this;return[t,r,n,a,i,o,f,c]}set(t,r,n,a,i,o,f,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=i|0,this.F=o|0,this.G=f|0,this.H=c|0}process(t,r){for(let p=0;p<16;p++,r+=4)Zt[p]=t.getUint32(r,!1);for(let p=16;p<64;p++){const w=Zt[p-15],S=Zt[p-2],E=yt(w,7)^yt(w,18)^w>>>3,M=yt(S,17)^yt(S,19)^S>>>10;Zt[p]=M+Zt[p-7]+E+Zt[p-16]|0}let{A:n,B:a,C:i,D:o,E:f,F:c,G:d,H:l}=this;for(let p=0;p<64;p++){const w=yt(f,6)^yt(f,11)^yt(f,25),S=l+w+hl(f,c,d)+pl[p]+Zt[p]|0,M=(yt(n,2)^yt(n,13)^yt(n,22))+ll(n,a,i)|0;l=d,d=c,c=f,f=o+S|0,o=i,i=a,a=n,n=S+M|0}n=n+this.A|0,a=a+this.B|0,i=i+this.C|0,o=o+this.D|0,f=f+this.E|0,c=c+this.F|0,d=d+this.G|0,l=l+this.H|0,this.set(n,a,i,o,f,c,d,l)}roundClean(){Zt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Gt=qf(()=>new vl);new ns(128);const gl=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),as=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),ml=as.map(e=>(9*e+5)%16);let yl=[as],wl=[ml];for(let e=0;e<4;e++)for(let t of[yl,wl])t.push(t[e].map(r=>gl[r]));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ln=BigInt(0),qn=BigInt(1),xl=BigInt(2);function gr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function wt(e){if(!gr(e))throw new Error("Uint8Array expected")}function Fr(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const El=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ur(e){wt(e);let t="";for(let r=0;r<e.length;r++)t+=El[e[r]];return t}function zr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function ea(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ln:BigInt("0x"+e)}const Pt={_0:48,_9:57,A:65,F:70,a:97,f:102};function os(e){if(e>=Pt._0&&e<=Pt._9)return e-Pt._0;if(e>=Pt.A&&e<=Pt.F)return e-(Pt.A-10);if(e>=Pt.a&&e<=Pt.f)return e-(Pt.a-10)}function Lr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let a=0,i=0;a<r;a++,i+=2){const o=os(e.charCodeAt(i)),f=os(e.charCodeAt(i+1));if(o===void 0||f===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[a]=o*16+f}return n}function xt(e){return ea(Ur(e))}function pn(e){return wt(e),ea(Ur(Uint8Array.from(e).reverse()))}function Xt(e,t){return Lr(e.toString(16).padStart(t*2,"0"))}function kn(e,t){return Xt(e,t).reverse()}function _l(e){return Lr(zr(e))}function Le(e,t,r){let n;if(typeof t=="string")try{n=Lr(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(gr(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const a=n.length;if(typeof r=="number"&&a!==r)throw new Error(e+" of length "+r+" expected, got "+a);return n}function at(...e){let t=0;for(let n=0;n<e.length;n++){const a=e[n];wt(a),t+=a.length}const r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const i=e[n];r.set(i,a),a+=i.length}return r}function Sl(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function jn(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const ta=e=>typeof e=="bigint"&&Ln<=e;function qr(e,t,r){return ta(e)&&ta(t)&&ta(r)&&t<=e&&e<r}function Et(e,t,r,n){if(!qr(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function fs(e){let t;for(t=0;e>Ln;e>>=qn,t+=1);return t}function Al(e,t){return e>>BigInt(t)&qn}function Dl(e,t,r){return e|(r?qn:Ln)<<BigInt(t)}const ra=e=>(xl<<BigInt(e-1))-qn,na=e=>new Uint8Array(e),ss=e=>Uint8Array.from(e);function cs(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=na(e),a=na(e),i=0;const o=()=>{n.fill(1),a.fill(0),i=0},f=(...p)=>r(a,n,...p),c=(p=na())=>{a=f(ss([0]),p),n=f(),p.length!==0&&(a=f(ss([1]),p),n=f())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const w=[];for(;p<t;){n=f();const S=n.slice();w.push(S),p+=n.length}return at(...w)};return(p,w)=>{o(),c(p);let S;for(;!(S=w(d()));)c();return o(),S}}const Ml={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||gr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function mr(e,t,r={}){const n=(a,i,o)=>{const f=Ml[i];if(typeof f!="function")throw new Error("invalid validator function");const c=e[a];if(!(o&&c===void 0)&&!f(c,e))throw new Error("param "+String(a)+" is invalid. Expected "+i+", got "+c)};for(const[a,i]of Object.entries(t))n(a,i,!1);for(const[a,i]of Object.entries(r))n(a,i,!0);return e}const Bl=()=>{throw new Error("not implemented")};function ia(e){const t=new WeakMap;return(r,...n)=>{const a=t.get(r);if(a!==void 0)return a;const i=e(r,...n);return t.set(r,i),i}}var Il=Object.freeze({__proto__:null,isBytes:gr,abytes:wt,abool:Fr,bytesToHex:Ur,numberToHexUnpadded:zr,hexToNumber:ea,hexToBytes:Lr,bytesToNumberBE:xt,bytesToNumberLE:pn,numberToBytesBE:Xt,numberToBytesLE:kn,numberToVarBytesBE:_l,ensureBytes:Le,concatBytes:at,equalBytes:Sl,utf8ToBytes:jn,inRange:qr,aInRange:Et,bitLen:fs,bitGet:Al,bitSet:Dl,bitMask:ra,createHmacDrbg:cs,validateObject:mr,notImplemented:Bl,memoized:ia});const Ol="0.1.1";function Nl(){return Ol}class et extends Error{constructor(t,r={}){const n=(()=>{if(r.cause instanceof et){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause?.message?r.cause.message:r.details})(),a=r.cause instanceof et&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${a??""}`,f=[t||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||a?["",n?`Details: ${n}`:void 0,a?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(f,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Nl()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=a,this.shortMessage=t}walk(t){return us(this,t)}}function us(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?us(e.cause,t):t?null:e}function Cl(e,t){if(ls(e)>t)throw new Ll({givenSize:ls(e),maxSize:t})}const Ft={zero:48,nine:57,A:65,F:70,a:97,f:102};function ds(e){if(e>=Ft.zero&&e<=Ft.nine)return e-Ft.zero;if(e>=Ft.A&&e<=Ft.F)return e-(Ft.A-10);if(e>=Ft.a&&e<=Ft.f)return e-(Ft.a-10)}function Rl(e,t={}){const{dir:r,size:n=32}=t;if(n===0)return e;if(e.length>n)throw new ql({size:e.length,targetSize:n,type:"Bytes"});const a=new Uint8Array(n);for(let i=0;i<n;i++){const o=r==="right";a[o?i:n-i-1]=e[o?i:e.length-i-1]}return a}function aa(e,t){if(fa(e)>t)throw new Yl({givenSize:fa(e),maxSize:t})}function hs(e,t={}){const{dir:r,size:n=32}=t;if(n===0)return e;const a=e.replace("0x","");if(a.length>n*2)throw new Zl({size:Math.ceil(a.length/2),targetSize:n,type:"Hex"});return`0x${a[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const Tl=new TextEncoder;function $l(e){return e instanceof Uint8Array?e:typeof e=="string"?Fl(e):Pl(e)}function Pl(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Fl(e,t={}){const{size:r}=t;let n=e;r&&(aa(e,r),n=oa(e,r));let a=n.slice(2);a.length%2&&(a=`0${a}`);const i=a.length/2,o=new Uint8Array(i);for(let f=0,c=0;f<i;f++){const d=ds(a.charCodeAt(c++)),l=ds(a.charCodeAt(c++));if(d===void 0||l===void 0)throw new et(`Invalid byte sequence ("${a[c-2]}${a[c-1]}" in "${a}").`);o[f]=d*16+l}return o}function Ul(e,t={}){const{size:r}=t,n=Tl.encode(e);return typeof r=="number"?(Cl(n,r),zl(n,r)):n}function zl(e,t){return Rl(e,{dir:"right",size:t})}function ls(e){return e.length}class Ll extends et{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class ql extends et{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const kl=new TextEncoder,jl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bs(...e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function Hl(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(aa(r,t.size),Hn(r,t.size)):r}function ps(e,t={}){let r="";for(let a=0;a<e.length;a++)r+=jl[e[a]];const n=`0x${r}`;return typeof t.size=="number"?(aa(n,t.size),oa(n,t.size)):n}function Vl(e,t={}){const{signed:r,size:n}=t,a=BigInt(e);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&a>i||a<o){const d=typeof e=="bigint"?"n":"";throw new Wl({max:i?`${i}${d}`:void 0,min:`${o}${d}`,signed:r,size:n,value:`${e}${d}`})}const c=`0x${(r&&a<0?(1n<<BigInt(n*8))+BigInt(a):a).toString(16)}`;return n?Hn(c,n):c}function Kl(e,t={}){return ps(kl.encode(e),t)}function Hn(e,t){return hs(e,{dir:"left",size:t})}function oa(e,t){return hs(e,{dir:"right",size:t})}function fa(e){return Math.ceil((e.length-2)/2)}class Wl extends et{constructor({max:t,min:r,signed:n,size:a,value:i}){super(`Number \`${i}\` is not in safe${a?` ${a*8}-bit`:""}${n?" signed":" unsigned"} integer range ${t?`(\`${r}\` to \`${t}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Yl extends et{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Zl extends et{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Gl(e,t={}){const{as:r=typeof e=="string"?"Hex":"Bytes"}=t,n=Zi($l(e));return r==="Bytes"?n:ps(n)}class Xl extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const sa={checksum:new Xl(8192)}.checksum,Jl=/^0x[a-fA-F0-9]{40}$/;function vs(e,t={}){const{strict:r=!0}=t;if(!Jl.test(e))throw new gs({address:e,cause:new e1});if(r){if(e.toLowerCase()===e)return;if(Ql(e)!==e)throw new gs({address:e,cause:new t1})}}function Ql(e){if(sa.has(e))return sa.get(e);vs(e,{strict:!1});const t=e.substring(2).toLowerCase(),r=Gl(Ul(t),{as:"Bytes"}),n=t.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&n[i]&&(n[i]=n[i].toUpperCase()),(r[i>>1]&15)>=8&&n[i+1]&&(n[i+1]=n[i+1].toUpperCase());const a=`0x${n.join("")}`;return sa.set(e,a),a}class gs extends et{constructor({address:t,cause:r}){super(`Address "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class e1 extends et{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class t1 extends et{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const r1=/^(.*)\[([0-9]*)\]$/,n1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,i1=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ca(e,t){if(e.length!==t.length)throw new o1({expectedLength:e.length,givenLength:t.length});const r=[];for(let n=0;n<e.length;n++){const a=e[n],i=t[n];r.push(ca.encode(a,i))}return bs(...r)}(function(e){function t(r,n,a=!1){if(r==="address"){const c=n;return vs(c),Hn(c.toLowerCase(),a?32:0)}if(r==="string")return Kl(n);if(r==="bytes")return n;if(r==="bool")return Hn(Hl(n),a?32:1);const i=r.match(i1);if(i){const[c,d,l="256"]=i,p=Number.parseInt(l)/8;return Vl(n,{size:a?32:p,signed:d==="int"})}const o=r.match(n1);if(o){const[c,d]=o;if(Number.parseInt(d)!==(n.length-2)/2)throw new a1({expectedSize:Number.parseInt(d),value:n});return oa(n,a?32:0)}const f=r.match(r1);if(f&&Array.isArray(n)){const[c,d]=f,l=[];for(let p=0;p<n.length;p++)l.push(t(d,n[p],!0));return l.length===0?"0x":bs(...l)}throw new f1(r)}e.encode=t})(ca||(ca={}));class a1 extends et{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${fa(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class o1 extends et{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class f1 extends et{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class ms extends Wi{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Vi(t);const n=Tr(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,i=new Uint8Array(a);i.set(n.length>a?t.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Cr(this),this.iHash.update(t),this}digestInto(t){Cr(this),hn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:a,destroyed:i,blockLen:o,outputLen:f}=this;return t=t,t.finished=a,t.destroyed=i,t.blockLen=o,t.outputLen=f,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vn=(e,t,r)=>new ms(e,t).update(r).digest();Vn.create=(e,t)=>new ms(e,t);const qe=BigInt(0),pe=BigInt(1),yr=BigInt(2),s1=BigInt(3),ua=BigInt(4),ys=BigInt(5),ws=BigInt(8);function ge(e,t){const r=e%t;return r>=qe?r:t+r}function xs(e,t,r){if(t<qe)throw new Error("invalid exponent, negatives unsupported");if(r<=qe)throw new Error("invalid modulus");if(r===pe)return qe;let n=pe;for(;t>qe;)t&pe&&(n=n*e%r),e=e*e%r,t>>=pe;return n}function ie(e,t,r){let n=e;for(;t-- >qe;)n*=n,n%=r;return n}function da(e,t){if(e===qe)throw new Error("invert: expected non-zero number");if(t<=qe)throw new Error("invert: expected positive modulus, got "+t);let r=ge(e,t),n=t,a=qe,i=pe;for(;r!==qe;){const f=n/r,c=n%r,d=a-i*f;n=r,r=c,a=i,i=d}if(n!==pe)throw new Error("invert: does not exist");return ge(a,t)}function c1(e){const t=(e-pe)/yr;let r,n,a;for(r=e-pe,n=0;r%yr===qe;r/=yr,n++);for(a=yr;a<e&&xs(a,t,e)!==e-pe;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(e+pe)/ua;return function(c,d){const l=c.pow(d,o);if(!c.eql(c.sqr(l),d))throw new Error("Cannot find square root");return l}}const i=(r+pe)/yr;return function(f,c){if(f.pow(c,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let d=n,l=f.pow(f.mul(f.ONE,a),r),p=f.pow(c,i),w=f.pow(c,r);for(;!f.eql(w,f.ONE);){if(f.eql(w,f.ZERO))return f.ZERO;let S=1;for(let M=f.sqr(w);S<d&&!f.eql(M,f.ONE);S++)M=f.sqr(M);const E=f.pow(l,pe<<BigInt(d-S-1));l=f.sqr(E),p=f.mul(p,E),w=f.mul(w,l),d=S}return p}}function u1(e){if(e%ua===s1){const t=(e+pe)/ua;return function(n,a){const i=n.pow(a,t);if(!n.eql(n.sqr(i),a))throw new Error("Cannot find square root");return i}}if(e%ws===ys){const t=(e-ys)/ws;return function(n,a){const i=n.mul(a,yr),o=n.pow(i,t),f=n.mul(a,o),c=n.mul(n.mul(f,yr),o),d=n.mul(f,n.sub(c,n.ONE));if(!n.eql(n.sqr(d),a))throw new Error("Cannot find square root");return d}}return c1(e)}const d1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Es(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=d1.reduce((n,a)=>(n[a]="function",n),t);return mr(e,r)}function h1(e,t,r){if(r<qe)throw new Error("invalid exponent, negatives unsupported");if(r===qe)return e.ONE;if(r===pe)return t;let n=e.ONE,a=t;for(;r>qe;)r&pe&&(n=e.mul(n,a)),a=e.sqr(a),r>>=pe;return n}function l1(e,t){const r=new Array(t.length),n=t.reduce((i,o,f)=>e.is0(o)?i:(r[f]=i,e.mul(i,o)),e.ONE),a=e.inv(n);return t.reduceRight((i,o,f)=>e.is0(o)?i:(r[f]=e.mul(i,r[f]),e.mul(i,o)),a),r}function _s(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Ss(e,t,r=!1,n={}){if(e<=qe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:a,nByteLength:i}=_s(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const f=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:i,MASK:ra(a),ZERO:qe,ONE:pe,create:c=>ge(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return qe<=c&&c<e},is0:c=>c===qe,isOdd:c=>(c&pe)===pe,neg:c=>ge(-c,e),eql:(c,d)=>c===d,sqr:c=>ge(c*c,e),add:(c,d)=>ge(c+d,e),sub:(c,d)=>ge(c-d,e),mul:(c,d)=>ge(c*d,e),pow:(c,d)=>h1(f,c,d),div:(c,d)=>ge(c*da(d,e),e),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>da(c,e),sqrt:n.sqrt||(c=>(o||(o=u1(e)),o(f,c))),invertBatch:c=>l1(f,c),cmov:(c,d,l)=>l?d:c,toBytes:c=>r?kn(c,i):Xt(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?pn(c):xt(c)}});return Object.freeze(f)}function As(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ds(e){const t=As(e);return t+Math.ceil(t/2)}function b1(e,t,r=!1){const n=e.length,a=As(t),i=Ds(t);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=r?pn(e):xt(e),f=ge(o,t-pe)+pe;return r?kn(f,a):Xt(f,a)}const Ms=BigInt(0),Kn=BigInt(1);function ha(e,t){const r=t.negate();return e?r:t}function Bs(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function la(e,t){Bs(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function p1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function v1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const ba=new WeakMap,Is=new WeakMap;function pa(e){return Is.get(e)||1}function g1(e,t){return{constTimeNegate:ha,hasPrecomputes(r){return pa(r)!==1},unsafeLadder(r,n,a=e.ZERO){let i=r;for(;n>Ms;)n&Kn&&(a=a.add(i)),i=i.double(),n>>=Kn;return a},precomputeWindow(r,n){const{windows:a,windowSize:i}=la(n,t),o=[];let f=r,c=f;for(let d=0;d<a;d++){c=f,o.push(c);for(let l=1;l<i;l++)c=c.add(f),o.push(c);f=c.double()}return o},wNAF(r,n,a){const{windows:i,windowSize:o}=la(r,t);let f=e.ZERO,c=e.BASE;const d=BigInt(2**r-1),l=2**r,p=BigInt(r);for(let w=0;w<i;w++){const S=w*o;let E=Number(a&d);a>>=p,E>o&&(E-=l,a+=Kn);const M=S,D=S+Math.abs(E)-1,I=w%2!==0,O=E<0;E===0?c=c.add(ha(I,n[M])):f=f.add(ha(O,n[D]))}return{p:f,f:c}},wNAFUnsafe(r,n,a,i=e.ZERO){const{windows:o,windowSize:f}=la(r,t),c=BigInt(2**r-1),d=2**r,l=BigInt(r);for(let p=0;p<o;p++){const w=p*f;if(a===Ms)break;let S=Number(a&c);if(a>>=l,S>f&&(S-=d,a+=Kn),S===0)continue;let E=n[w+Math.abs(S)-1];S<0&&(E=E.negate()),i=i.add(E)}return i},getPrecomputes(r,n,a){let i=ba.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&ba.set(n,a(i))),i},wNAFCached(r,n,a){const i=pa(r);return this.wNAF(i,this.getPrecomputes(i,r,a),n)},wNAFCachedUnsafe(r,n,a,i){const o=pa(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,a),n,i)},setWindowSize(r,n){Bs(n,t),Is.set(r,n),ba.delete(r)}}}function m1(e,t,r,n){if(p1(r,e),v1(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,i=fs(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,f=(1<<o)-1,c=new Array(f+1).fill(a),d=Math.floor((t.BITS-1)/o)*o;let l=a;for(let p=d;p>=0;p-=o){c.fill(a);for(let S=0;S<n.length;S++){const E=n[S],M=Number(E>>BigInt(p)&BigInt(f));c[M]=c[M].add(r[S])}let w=a;for(let S=c.length-1,E=a;S>0;S--)E=E.add(c[S]),w=w.add(E);if(l=l.add(w),p!==0)for(let S=0;S<o;S++)l=l.double()}return l}function Os(e){return Es(e.Fp),mr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._s(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Ns(e){e.lowS!==void 0&&Fr("lowS",e.lowS),e.prehash!==void 0&&Fr("prehash",e.prehash)}function y1(e){const t=Os(e);mr(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a}=t;if(r){if(!n.eql(a,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:w1,hexToBytes:x1}=Il;class E1 extends Error{constructor(t=""){super(t)}}const Ut={Err:E1,_tlv:{encode:(e,t)=>{const{Err:r}=Ut;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,a=zr(n);if(a.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?zr(a.length/2|128):"";return zr(e)+i+a+t},decode(e,t){const{Err:r}=Ut;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const a=t[n++],i=!!(a&128);let o=0;if(!i)o=a;else{const c=a&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const d=t.subarray(n,n+c);if(d.length!==c)throw new r("tlv.decode: length bytes not complete");if(d[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of d)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const f=t.subarray(n,n+o);if(f.length!==o)throw new r("tlv.decode: wrong value length");return{v:f,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=Ut;if(e<bt)throw new t("integer: negative integers are not allowed");let r=zr(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=Ut;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return w1(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=Ut,a=typeof e=="string"?x1(e):e;wt(a);const{v:i,l:o}=n.decode(48,a);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:f,l:c}=n.decode(2,i),{v:d,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(f),s:r.decode(d)}},hexFromSig(e){const{_tlv:t,_int:r}=Ut,n=t.encode(2,r.encode(e.r)),a=t.encode(2,r.encode(e.s)),i=n+a;return t.encode(48,i)}},bt=BigInt(0),Q=BigInt(1),Jt=BigInt(2),Wn=BigInt(3),Cs=BigInt(4);function _1(e){const t=y1(e),{Fp:r}=t,n=Ss(t.n,t.nBitLength),a=t.toBytes||((M,D,I)=>{const O=D.toAffine();return at(Uint8Array.from([4]),r.toBytes(O.x),r.toBytes(O.y))}),i=t.fromBytes||(M=>{const D=M.subarray(1),I=r.fromBytes(D.subarray(0,r.BYTES)),O=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:I,y:O}});function o(M){const{a:D,b:I}=t,O=r.sqr(M),N=r.mul(O,M);return r.add(r.add(N,r.mul(M,D)),I)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function f(M){return qr(M,Q,t.n)}function c(M){const{allowedPrivateKeyLengths:D,nByteLength:I,wrapPrivateKey:O,n:N}=t;if(D&&typeof M!="bigint"){if(gr(M)&&(M=Ur(M)),typeof M!="string"||!D.includes(M.length))throw new Error("invalid private key");M=M.padStart(I*2,"0")}let C;try{C=typeof M=="bigint"?M:xt(Le("private key",M,I))}catch{throw new Error("invalid private key, expected hex or "+I+" bytes, got "+typeof M)}return O&&(C=ge(C,N)),Et("private key",C,Q,N),C}function d(M){if(!(M instanceof w))throw new Error("ProjectivePoint expected")}const l=ia((M,D)=>{const{px:I,py:O,pz:N}=M;if(r.eql(N,r.ONE))return{x:I,y:O};const C=M.is0();D==null&&(D=C?r.ONE:r.inv(N));const F=r.mul(I,D),P=r.mul(O,D),$=r.mul(N,D);if(C)return{x:r.ZERO,y:r.ZERO};if(!r.eql($,r.ONE))throw new Error("invZ was invalid");return{x:F,y:P}}),p=ia(M=>{if(M.is0()){if(t.allowInfinityPoint&&!r.is0(M.py))return;throw new Error("bad point: ZERO")}const{x:D,y:I}=M.toAffine();if(!r.isValid(D)||!r.isValid(I))throw new Error("bad point: x or y not FE");const O=r.sqr(I),N=o(D);if(!r.eql(O,N))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(D,I,O){if(this.px=D,this.py=I,this.pz=O,D==null||!r.isValid(D))throw new Error("x required");if(I==null||!r.isValid(I))throw new Error("y required");if(O==null||!r.isValid(O))throw new Error("z required");Object.freeze(this)}static fromAffine(D){const{x:I,y:O}=D||{};if(!D||!r.isValid(I)||!r.isValid(O))throw new Error("invalid affine point");if(D instanceof w)throw new Error("projective point not allowed");const N=C=>r.eql(C,r.ZERO);return N(I)&&N(O)?w.ZERO:new w(I,O,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(D){const I=r.invertBatch(D.map(O=>O.pz));return D.map((O,N)=>O.toAffine(I[N])).map(w.fromAffine)}static fromHex(D){const I=w.fromAffine(i(Le("pointHex",D)));return I.assertValidity(),I}static fromPrivateKey(D){return w.BASE.multiply(c(D))}static msm(D,I){return m1(w,n,D,I)}_setWindowSize(D){E.setWindowSize(this,D)}assertValidity(){p(this)}hasEvenY(){const{y:D}=this.toAffine();if(r.isOdd)return!r.isOdd(D);throw new Error("Field doesn't support isOdd")}equals(D){d(D);const{px:I,py:O,pz:N}=this,{px:C,py:F,pz:P}=D,$=r.eql(r.mul(I,P),r.mul(C,N)),U=r.eql(r.mul(O,P),r.mul(F,N));return $&&U}negate(){return new w(this.px,r.neg(this.py),this.pz)}double(){const{a:D,b:I}=t,O=r.mul(I,Wn),{px:N,py:C,pz:F}=this;let P=r.ZERO,$=r.ZERO,U=r.ZERO,R=r.mul(N,N),k=r.mul(C,C),_=r.mul(F,F),s=r.mul(N,C);return s=r.add(s,s),U=r.mul(N,F),U=r.add(U,U),P=r.mul(D,U),$=r.mul(O,_),$=r.add(P,$),P=r.sub(k,$),$=r.add(k,$),$=r.mul(P,$),P=r.mul(s,P),U=r.mul(O,U),_=r.mul(D,_),s=r.sub(R,_),s=r.mul(D,s),s=r.add(s,U),U=r.add(R,R),R=r.add(U,R),R=r.add(R,_),R=r.mul(R,s),$=r.add($,R),_=r.mul(C,F),_=r.add(_,_),R=r.mul(_,s),P=r.sub(P,R),U=r.mul(_,k),U=r.add(U,U),U=r.add(U,U),new w(P,$,U)}add(D){d(D);const{px:I,py:O,pz:N}=this,{px:C,py:F,pz:P}=D;let $=r.ZERO,U=r.ZERO,R=r.ZERO;const k=t.a,_=r.mul(t.b,Wn);let s=r.mul(I,C),h=r.mul(O,F),v=r.mul(N,P),b=r.add(I,O),g=r.add(C,F);b=r.mul(b,g),g=r.add(s,h),b=r.sub(b,g),g=r.add(I,N);let x=r.add(C,P);return g=r.mul(g,x),x=r.add(s,v),g=r.sub(g,x),x=r.add(O,N),$=r.add(F,P),x=r.mul(x,$),$=r.add(h,v),x=r.sub(x,$),R=r.mul(k,g),$=r.mul(_,v),R=r.add($,R),$=r.sub(h,R),R=r.add(h,R),U=r.mul($,R),h=r.add(s,s),h=r.add(h,s),v=r.mul(k,v),g=r.mul(_,g),h=r.add(h,v),v=r.sub(s,v),v=r.mul(k,v),g=r.add(g,v),s=r.mul(h,g),U=r.add(U,s),s=r.mul(x,g),$=r.mul(b,$),$=r.sub($,s),s=r.mul(b,h),R=r.mul(x,R),R=r.add(R,s),new w($,U,R)}subtract(D){return this.add(D.negate())}is0(){return this.equals(w.ZERO)}wNAF(D){return E.wNAFCached(this,D,w.normalizeZ)}multiplyUnsafe(D){const{endo:I,n:O}=t;Et("scalar",D,bt,O);const N=w.ZERO;if(D===bt)return N;if(this.is0()||D===Q)return this;if(!I||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,D,w.normalizeZ);let{k1neg:C,k1:F,k2neg:P,k2:$}=I.splitScalar(D),U=N,R=N,k=this;for(;F>bt||$>bt;)F&Q&&(U=U.add(k)),$&Q&&(R=R.add(k)),k=k.double(),F>>=Q,$>>=Q;return C&&(U=U.negate()),P&&(R=R.negate()),R=new w(r.mul(R.px,I.beta),R.py,R.pz),U.add(R)}multiply(D){const{endo:I,n:O}=t;Et("scalar",D,Q,O);let N,C;if(I){const{k1neg:F,k1:P,k2neg:$,k2:U}=I.splitScalar(D);let{p:R,f:k}=this.wNAF(P),{p:_,f:s}=this.wNAF(U);R=E.constTimeNegate(F,R),_=E.constTimeNegate($,_),_=new w(r.mul(_.px,I.beta),_.py,_.pz),N=R.add(_),C=k.add(s)}else{const{p:F,f:P}=this.wNAF(D);N=F,C=P}return w.normalizeZ([N,C])[0]}multiplyAndAddUnsafe(D,I,O){const N=w.BASE,C=(P,$)=>$===bt||$===Q||!P.equals(N)?P.multiplyUnsafe($):P.multiply($),F=C(this,I).add(C(D,O));return F.is0()?void 0:F}toAffine(D){return l(this,D)}isTorsionFree(){const{h:D,isTorsionFree:I}=t;if(D===Q)return!0;if(I)return I(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:D,clearCofactor:I}=t;return D===Q?this:I?I(w,this):this.multiplyUnsafe(t.h)}toRawBytes(D=!0){return Fr("isCompressed",D),this.assertValidity(),a(w,this,D)}toHex(D=!0){return Fr("isCompressed",D),Ur(this.toRawBytes(D))}}w.BASE=new w(t.Gx,t.Gy,r.ONE),w.ZERO=new w(r.ZERO,r.ONE,r.ZERO);const S=t.nBitLength,E=g1(w,t.endo?Math.ceil(S/2):S);return{CURVE:t,ProjectivePoint:w,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:f}}function S1(e){const t=Os(e);return mr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function A1(e){const t=S1(e),{Fp:r,n}=t,a=r.BYTES+1,i=2*r.BYTES+1;function o(v){return ge(v,n)}function f(v){return da(v,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:p}=_1({...t,toBytes(v,b,g){const x=b.toAffine(),A=r.toBytes(x.x),m=at;return Fr("isCompressed",g),g?m(Uint8Array.from([b.hasEvenY()?2:3]),A):m(Uint8Array.from([4]),A,r.toBytes(x.y))},fromBytes(v){const b=v.length,g=v[0],x=v.subarray(1);if(b===a&&(g===2||g===3)){const A=xt(x);if(!qr(A,Q,r.ORDER))throw new Error("Point is not on curve");const m=l(A);let u;try{u=r.sqrt(m)}catch(z){const L=z instanceof Error?": "+z.message:"";throw new Error("Point is not on curve"+L)}const y=(u&Q)===Q;return(g&1)===1!==y&&(u=r.neg(u)),{x:A,y:u}}else if(b===i&&g===4){const A=r.fromBytes(x.subarray(0,r.BYTES)),m=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:A,y:m}}else{const A=a,m=i;throw new Error("invalid Point, expected length of "+A+", or uncompressed "+m+", got "+b)}}}),w=v=>Ur(Xt(v,t.nByteLength));function S(v){const b=n>>Q;return v>b}function E(v){return S(v)?o(-v):v}const M=(v,b,g)=>xt(v.slice(b,g));class D{constructor(b,g,x){this.r=b,this.s=g,this.recovery=x,this.assertValidity()}static fromCompact(b){const g=t.nByteLength;return b=Le("compactSignature",b,g*2),new D(M(b,0,g),M(b,g,2*g))}static fromDER(b){const{r:g,s:x}=Ut.toSig(Le("DER",b));return new D(g,x)}assertValidity(){Et("r",this.r,Q,n),Et("s",this.s,Q,n)}addRecoveryBit(b){return new D(this.r,this.s,b)}recoverPublicKey(b){const{r:g,s:x,recovery:A}=this,m=P(Le("msgHash",b));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const u=A===2||A===3?g+t.n:g;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const y=(A&1)===0?"02":"03",T=c.fromHex(y+w(u)),z=f(u),L=o(-m*z),q=o(x*z),j=c.BASE.multiplyAndAddUnsafe(T,L,q);if(!j)throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new D(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Lr(this.toDERHex())}toDERHex(){return Ut.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Lr(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const I={isValidPrivateKey(v){try{return d(v),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const v=Ds(t.n);return b1(t.randomBytes(v),t.n)},precompute(v=8,b=c.BASE){return b._setWindowSize(v),b.multiply(BigInt(3)),b}};function O(v,b=!0){return c.fromPrivateKey(v).toRawBytes(b)}function N(v){const b=gr(v),g=typeof v=="string",x=(b||g)&&v.length;return b?x===a||x===i:g?x===2*a||x===2*i:v instanceof c}function C(v,b,g=!0){if(N(v))throw new Error("first arg must be private key");if(!N(b))throw new Error("second arg must be public key");return c.fromHex(b).multiply(d(v)).toRawBytes(g)}const F=t.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const b=xt(v),g=v.length*8-t.nBitLength;return g>0?b>>BigInt(g):b},P=t.bits2int_modN||function(v){return o(F(v))},$=ra(t.nBitLength);function U(v){return Et("num < 2^"+t.nBitLength,v,bt,$),Xt(v,t.nByteLength)}function R(v,b,g=k){if(["recovered","canonical"].some(Z=>Z in g))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:A}=t;let{lowS:m,prehash:u,extraEntropy:y}=g;m==null&&(m=!0),v=Le("msgHash",v),Ns(g),u&&(v=Le("prehashed msgHash",x(v)));const T=P(v),z=d(b),L=[U(z),U(T)];if(y!=null&&y!==!1){const Z=y===!0?A(r.BYTES):y;L.push(Le("extraEntropy",Z))}const q=at(...L),j=T;function V(Z){const H=F(Z);if(!p(H))return;const W=f(H),Je=c.BASE.multiply(H).toAffine(),G=o(Je.x);if(G===bt)return;const J=o(W*o(j+G*z));if(J===bt)return;let lt=(Je.x===G?0:2)|Number(Je.y&Q),re=J;return m&&S(J)&&(re=E(J),lt^=1),new D(G,re,lt)}return{seed:q,k2sig:V}}const k={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};function s(v,b,g=k){const{seed:x,k2sig:A}=R(v,b,g),m=t;return cs(m.hash.outputLen,m.nByteLength,m.hmac)(x,A)}c.BASE._setWindowSize(8);function h(v,b,g,x=_){const A=v;b=Le("msgHash",b),g=Le("publicKey",g);const{lowS:m,prehash:u,format:y}=x;if(Ns(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(y!==void 0&&y!=="compact"&&y!=="der")throw new Error("format must be compact or der");const T=typeof A=="string"||gr(A),z=!T&&!y&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!T&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L,q;try{if(z&&(L=new D(A.r,A.s)),T){try{y!=="compact"&&(L=D.fromDER(A))}catch(lt){if(!(lt instanceof Ut.Err))throw lt}!L&&y!=="der"&&(L=D.fromCompact(A))}q=c.fromHex(g)}catch{return!1}if(!L||m&&L.hasHighS())return!1;u&&(b=t.hash(b));const{r:j,s:V}=L,Z=P(b),H=f(V),W=o(Z*H),Je=o(j*H),G=c.BASE.multiplyAndAddUnsafe(q,W,Je)?.toAffine();return G?o(G.x)===j:!1}return{CURVE:t,getPublicKey:O,getSharedSecret:C,sign:s,verify:h,ProjectivePoint:c,Signature:D,utils:I}}function D1(e,t){const r=e.ORDER;let n=bt;for(let E=r-Q;E%Jt===bt;E/=Jt)n+=Q;const a=n,i=Jt<<a-Q-Q,o=i*Jt,f=(r-Q)/o,c=(f-Q)/Jt,d=o-Q,l=i,p=e.pow(t,f),w=e.pow(t,(f+Q)/Jt);let S=(E,M)=>{let D=p,I=e.pow(M,d),O=e.sqr(I);O=e.mul(O,M);let N=e.mul(E,O);N=e.pow(N,c),N=e.mul(N,I),I=e.mul(N,M),O=e.mul(N,E);let C=e.mul(O,I);N=e.pow(C,l);let F=e.eql(N,e.ONE);I=e.mul(O,w),N=e.mul(C,D),O=e.cmov(I,O,F),C=e.cmov(N,C,F);for(let P=a;P>Q;P--){let $=P-Jt;$=Jt<<$-Q;let U=e.pow(C,$);const R=e.eql(U,e.ONE);I=e.mul(O,D),D=e.mul(D,D),U=e.mul(C,D),O=e.cmov(I,O,R),C=e.cmov(U,C,R)}return{isValid:F,value:O}};if(e.ORDER%Cs===Wn){const E=(e.ORDER-Wn)/Cs,M=e.sqrt(e.neg(t));S=(D,I)=>{let O=e.sqr(I);const N=e.mul(D,I);O=e.mul(O,N);let C=e.pow(O,E);C=e.mul(C,N);const F=e.mul(C,M),P=e.mul(e.sqr(C),I),$=e.eql(P,D);let U=e.cmov(F,C,$);return{isValid:$,value:U}}}return S}function M1(e,t){if(Es(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=D1(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let a,i,o,f,c,d,l,p;a=e.sqr(n),a=e.mul(a,t.Z),i=e.sqr(a),i=e.add(i,a),o=e.add(i,e.ONE),o=e.mul(o,t.B),f=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),f=e.mul(f,t.A),i=e.sqr(o),d=e.sqr(f),c=e.mul(d,t.A),i=e.add(i,c),i=e.mul(i,o),d=e.mul(d,f),c=e.mul(d,t.B),i=e.add(i,c),l=e.mul(a,o);const{isValid:w,value:S}=r(i,d);p=e.mul(a,n),p=e.mul(p,S),l=e.cmov(l,o,w),p=e.cmov(p,S,w);const E=e.isOdd(n)===e.isOdd(p);return p=e.cmov(e.neg(p),p,E),l=e.div(l,f),{x:l,y:p}}}function B1(e){return{hash:e,hmac:(t,...r)=>Vn(e,t,zh(...r)),randomBytes:pr}}function I1(e,t){const r=n=>A1({...e,...B1(n)});return{...r(t),create:r}}const O1=xt;function Qt(e,t){if(vn(e),vn(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function N1(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function vn(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function C1(e,t,r,n){wt(e),wt(t),vn(r),t.length>255&&(t=n(at(jn("H2C-OVERSIZE-DST-"),t)));const{outputLen:a,blockLen:i}=n,o=Math.ceil(r/a);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const f=at(t,Qt(t.length,1)),c=Qt(0,i),d=Qt(r,2),l=new Array(o),p=n(at(c,e,d,Qt(0,1),f));l[0]=n(at(p,Qt(1,1),f));for(let S=1;S<=o;S++){const E=[N1(p,l[S-1]),Qt(S+1,1),f];l[S]=n(at(...E))}return at(...l).slice(0,r)}function R1(e,t,r,n,a){if(wt(e),wt(t),vn(r),t.length>255){const i=Math.ceil(2*n/8);t=a.create({dkLen:i}).update(jn("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return a.create({dkLen:r}).update(e).update(Qt(r,2)).update(t).update(Qt(t.length,1)).digest()}function Rs(e,t,r){mr(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:a,m:i,hash:o,expand:f,DST:c}=r;wt(e),vn(t);const d=typeof c=="string"?jn(c):c,l=n.toString(2).length,p=Math.ceil((l+a)/8),w=t*i*p;let S;if(f==="xmd")S=C1(e,d,w,o);else if(f==="xof")S=R1(e,d,w,a,o);else if(f==="_internal_pass")S=e;else throw new Error('expand must be "xmd" or "xof"');const E=new Array(t);for(let M=0;M<t;M++){const D=new Array(i);for(let I=0;I<i;I++){const O=p*(I+M*i),N=S.subarray(O,O+p);D[I]=ge(O1(N),n)}E[M]=D}return E}function T1(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,a)=>{const[i,o,f,c]=r.map(d=>d.reduce((l,p)=>e.add(e.mul(l,n),p)));return n=e.div(i,o),a=e.mul(a,e.div(f,c)),{x:n,y:a}}}function $1(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,a){const i=Rs(n,2,{...r,DST:r.DST,...a}),o=e.fromAffine(t(i[0])),f=e.fromAffine(t(i[1])),c=o.add(f).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,a){const i=Rs(n,1,{...r,DST:r.encodeDST,...a}),o=e.fromAffine(t(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const i of n)if(typeof i!="bigint")throw new Error("mapToCurve: expected array of bigints");const a=e.fromAffine(t(n)).clearCofactor();return a.assertValidity(),a}}}const gn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yn=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mn=BigInt(1),Zn=BigInt(2),Ts=(e,t)=>(e+t/Zn)/t;function $s(e){const t=gn,r=BigInt(3),n=BigInt(6),a=BigInt(11),i=BigInt(22),o=BigInt(23),f=BigInt(44),c=BigInt(88),d=e*e*e%t,l=d*d*e%t,p=ie(l,r,t)*l%t,w=ie(p,r,t)*l%t,S=ie(w,Zn,t)*d%t,E=ie(S,a,t)*S%t,M=ie(E,i,t)*E%t,D=ie(M,f,t)*M%t,I=ie(D,c,t)*D%t,O=ie(I,f,t)*M%t,N=ie(O,r,t)*l%t,C=ie(N,o,t)*E%t,F=ie(C,n,t)*d%t,P=ie(F,Zn,t);if(!er.eql(er.sqr(P),e))throw new Error("Cannot find square root");return P}const er=Ss(gn,void 0,void 0,{sqrt:$s}),yn=I1({a:BigInt(0),b:BigInt(7),Fp:er,n:Yn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Yn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-mn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),f=Ts(i*e,t),c=Ts(-n*e,t);let d=ge(e-f*r-c*a,t),l=ge(-f*n-c*i,t);const p=d>o,w=l>o;if(p&&(d=t-d),w&&(l=t-l),d>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:p,k1:d,k2neg:w,k2:l}}}},Gt),Ps=BigInt(0),Fs={};function Gn(e,...t){let r=Fs[e];if(r===void 0){const n=Gt(Uint8Array.from(e,a=>a.charCodeAt(0)));r=at(n,n),Fs[e]=r}return Gt(at(r,...t))}const va=e=>e.toRawBytes(!0).slice(1),ga=e=>Xt(e,32),ma=e=>ge(e,gn),wn=e=>ge(e,Yn),ya=yn.ProjectivePoint,P1=(e,t,r)=>ya.BASE.multiplyAndAddUnsafe(e,t,r);function wa(e){let t=yn.utils.normPrivateKeyToScalar(e),r=ya.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:wn(-t),bytes:va(r)}}function Us(e){Et("x",e,mn,gn);const t=ma(e*e),r=ma(t*e+BigInt(7));let n=$s(r);n%Zn!==Ps&&(n=ma(-n));const a=new ya(e,n,mn);return a.assertValidity(),a}const kr=xt;function zs(...e){return wn(kr(Gn("BIP0340/challenge",...e)))}function F1(e){return wa(e).bytes}function U1(e,t,r=pr(32)){const n=Le("message",e),{bytes:a,scalar:i}=wa(t),o=Le("auxRand",r,32),f=ga(i^kr(Gn("BIP0340/aux",o))),c=Gn("BIP0340/nonce",f,a,n),d=wn(kr(c));if(d===Ps)throw new Error("sign failed: k is zero");const{bytes:l,scalar:p}=wa(d),w=zs(l,a,n),S=new Uint8Array(64);if(S.set(l,0),S.set(ga(wn(p+w*i)),32),!Ls(S,n,a))throw new Error("sign: Invalid signature produced");return S}function Ls(e,t,r){const n=Le("signature",e,64),a=Le("message",t),i=Le("publicKey",r,32);try{const o=Us(kr(i)),f=kr(n.subarray(0,32));if(!qr(f,mn,gn))return!1;const c=kr(n.subarray(32,64));if(!qr(c,mn,Yn))return!1;const d=zs(ga(f),va(o),a),l=P1(o,c,wn(-d));return!(!l||!l.hasEvenY()||l.toAffine().x!==f)}catch{return!1}}const z1={getPublicKey:F1,sign:U1,verify:Ls,utils:{randomPrivateKey:yn.utils.randomPrivateKey,lift_x:Us,pointToBytes:va,numberToBytesBE:Xt,bytesToNumberBE:xt,taggedHash:Gn,mod:ge}},L1=T1(er,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),q1=M1(er,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:er.create(BigInt("-11"))}),qs=$1(yn.ProjectivePoint,e=>{const{x:t,y:r}=q1(er.create(e[0]));return L1(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:er.ORDER,m:1,k:128,expand:"xmd",hash:Gt});var k1=Object.freeze({__proto__:null,secp256k1:yn,schnorr:z1,hashToCurve:qs.hashToCurve,encodeToCurve:qs.encodeToCurve});function j1(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let d=0;d<t.length;d++)t[d]=255;for(let d=0;d<e.length;d++){const l=e.charAt(d),p=l.charCodeAt(0);if(t[p]!==255)throw new TypeError(l+" is ambiguous");t[p]=d}const r=e.length,n=e.charAt(0),a=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function o(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let l=0,p=0,w=0;const S=d.length;for(;w!==S&&d[w]===0;)w++,l++;const E=(S-w)*i+1>>>0,M=new Uint8Array(E);for(;w!==S;){let O=d[w],N=0;for(let C=E-1;(O!==0||N<p)&&C!==-1;C--,N++)O+=256*M[C]>>>0,M[C]=O%r>>>0,O=O/r>>>0;if(O!==0)throw new Error("Non-zero carry");p=N,w++}let D=E-p;for(;D!==E&&M[D]===0;)D++;let I=n.repeat(l);for(;D<E;++D)I+=e.charAt(M[D]);return I}function f(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let l=0,p=0,w=0;for(;d[l]===n;)p++,l++;const S=(d.length-l)*a+1>>>0,E=new Uint8Array(S);for(;d[l];){let O=t[d.charCodeAt(l)];if(O===255)return;let N=0;for(let C=S-1;(O!==0||N<w)&&C!==-1;C--,N++)O+=r*E[C]>>>0,E[C]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");w=N,l++}let M=S-w;for(;M!==S&&E[M]===0;)M++;const D=new Uint8Array(p+(S-M));let I=p;for(;M!==S;)D[I++]=E[M++];return D}function c(d){const l=f(d);if(l)return l;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:f,decode:c}}var H1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",V1=j1(H1);const K1="https://rpc.walletconnect.org/v1";function xa(e){const t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+Buffer.from(Zi(r)).toString("hex")}async function ks(e,t,r,n,a,i){switch(r.t){case"eip191":return await js(e,t,r.s);case"eip1271":return await Hs(e,t,r.s,n,a,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function js(e,t,r){return(await ul({hash:xa(t),signature:r})).toLowerCase()===e.toLowerCase()}async function Hs(e,t,r,n,a,i){const o=Mi(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const f="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",d="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),p=xa(t).substring(2),w=f+p+c+d+l,S=await fetch(`${i||K1}/?chainId=${n}&projectId=${a}`,{method:"POST",body:JSON.stringify({id:W1(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:w},"latest"]})}),{result:E}=await S.json();return E?E.slice(0,f.length).toLowerCase()===f.toLowerCase():!1}catch(f){return console.error("isValidEip1271Signature: ",f),!1}}function W1(){return Date.now()+Math.floor(Math.random()*1e3)}function Y1(e){const t=atob(e),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const a=1+n*64;if(r.length<a)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const i=Buffer.from(e,"base64").slice(1,65);return V1.encode(i)}var Z1=Object.defineProperty,G1=Object.defineProperties,X1=Object.getOwnPropertyDescriptors,Vs=Object.getOwnPropertySymbols,J1=Object.prototype.hasOwnProperty,Q1=Object.prototype.propertyIsEnumerable,Ks=(e,t,r)=>t in e?Z1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ea=(e,t)=>{for(var r in t||(t={}))J1.call(t,r)&&Ks(e,r,t[r]);if(Vs)for(var r of Vs(t))Q1.call(t,r)&&Ks(e,r,t[r]);return e},Ws=(e,t)=>G1(e,X1(t));const eb="did:pkh:",Xn=e=>e?.split(":"),Ys=e=>{const t=e&&Xn(e);if(t)return e.includes(eb)?t[3]:t[1]},Zs=e=>{const t=e&&Xn(e);if(t)return t[2]+":"+t[3]},_a=e=>{const t=e&&Xn(e);if(t)return t.pop()};async function tb(e){const{cacao:t,projectId:r}=e,{s:n,p:a}=t,i=Gs(a,a.iss),o=_a(a.iss);return await ks(o,i,n,Zs(a.iss),r)}const Gs=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,n=_a(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let a=e.statement||void 0;const i=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,f=`Chain ID: ${Ys(t)}`,c=`Nonce: ${e.nonce}`,d=`Issued At: ${e.iat}`,l=e.exp?`Expiration Time: ${e.exp}`:void 0,p=e.nbf?`Not Before: ${e.nbf}`:void 0,w=e.requestId?`Request ID: ${e.requestId}`:void 0,S=e.resources?`Resources:${e.resources.map(M=>`
- ${M}`).join("")}`:void 0,E=Qn(e.resources);if(E){const M=tr(E);a=Da(a,M)}return[r,n,"",a,"",i,o,f,c,d,l,p,w,S].filter(M=>M!=null).join(`
`)};function rb(e,t,r){return r.includes("did:pkh:")||(r=`did:pkh:${r}`),{h:{t:"caip122"},p:{iss:r,domain:e.domain,aud:e.aud,version:e.version,nonce:e.nonce,iat:e.iat,statement:e.statement,requestId:e.requestId,resources:e.resources,nbf:e.nbf,exp:e.exp},s:t}}function nb(e){var t;const{authPayload:r,chains:n,methods:a}=e,i=r.statement||"";if(!(n!=null&&n.length))return r;const o=r.chains,f=ji(o,n);if(!(f!=null&&f.length))throw new Error("No supported chains");const c=Xs(r.resources);if(!c)return r;_t(c);const d=Js(c,"eip155");let l=r?.resources||[];if(d!=null&&d.length){const p=Qs(d),w=ji(p,a);if(!(w!=null&&w.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(p)}, supported: ${JSON.stringify(a)}`);const S=Sa("request",w,{chains:f}),E=nc(c,"eip155",S);l=((t=r?.resources)==null?void 0:t.slice(0,-1))||[],l.push(Jn(E))}return Ws(Ea({},r),{statement:ac(i,Qn(l)),chains:f,resources:r!=null&&r.resources||l.length>0?l:void 0})}function Xs(e){const t=Qn(e);if(t&&Aa(t))return tr(t)}function ib(e,t){var r;return(r=e?.att)==null?void 0:r.hasOwnProperty(t)}function Js(e,t){var r,n;return(r=e?.att)!=null&&r[t]?Object.keys((n=e?.att)==null?void 0:n[t]):[]}function ab(e){return e?.map(t=>Object.keys(t))||[]}function Qs(e){return e?.map(t=>{var r;return(r=t.split("/"))==null?void 0:r[1]})||[]}function ec(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function tc(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function _t(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const n=e.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(a=>{const i=n[a];if(!Array.isArray(i))throw new Error(`Ability limits ${a} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${a} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${a}) must be an array of objects, found: ${o}`)})})})}function rc(e,t,r,n={}){return r?.sort((a,i)=>a.localeCompare(i)),{att:{[e]:Sa(t,r,n)}}}function nc(e,t,r){var n;e.att[t]=Ea({},r);const a=(n=Object.keys(e.att))==null?void 0:n.sort((o,f)=>o.localeCompare(f)),i={att:{}};return a.reduce((o,f)=>(o.att[f]=e.att[f],o),i)}function Sa(e,t,r={}){t=t?.sort((a,i)=>a.localeCompare(i));const n=t.map(a=>({[`${e}/${a}`]:[r]}));return Object.assign({},...n)}function Jn(e){return _t(e),`urn:recap:${ec(e).replace(/=/g,"")}`}function tr(e){const t=tc(e.replace("urn:recap:",""));return _t(t),t}function ob(e,t,r){const n=rc(e,t,r);return Jn(n)}function Aa(e){return e&&e.includes("urn:recap:")}function fb(e,t){const r=tr(e),n=tr(t),a=ic(r,n);return Jn(a)}function ic(e,t){_t(e),_t(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((a,i)=>a.localeCompare(i)),n={att:{}};return r.forEach(a=>{var i,o;Object.keys(((i=e.att)==null?void 0:i[a])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[a])||{})).sort((f,c)=>f.localeCompare(c)).forEach(f=>{var c,d;n.att[a]=Ws(Ea({},n.att[a]),{[f]:((c=e.att[a])==null?void 0:c[f])||((d=t.att[a])==null?void 0:d[f])})})}),n}function Da(e="",t){_t(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const n=[];let a=0;Object.keys(t.att).forEach(f=>{const c=Object.keys(t.att[f]).map(p=>({ability:p.split("/")[0],action:p.split("/")[1]}));c.sort((p,w)=>p.action.localeCompare(w.action));const d={};c.forEach(p=>{d[p.ability]||(d[p.ability]=[]),d[p.ability].push(p.action)});const l=Object.keys(d).map(p=>(a++,`(${a}) '${p}': '${d[p].join("', '")}' for '${f}'.`));n.push(l.join(", ").replace(".,","."))});const i=n.join(" "),o=`${r}${i}`;return`${e?e+" ":""}${o}`}function sb(e){var t;const r=tr(e);_t(r);const n=(t=r.att)==null?void 0:t.eip155;return n?Object.keys(n).map(a=>a.split("/")[1]):[]}function cb(e){const t=tr(e);_t(t);const r=[];return Object.values(t.att).forEach(n=>{Object.values(n).forEach(a=>{var i;(i=a?.[0])!=null&&i.chains&&r.push(a[0].chains)})}),[...new Set(r.flat())]}function ac(e,t){if(!t)return e;const r=tr(t);return _t(r),Da(e,r)}function Qn(e){if(!e)return;const t=e?.[e.length-1];return Aa(t)?t:void 0}function Ma(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function oc(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ot(e,...t){if(!oc(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function fc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ub(e,t){ot(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function sc(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}const rr=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),db=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function hb(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Ba(e){if(typeof e=="string")e=hb(e);else if(oc(e))e=Ia(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function lb(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function bb(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}const pb=(e,t)=>{function r(n,...a){if(ot(n),e.nonceLength!==void 0){const l=a[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?ot(l):ot(l,e.nonceLength)}const i=e.tagLength;i&&a[1]!==void 0&&ot(a[1]);const o=t(n,...a),f=(l,p)=>{if(p!==void 0){if(l!==2)throw new Error("cipher output not supported");ot(p)}};let c=!1;return{encrypt(l,p){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ot(l),f(o.encrypt.length,p),o.encrypt(l,p)},decrypt(l,p){if(ot(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return f(o.decrypt.length,p),o.decrypt(l,p)}}}return Object.assign(r,e),r};function cc(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!vb(t))throw new Error("invalid output, must be aligned");return t}function uc(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),i=BigInt(4294967295),o=Number(r>>a&i),f=Number(r&i),c=n?4:0,d=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+d,f,n)}function vb(e){return e.byteOffset%4===0}function Ia(e){return Uint8Array.from(e)}function jr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const dc=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),gb=dc("expand 16-byte k"),mb=dc("expand 32-byte k"),yb=rr(gb),wb=rr(mb);function X(e,t){return e<<t|e>>>32-t}function Oa(e){return e.byteOffset%4===0}const ei=64,xb=16,hc=2**32-1,lc=new Uint32Array;function Eb(e,t,r,n,a,i,o,f){const c=a.length,d=new Uint8Array(ei),l=rr(d),p=Oa(a)&&Oa(i),w=p?rr(a):lc,S=p?rr(i):lc;for(let E=0;E<c;o++){if(e(t,r,n,l,o,f),o>=hc)throw new Error("arx: counter overflow");const M=Math.min(ei,c-E);if(p&&M===ei){const D=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let I=0,O;I<xb;I++)O=D+I,S[O]=w[O]^l[I];E+=ei;continue}for(let D=0,I;D<M;D++)I=E+D,i[I]=a[I]^d[D];E+=M}}function _b(e,t){const{allowShortKeys:r,extendNonceFn:n,counterLength:a,counterRight:i,rounds:o}=lb({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Ma(a),Ma(o),sc(i),sc(r),(f,c,d,l,p=0)=>{ot(f),ot(c),ot(d);const w=d.length;if(l===void 0&&(l=new Uint8Array(w)),ot(l),Ma(p),p<0||p>=hc)throw new Error("arx: counter overflow");if(l.length<w)throw new Error(`arx: output (${l.length}) is shorter than data (${w})`);const S=[];let E=f.length,M,D;if(E===32)S.push(M=Ia(f)),D=wb;else if(E===16&&r)M=new Uint8Array(32),M.set(f),M.set(f,16),D=yb,S.push(M);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);Oa(c)||S.push(c=Ia(c));const I=rr(M);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(D,I,rr(c.subarray(0,16)),I),c=c.subarray(16)}const O=16-a;if(O!==c.length)throw new Error(`arx: nonce must be ${O} or 16 bytes`);if(O!==12){const C=new Uint8Array(12);C.set(c,i?0:12-c.length),c=C,S.push(c)}const N=rr(c);return Eb(e,D,I,N,d,l,p,o),jr(...S),l}}const Ke=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class Sb{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=Ba(t),ot(t,32);const r=Ke(t,0),n=Ke(t,2),a=Ke(t,4),i=Ke(t,6),o=Ke(t,8),f=Ke(t,10),c=Ke(t,12),d=Ke(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|a<<6)&7939,this.r[3]=(a>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|f<<2)&8191,this.r[7]=(f>>>11|c<<5)&8065,this.r[8]=(c>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Ke(t,16+2*l)}process(t,r,n=!1){const a=n?0:2048,{h:i,r:o}=this,f=o[0],c=o[1],d=o[2],l=o[3],p=o[4],w=o[5],S=o[6],E=o[7],M=o[8],D=o[9],I=Ke(t,r+0),O=Ke(t,r+2),N=Ke(t,r+4),C=Ke(t,r+6),F=Ke(t,r+8),P=Ke(t,r+10),$=Ke(t,r+12),U=Ke(t,r+14);let R=i[0]+(I&8191),k=i[1]+((I>>>13|O<<3)&8191),_=i[2]+((O>>>10|N<<6)&8191),s=i[3]+((N>>>7|C<<9)&8191),h=i[4]+((C>>>4|F<<12)&8191),v=i[5]+(F>>>1&8191),b=i[6]+((F>>>14|P<<2)&8191),g=i[7]+((P>>>11|$<<5)&8191),x=i[8]+(($>>>8|U<<8)&8191),A=i[9]+(U>>>5|a),m=0,u=m+R*f+k*(5*D)+_*(5*M)+s*(5*E)+h*(5*S);m=u>>>13,u&=8191,u+=v*(5*w)+b*(5*p)+g*(5*l)+x*(5*d)+A*(5*c),m+=u>>>13,u&=8191;let y=m+R*c+k*f+_*(5*D)+s*(5*M)+h*(5*E);m=y>>>13,y&=8191,y+=v*(5*S)+b*(5*w)+g*(5*p)+x*(5*l)+A*(5*d),m+=y>>>13,y&=8191;let T=m+R*d+k*c+_*f+s*(5*D)+h*(5*M);m=T>>>13,T&=8191,T+=v*(5*E)+b*(5*S)+g*(5*w)+x*(5*p)+A*(5*l),m+=T>>>13,T&=8191;let z=m+R*l+k*d+_*c+s*f+h*(5*D);m=z>>>13,z&=8191,z+=v*(5*M)+b*(5*E)+g*(5*S)+x*(5*w)+A*(5*p),m+=z>>>13,z&=8191;let L=m+R*p+k*l+_*d+s*c+h*f;m=L>>>13,L&=8191,L+=v*(5*D)+b*(5*M)+g*(5*E)+x*(5*S)+A*(5*w),m+=L>>>13,L&=8191;let q=m+R*w+k*p+_*l+s*d+h*c;m=q>>>13,q&=8191,q+=v*f+b*(5*D)+g*(5*M)+x*(5*E)+A*(5*S),m+=q>>>13,q&=8191;let j=m+R*S+k*w+_*p+s*l+h*d;m=j>>>13,j&=8191,j+=v*c+b*f+g*(5*D)+x*(5*M)+A*(5*E),m+=j>>>13,j&=8191;let V=m+R*E+k*S+_*w+s*p+h*l;m=V>>>13,V&=8191,V+=v*d+b*c+g*f+x*(5*D)+A*(5*M),m+=V>>>13,V&=8191;let Z=m+R*M+k*E+_*S+s*w+h*p;m=Z>>>13,Z&=8191,Z+=v*l+b*d+g*c+x*f+A*(5*D),m+=Z>>>13,Z&=8191;let H=m+R*D+k*M+_*E+s*S+h*w;m=H>>>13,H&=8191,H+=v*p+b*l+g*d+x*c+A*f,m+=H>>>13,H&=8191,m=(m<<2)+m|0,m=m+u|0,u=m&8191,m=m>>>13,y+=m,i[0]=u,i[1]=y,i[2]=T,i[3]=z,i[4]=L,i[5]=q,i[6]=j,i[7]=V,i[8]=Z,i[9]=H}finalize(){const{h:t,pad:r}=this,n=new Uint16Array(10);let a=t[1]>>>13;t[1]&=8191;for(let f=2;f<10;f++)t[f]+=a,a=t[f]>>>13,t[f]&=8191;t[0]+=a*5,a=t[0]>>>13,t[0]&=8191,t[1]+=a,a=t[1]>>>13,t[1]&=8191,t[2]+=a,n[0]=t[0]+5,a=n[0]>>>13,n[0]&=8191;for(let f=1;f<10;f++)n[f]=t[f]+a,a=n[f]>>>13,n[f]&=8191;n[9]-=8192;let i=(a^1)-1;for(let f=0;f<10;f++)n[f]&=i;i=~i;for(let f=0;f<10;f++)t[f]=t[f]&i|n[f];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+r[0];t[0]=o&65535;for(let f=1;f<8;f++)o=(t[f]+r[f]|0)+(o>>>16)|0,t[f]=o&65535;jr(n)}update(t){fc(this);const{buffer:r,blockLen:n}=this;t=Ba(t);const a=t.length;for(let i=0;i<a;){const o=Math.min(n-this.pos,a-i);if(o===n){for(;n<=a-i;i+=n)this.process(t,i);continue}r.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){jr(this.h,this.r,this.buffer,this.pad)}digestInto(t){fc(this),ub(t,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:a}=this;if(a){for(r[a++]=1;a<16;a++)r[a]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)t[i++]=n[o]>>>0,t[i++]=n[o]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}}function Ab(e){const t=(n,a)=>e(a).update(Ba(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const Db=Ab(e=>new Sb(e));function Mb(e,t,r,n,a,i=20){let o=e[0],f=e[1],c=e[2],d=e[3],l=t[0],p=t[1],w=t[2],S=t[3],E=t[4],M=t[5],D=t[6],I=t[7],O=a,N=r[0],C=r[1],F=r[2],P=o,$=f,U=c,R=d,k=l,_=p,s=w,h=S,v=E,b=M,g=D,x=I,A=O,m=N,u=C,y=F;for(let z=0;z<i;z+=2)P=P+k|0,A=X(A^P,16),v=v+A|0,k=X(k^v,12),P=P+k|0,A=X(A^P,8),v=v+A|0,k=X(k^v,7),$=$+_|0,m=X(m^$,16),b=b+m|0,_=X(_^b,12),$=$+_|0,m=X(m^$,8),b=b+m|0,_=X(_^b,7),U=U+s|0,u=X(u^U,16),g=g+u|0,s=X(s^g,12),U=U+s|0,u=X(u^U,8),g=g+u|0,s=X(s^g,7),R=R+h|0,y=X(y^R,16),x=x+y|0,h=X(h^x,12),R=R+h|0,y=X(y^R,8),x=x+y|0,h=X(h^x,7),P=P+_|0,y=X(y^P,16),g=g+y|0,_=X(_^g,12),P=P+_|0,y=X(y^P,8),g=g+y|0,_=X(_^g,7),$=$+s|0,A=X(A^$,16),x=x+A|0,s=X(s^x,12),$=$+s|0,A=X(A^$,8),x=x+A|0,s=X(s^x,7),U=U+h|0,m=X(m^U,16),v=v+m|0,h=X(h^v,12),U=U+h|0,m=X(m^U,8),v=v+m|0,h=X(h^v,7),R=R+k|0,u=X(u^R,16),b=b+u|0,k=X(k^b,12),R=R+k|0,u=X(u^R,8),b=b+u|0,k=X(k^b,7);let T=0;n[T++]=o+P|0,n[T++]=f+$|0,n[T++]=c+U|0,n[T++]=d+R|0,n[T++]=l+k|0,n[T++]=p+_|0,n[T++]=w+s|0,n[T++]=S+h|0,n[T++]=E+v|0,n[T++]=M+b|0,n[T++]=D+g|0,n[T++]=I+x|0,n[T++]=O+A|0,n[T++]=N+m|0,n[T++]=C+u|0,n[T++]=F+y|0}const Bb=_b(Mb,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ib=new Uint8Array(16),bc=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(Ib.subarray(r))},Ob=new Uint8Array(32);function pc(e,t,r,n,a){const i=e(t,r,Ob),o=Db.create(i);a&&bc(o,a),bc(o,n);const f=new Uint8Array(16),c=db(f);uc(c,0,BigInt(a?a.length:0),!0),uc(c,8,BigInt(n.length),!0),o.update(f);const d=o.digest();return jr(i,f),d}const vc=pb({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,r,n)=>({encrypt(i,o){const f=i.length;o=cc(f+16,o,!1),o.set(i);const c=o.subarray(0,-16);e(t,r,c,c,1);const d=pc(e,t,r,c,n);return o.set(d,f),jr(d),o},decrypt(i,o){o=cc(i.length-16,o,!1);const f=i.subarray(0,-16),c=i.subarray(-16),d=pc(e,t,r,f,n);if(!bb(c,d))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),e(t,r,o,o,1),jr(d),o}}))(Bb));function Nb(e,t,r){return Vi(e),r===void 0&&(r=new Uint8Array(e.outputLen)),Vn(e,Tr(r),Tr(t))}const Na=new Uint8Array([0]),gc=new Uint8Array;function Cb(e,t,r,n=32){if(Vi(e),dn(n),n>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const a=Math.ceil(n/e.outputLen);r===void 0&&(r=gc);const i=new Uint8Array(a*e.outputLen),o=Vn.create(e,t),f=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let d=0;d<a;d++)Na[0]=d+1,f.update(d===0?gc:c).update(r).update(Na).digestInto(c),i.set(c,e.outputLen*d),o._cloneInto(f);return o.destroy(),f.destroy(),c.fill(0),Na.fill(0),i.slice(0,n)}const Rb=(e,t,r,n,a)=>Cb(e,Nb(e,t,r),n,a);BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Hr=BigInt(0),Ca=BigInt(1);function Tb(e){return mr(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function $b(e){const t=Tb(e),{P:r}=t,n=O=>ge(O,r),a=t.montgomeryBits,i=Math.ceil(a/8),o=t.nByteLength,f=t.adjustScalarBytes||(O=>O),c=t.powPminus2||(O=>xs(O,r-BigInt(2),r));function d(O,N,C){const F=n(O*(N-C));return N=n(N-F),C=n(C+F),[N,C]}const l=(t.a-BigInt(2))/BigInt(4);function p(O,N){Et("u",O,Hr,r),Et("scalar",N,Hr,r);const C=N,F=O;let P=Ca,$=Hr,U=O,R=Ca,k=Hr,_;for(let h=BigInt(a-1);h>=Hr;h--){const v=C>>h&Ca;k^=v,_=d(k,P,U),P=_[0],U=_[1],_=d(k,$,R),$=_[0],R=_[1],k=v;const b=P+$,g=n(b*b),x=P-$,A=n(x*x),m=g-A,u=U+R,y=U-R,T=n(y*b),z=n(u*x),L=T+z,q=T-z;U=n(L*L),R=n(F*n(q*q)),P=n(g*A),$=n(m*(g+n(l*m)))}_=d(k,P,U),P=_[0],U=_[1],_=d(k,$,R),$=_[0],R=_[1];const s=c($);return n(P*s)}function w(O){return kn(n(O),i)}function S(O){const N=Le("u coordinate",O,i);return o===32&&(N[31]&=127),pn(N)}function E(O){const N=Le("scalar",O),C=N.length;if(C!==i&&C!==o){let F=""+i+" or "+o;throw new Error("invalid scalar, expected "+F+" bytes, got "+C)}return pn(f(N))}function M(O,N){const C=S(N),F=E(O),P=p(C,F);if(P===Hr)throw new Error("invalid private or public key received");return w(P)}const D=w(t.Gu);function I(O){return M(O,D)}return{scalarMult:M,scalarMultBase:I,getSharedSecret:(O,N)=>M(O,N),getPublicKey:O=>I(O),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:D}}const Ra=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const Pb=BigInt(1),mc=BigInt(2),Fb=BigInt(3),Ub=BigInt(5);BigInt(8);function zb(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),a=BigInt(80),i=Ra,f=e*e%i*e%i,c=ie(f,mc,i)*f%i,d=ie(c,Pb,i)*e%i,l=ie(d,Ub,i)*d%i,p=ie(l,t,i)*l%i,w=ie(p,r,i)*p%i,S=ie(w,n,i)*w%i,E=ie(S,a,i)*S%i,M=ie(E,a,i)*S%i,D=ie(M,t,i)*l%i;return{pow_p_5_8:ie(D,mc,i)*e%i,b2:f}}function Lb(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ta=$b({P:Ra,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=Ra,{pow_p_5_8:r,b2:n}=zb(e);return ge(ie(r,Fb,t)*n,t)},adjustScalarBytes:Lb,randomBytes:pr}),qb=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,a)=>typeof a=="string"&&a.match(/^\d+n$/)?BigInt(a.substring(0,a.length-1)):a)};function kb(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return qb(e)}catch{return e}}function jb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function yc(e,...t){if(!jb(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function wc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Hb(e,t){yc(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Vr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $a=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Vb(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function xc(e){return typeof e=="string"&&(e=Vb(e)),yc(e),e}class Kb{clone(){return this._cloneInto()}}function Wb(e){const t=n=>e().update(xc(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Yb(e=32){if(Vr&&typeof Vr.getRandomValues=="function")return Vr.getRandomValues(new Uint8Array(e));if(Vr&&typeof Vr.randomBytes=="function")return Vr.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Zb(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),i=BigInt(4294967295),o=Number(r>>a&i),f=Number(r&i),c=n?4:0,d=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+d,f,n)}class Gb extends Kb{constructor(t,r,n,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=$a(this.buffer)}update(t){wc(this);const{view:r,buffer:n,blockLen:a}=this;t=xc(t);const i=t.length;for(let o=0;o<i;){const f=Math.min(a-this.pos,i-o);if(f===a){const c=$a(t);for(;a<=i-o;o+=a)this.process(c,o);continue}n.set(t.subarray(o,o+f),this.pos),this.pos+=f,o+=f,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){wc(this),Hb(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>a-o&&(this.process(n,0),o=0);for(let p=o;p<a;p++)r[p]=0;Zb(n,a-8,BigInt(this.length*8),i),this.process(n,0);const f=$a(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,l=this.get();if(d>l.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)f.setUint32(4*p,l[p],i)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:i,destroyed:o,pos:f}=this;return t.length=a,t.pos=f,t.finished=i,t.destroyed=o,a%r&&t.buffer.set(n),t}}const ti=BigInt(2**32-1),Pa=BigInt(32);function Ec(e,t=!1){return t?{h:Number(e&ti),l:Number(e>>Pa&ti)}:{h:Number(e>>Pa&ti)|0,l:Number(e&ti)|0}}function Xb(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:i,l:o}=Ec(e[a],t);[r[a],n[a]]=[i,o]}return[r,n]}const Jb=(e,t)=>BigInt(e>>>0)<<Pa|BigInt(t>>>0),Qb=(e,t,r)=>e>>>r,e2=(e,t,r)=>e<<32-r|t>>>r,t2=(e,t,r)=>e>>>r|t<<32-r,r2=(e,t,r)=>e<<32-r|t>>>r,n2=(e,t,r)=>e<<64-r|t>>>r-32,i2=(e,t,r)=>e>>>r-32|t<<64-r,a2=(e,t)=>t,o2=(e,t)=>e,f2=(e,t,r)=>e<<r|t>>>32-r,s2=(e,t,r)=>t<<r|e>>>32-r,c2=(e,t,r)=>t<<r-32|e>>>64-r,u2=(e,t,r)=>e<<r-32|t>>>64-r;function d2(e,t,r,n){const a=(t>>>0)+(n>>>0);return{h:e+r+(a/2**32|0)|0,l:a|0}}const h2=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),l2=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,b2=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),p2=(e,t,r,n,a)=>t+r+n+a+(e/2**32|0)|0,v2=(e,t,r,n,a)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(a>>>0),g2=(e,t,r,n,a,i)=>t+r+n+a+i+(e/2**32|0)|0,K={fromBig:Ec,split:Xb,toBig:Jb,shrSH:Qb,shrSL:e2,rotrSH:t2,rotrSL:r2,rotrBH:n2,rotrBL:i2,rotr32H:a2,rotr32L:o2,rotlSH:f2,rotlSL:s2,rotlBH:c2,rotlBL:u2,add:d2,add3L:h2,add3H:l2,add4L:b2,add4H:p2,add5H:g2,add5L:v2},[m2,y2]=K.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),nr=new Uint32Array(80),ir=new Uint32Array(80);class w2 extends Gb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:a,Ch:i,Cl:o,Dh:f,Dl:c,Eh:d,El:l,Fh:p,Fl:w,Gh:S,Gl:E,Hh:M,Hl:D}=this;return[t,r,n,a,i,o,f,c,d,l,p,w,S,E,M,D]}set(t,r,n,a,i,o,f,c,d,l,p,w,S,E,M,D){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=a|0,this.Ch=i|0,this.Cl=o|0,this.Dh=f|0,this.Dl=c|0,this.Eh=d|0,this.El=l|0,this.Fh=p|0,this.Fl=w|0,this.Gh=S|0,this.Gl=E|0,this.Hh=M|0,this.Hl=D|0}process(t,r){for(let N=0;N<16;N++,r+=4)nr[N]=t.getUint32(r),ir[N]=t.getUint32(r+=4);for(let N=16;N<80;N++){const C=nr[N-15]|0,F=ir[N-15]|0,P=K.rotrSH(C,F,1)^K.rotrSH(C,F,8)^K.shrSH(C,F,7),$=K.rotrSL(C,F,1)^K.rotrSL(C,F,8)^K.shrSL(C,F,7),U=nr[N-2]|0,R=ir[N-2]|0,k=K.rotrSH(U,R,19)^K.rotrBH(U,R,61)^K.shrSH(U,R,6),_=K.rotrSL(U,R,19)^K.rotrBL(U,R,61)^K.shrSL(U,R,6),s=K.add4L($,_,ir[N-7],ir[N-16]),h=K.add4H(s,P,k,nr[N-7],nr[N-16]);nr[N]=h|0,ir[N]=s|0}let{Ah:n,Al:a,Bh:i,Bl:o,Ch:f,Cl:c,Dh:d,Dl:l,Eh:p,El:w,Fh:S,Fl:E,Gh:M,Gl:D,Hh:I,Hl:O}=this;for(let N=0;N<80;N++){const C=K.rotrSH(p,w,14)^K.rotrSH(p,w,18)^K.rotrBH(p,w,41),F=K.rotrSL(p,w,14)^K.rotrSL(p,w,18)^K.rotrBL(p,w,41),P=p&S^~p&M,$=w&E^~w&D,U=K.add5L(O,F,$,y2[N],ir[N]),R=K.add5H(U,I,C,P,m2[N],nr[N]),k=U|0,_=K.rotrSH(n,a,28)^K.rotrBH(n,a,34)^K.rotrBH(n,a,39),s=K.rotrSL(n,a,28)^K.rotrBL(n,a,34)^K.rotrBL(n,a,39),h=n&i^n&f^i&f,v=a&o^a&c^o&c;I=M|0,O=D|0,M=S|0,D=E|0,S=p|0,E=w|0,{h:p,l:w}=K.add(d|0,l|0,R|0,k|0),d=f|0,l=c|0,f=i|0,c=o|0,i=n|0,o=a|0;const b=K.add3L(k,s,v);n=K.add3H(b,R,_,h),a=b|0}({h:n,l:a}=K.add(this.Ah|0,this.Al|0,n|0,a|0)),{h:i,l:o}=K.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:f,l:c}=K.add(this.Ch|0,this.Cl|0,f|0,c|0),{h:d,l}=K.add(this.Dh|0,this.Dl|0,d|0,l|0),{h:p,l:w}=K.add(this.Eh|0,this.El|0,p|0,w|0),{h:S,l:E}=K.add(this.Fh|0,this.Fl|0,S|0,E|0),{h:M,l:D}=K.add(this.Gh|0,this.Gl|0,M|0,D|0),{h:I,l:O}=K.add(this.Hh|0,this.Hl|0,I|0,O|0),this.set(n,a,i,o,f,c,d,l,p,w,S,E,M,D,I,O)}roundClean(){nr.fill(0),ir.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const x2=Wb(()=>new w2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fa=BigInt(0),_c=BigInt(1),E2=BigInt(2);function Ua(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function za(e){if(!Ua(e))throw new Error("Uint8Array expected")}function La(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const _2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qa(e){za(e);let t="";for(let r=0;r<e.length;r++)t+=_2[e[r]];return t}function Sc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Fa:BigInt("0x"+e)}const zt={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ac(e){if(e>=zt._0&&e<=zt._9)return e-zt._0;if(e>=zt.A&&e<=zt.F)return e-(zt.A-10);if(e>=zt.a&&e<=zt.f)return e-(zt.a-10)}function Dc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let a=0,i=0;a<r;a++,i+=2){const o=Ac(e.charCodeAt(i)),f=Ac(e.charCodeAt(i+1));if(o===void 0||f===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[a]=o*16+f}return n}function S2(e){return Sc(qa(e))}function ri(e){return za(e),Sc(qa(Uint8Array.from(e).reverse()))}function Mc(e,t){return Dc(e.toString(16).padStart(t*2,"0"))}function ka(e,t){return Mc(e,t).reverse()}function Lt(e,t,r){let n;if(typeof t=="string")try{n=Dc(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Ua(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const a=n.length;if(typeof r=="number"&&a!==r)throw new Error(e+" of length "+r+" expected, got "+a);return n}function Bc(...e){let t=0;for(let n=0;n<e.length;n++){const a=e[n];za(a),t+=a.length}const r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const i=e[n];r.set(i,a),a+=i.length}return r}const ja=e=>typeof e=="bigint"&&Fa<=e;function A2(e,t,r){return ja(e)&&ja(t)&&ja(r)&&t<=e&&e<r}function xn(e,t,r,n){if(!A2(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function D2(e){let t;for(t=0;e>Fa;e>>=_c,t+=1);return t}const M2=e=>(E2<<BigInt(e-1))-_c,B2={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ua(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ha(e,t,r={}){const n=(a,i,o)=>{const f=B2[i];if(typeof f!="function")throw new Error("invalid validator function");const c=e[a];if(!(o&&c===void 0)&&!f(c,e))throw new Error("param "+String(a)+" is invalid. Expected "+i+", got "+c)};for(const[a,i]of Object.entries(t))n(a,i,!1);for(const[a,i]of Object.entries(r))n(a,i,!0);return e}function Ic(e){const t=new WeakMap;return(r,...n)=>{const a=t.get(r);if(a!==void 0)return a;const i=e(r,...n);return t.set(r,i),i}}const ke=BigInt(0),ve=BigInt(1),wr=BigInt(2),I2=BigInt(3),Va=BigInt(4),Oc=BigInt(5),Nc=BigInt(8);function ze(e,t){const r=e%t;return r>=ke?r:t+r}function O2(e,t,r){if(t<ke)throw new Error("invalid exponent, negatives unsupported");if(r<=ke)throw new Error("invalid modulus");if(r===ve)return ke;let n=ve;for(;t>ke;)t&ve&&(n=n*e%r),e=e*e%r,t>>=ve;return n}function St(e,t,r){let n=e;for(;t-- >ke;)n*=n,n%=r;return n}function Cc(e,t){if(e===ke)throw new Error("invert: expected non-zero number");if(t<=ke)throw new Error("invert: expected positive modulus, got "+t);let r=ze(e,t),n=t,a=ke,i=ve;for(;r!==ke;){const o=n/r,f=n%r,c=a-i*o;n=r,r=f,a=i,i=c}if(n!==ve)throw new Error("invert: does not exist");return ze(a,t)}function N2(e){const t=(e-ve)/wr;let r,n,a;for(r=e-ve,n=0;r%wr===ke;r/=wr,n++);for(a=wr;a<e&&O2(a,t,e)!==e-ve;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(e+ve)/Va;return function(f,c){const d=f.pow(c,o);if(!f.eql(f.sqr(d),c))throw new Error("Cannot find square root");return d}}const i=(r+ve)/wr;return function(o,f){if(o.pow(f,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,d=o.pow(o.mul(o.ONE,a),r),l=o.pow(f,i),p=o.pow(f,r);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let w=1;for(let E=o.sqr(p);w<c&&!o.eql(E,o.ONE);w++)E=o.sqr(E);const S=o.pow(d,ve<<BigInt(c-w-1));d=o.sqr(S),l=o.mul(l,S),p=o.mul(p,d),c=w}return l}}function C2(e){if(e%Va===I2){const t=(e+ve)/Va;return function(r,n){const a=r.pow(n,t);if(!r.eql(r.sqr(a),n))throw new Error("Cannot find square root");return a}}if(e%Nc===Oc){const t=(e-Oc)/Nc;return function(r,n){const a=r.mul(n,wr),i=r.pow(a,t),o=r.mul(n,i),f=r.mul(r.mul(o,wr),i),c=r.mul(o,r.sub(f,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return N2(e)}const R2=(e,t)=>(ze(e,t)&ve)===ve,T2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $2(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=T2.reduce((n,a)=>(n[a]="function",n),t);return Ha(e,r)}function P2(e,t,r){if(r<ke)throw new Error("invalid exponent, negatives unsupported");if(r===ke)return e.ONE;if(r===ve)return t;let n=e.ONE,a=t;for(;r>ke;)r&ve&&(n=e.mul(n,a)),a=e.sqr(a),r>>=ve;return n}function F2(e,t){const r=new Array(t.length),n=t.reduce((i,o,f)=>e.is0(o)?i:(r[f]=i,e.mul(i,o)),e.ONE),a=e.inv(n);return t.reduceRight((i,o,f)=>e.is0(o)?i:(r[f]=e.mul(i,r[f]),e.mul(i,o)),a),r}function Rc(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Tc(e,t,r=!1,n={}){if(e<=ke)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:a,nByteLength:i}=Rc(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const f=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:i,MASK:M2(a),ZERO:ke,ONE:ve,create:c=>ze(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ke<=c&&c<e},is0:c=>c===ke,isOdd:c=>(c&ve)===ve,neg:c=>ze(-c,e),eql:(c,d)=>c===d,sqr:c=>ze(c*c,e),add:(c,d)=>ze(c+d,e),sub:(c,d)=>ze(c-d,e),mul:(c,d)=>ze(c*d,e),pow:(c,d)=>P2(f,c,d),div:(c,d)=>ze(c*Cc(d,e),e),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>Cc(c,e),sqrt:n.sqrt||(c=>(o||(o=C2(e)),o(f,c))),invertBatch:c=>F2(f,c),cmov:(c,d,l)=>l?d:c,toBytes:c=>r?ka(c,i):Mc(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?ri(c):S2(c)}});return Object.freeze(f)}const $c=BigInt(0),ni=BigInt(1);function Ka(e,t){const r=t.negate();return e?r:t}function Pc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Wa(e,t){Pc(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function U2(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function z2(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const Ya=new WeakMap,Fc=new WeakMap;function Za(e){return Fc.get(e)||1}function L2(e,t){return{constTimeNegate:Ka,hasPrecomputes(r){return Za(r)!==1},unsafeLadder(r,n,a=e.ZERO){let i=r;for(;n>$c;)n&ni&&(a=a.add(i)),i=i.double(),n>>=ni;return a},precomputeWindow(r,n){const{windows:a,windowSize:i}=Wa(n,t),o=[];let f=r,c=f;for(let d=0;d<a;d++){c=f,o.push(c);for(let l=1;l<i;l++)c=c.add(f),o.push(c);f=c.double()}return o},wNAF(r,n,a){const{windows:i,windowSize:o}=Wa(r,t);let f=e.ZERO,c=e.BASE;const d=BigInt(2**r-1),l=2**r,p=BigInt(r);for(let w=0;w<i;w++){const S=w*o;let E=Number(a&d);a>>=p,E>o&&(E-=l,a+=ni);const M=S,D=S+Math.abs(E)-1,I=w%2!==0,O=E<0;E===0?c=c.add(Ka(I,n[M])):f=f.add(Ka(O,n[D]))}return{p:f,f:c}},wNAFUnsafe(r,n,a,i=e.ZERO){const{windows:o,windowSize:f}=Wa(r,t),c=BigInt(2**r-1),d=2**r,l=BigInt(r);for(let p=0;p<o;p++){const w=p*f;if(a===$c)break;let S=Number(a&c);if(a>>=l,S>f&&(S-=d,a+=ni),S===0)continue;let E=n[w+Math.abs(S)-1];S<0&&(E=E.negate()),i=i.add(E)}return i},getPrecomputes(r,n,a){let i=Ya.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&Ya.set(n,a(i))),i},wNAFCached(r,n,a){const i=Za(r);return this.wNAF(i,this.getPrecomputes(i,r,a),n)},wNAFCachedUnsafe(r,n,a,i){const o=Za(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,a),n,i)},setWindowSize(r,n){Pc(n,t),Fc.set(r,n),Ya.delete(r)}}}function q2(e,t,r,n){if(U2(r,e),z2(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,i=D2(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,f=(1<<o)-1,c=new Array(f+1).fill(a),d=Math.floor((t.BITS-1)/o)*o;let l=a;for(let p=d;p>=0;p-=o){c.fill(a);for(let S=0;S<n.length;S++){const E=n[S],M=Number(E>>BigInt(p)&BigInt(f));c[M]=c[M].add(r[S])}let w=a;for(let S=c.length-1,E=a;S>0;S--)E=E.add(c[S]),w=w.add(E);if(l=l.add(w),p!==0)for(let S=0;S<o;S++)l=l.double()}return l}function k2(e){return $2(e.Fp),Ha(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Rc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const pt=BigInt(0),tt=BigInt(1),ii=BigInt(2),j2=BigInt(8),H2={zip215:!0};function V2(e){const t=k2(e);return Ha(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function K2(e){const t=V2(e),{Fp:r,n,prehash:a,hash:i,randomBytes:o,nByteLength:f,h:c}=t,d=ii<<BigInt(f*8)-tt,l=r.create,p=Tc(t.n,t.nBitLength),w=t.uvRatio||((b,g)=>{try{return{isValid:!0,value:r.sqrt(b*r.inv(g))}}catch{return{isValid:!1,value:pt}}}),S=t.adjustScalarBytes||(b=>b),E=t.domain||((b,g,x)=>{if(La("phflag",x),g.length||x)throw new Error("Contexts/pre-hash are not supported");return b});function M(b,g){xn("coordinate "+b,g,pt,d)}function D(b){if(!(b instanceof N))throw new Error("ExtendedPoint expected")}const I=Ic((b,g)=>{const{ex:x,ey:A,ez:m}=b,u=b.is0();g==null&&(g=u?j2:r.inv(m));const y=l(x*g),T=l(A*g),z=l(m*g);if(u)return{x:pt,y:tt};if(z!==tt)throw new Error("invZ was invalid");return{x:y,y:T}}),O=Ic(b=>{const{a:g,d:x}=t;if(b.is0())throw new Error("bad point: ZERO");const{ex:A,ey:m,ez:u,et:y}=b,T=l(A*A),z=l(m*m),L=l(u*u),q=l(L*L),j=l(T*g),V=l(L*l(j+z)),Z=l(q+l(x*l(T*z)));if(V!==Z)throw new Error("bad point: equation left != right (1)");const H=l(A*m),W=l(u*y);if(H!==W)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(g,x,A,m){this.ex=g,this.ey=x,this.ez=A,this.et=m,M("x",g),M("y",x),M("z",A),M("t",m),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof N)throw new Error("extended point not allowed");const{x,y:A}=g||{};return M("x",x),M("y",A),new N(x,A,tt,l(x*A))}static normalizeZ(g){const x=r.invertBatch(g.map(A=>A.ez));return g.map((A,m)=>A.toAffine(x[m])).map(N.fromAffine)}static msm(g,x){return q2(N,p,g,x)}_setWindowSize(g){P.setWindowSize(this,g)}assertValidity(){O(this)}equals(g){D(g);const{ex:x,ey:A,ez:m}=this,{ex:u,ey:y,ez:T}=g,z=l(x*T),L=l(u*m),q=l(A*T),j=l(y*m);return z===L&&q===j}is0(){return this.equals(N.ZERO)}negate(){return new N(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:g}=t,{ex:x,ey:A,ez:m}=this,u=l(x*x),y=l(A*A),T=l(ii*l(m*m)),z=l(g*u),L=x+A,q=l(l(L*L)-u-y),j=z+y,V=j-T,Z=z-y,H=l(q*V),W=l(j*Z),Je=l(q*Z),G=l(V*j);return new N(H,W,G,Je)}add(g){D(g);const{a:x,d:A}=t,{ex:m,ey:u,ez:y,et:T}=this,{ex:z,ey:L,ez:q,et:j}=g;if(x===BigInt(-1)){const ae=l((u-m)*(L+z)),Cn=l((u+m)*(L-z)),ne=l(Cn-ae);if(ne===pt)return this.double();const oe=l(y*ii*j),Rn=l(T*ii*q),fe=Rn+oe,se=Cn+ae,Tn=Rn-oe,he=l(fe*ne),le=l(se*Tn),Di=l(fe*Tn),be=l(ne*se);return new N(he,le,be,Di)}const V=l(m*z),Z=l(u*L),H=l(T*A*j),W=l(y*q),Je=l((m+u)*(z+L)-V-Z),G=W-H,J=W+H,lt=l(Z-x*V),re=l(Je*G),ue=l(J*lt),Ai=l(Je*lt),de=l(G*J);return new N(re,ue,de,Ai)}subtract(g){return this.add(g.negate())}wNAF(g){return P.wNAFCached(this,g,N.normalizeZ)}multiply(g){const x=g;xn("scalar",x,tt,n);const{p:A,f:m}=this.wNAF(x);return N.normalizeZ([A,m])[0]}multiplyUnsafe(g,x=N.ZERO){const A=g;return xn("scalar",A,pt,n),A===pt?F:this.is0()||A===tt?this:P.wNAFCachedUnsafe(this,A,N.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return P.unsafeLadder(this,n).is0()}toAffine(g){return I(this,g)}clearCofactor(){const{h:g}=t;return g===tt?this:this.multiplyUnsafe(g)}static fromHex(g,x=!1){const{d:A,a:m}=t,u=r.BYTES;g=Lt("pointHex",g,u),La("zip215",x);const y=g.slice(),T=g[u-1];y[u-1]=T&-129;const z=ri(y),L=x?d:r.ORDER;xn("pointHex.y",z,pt,L);const q=l(z*z),j=l(q-tt),V=l(A*q-m);let{isValid:Z,value:H}=w(j,V);if(!Z)throw new Error("Point.fromHex: invalid y coordinate");const W=(H&tt)===tt,Je=(T&128)!==0;if(!x&&H===pt&&Je)throw new Error("Point.fromHex: x=0 and x_0=1");return Je!==W&&(H=l(-H)),N.fromAffine({x:H,y:z})}static fromPrivateKey(g){return R(g).point}toRawBytes(){const{x:g,y:x}=this.toAffine(),A=ka(x,r.BYTES);return A[A.length-1]|=g&tt?128:0,A}toHex(){return qa(this.toRawBytes())}}N.BASE=new N(t.Gx,t.Gy,tt,l(t.Gx*t.Gy)),N.ZERO=new N(pt,tt,tt,pt);const{BASE:C,ZERO:F}=N,P=L2(N,f*8);function $(b){return ze(b,n)}function U(b){return $(ri(b))}function R(b){const g=r.BYTES;b=Lt("private key",b,g);const x=Lt("hashed private key",i(b),2*g),A=S(x.slice(0,g)),m=x.slice(g,2*g),u=U(A),y=C.multiply(u),T=y.toRawBytes();return{head:A,prefix:m,scalar:u,point:y,pointBytes:T}}function k(b){return R(b).pointBytes}function _(b=new Uint8Array,...g){const x=Bc(...g);return U(i(E(x,Lt("context",b),!!a)))}function s(b,g,x={}){b=Lt("message",b),a&&(b=a(b));const{prefix:A,scalar:m,pointBytes:u}=R(g),y=_(x.context,A,b),T=C.multiply(y).toRawBytes(),z=_(x.context,T,u,b),L=$(y+z*m);xn("signature.s",L,pt,n);const q=Bc(T,ka(L,r.BYTES));return Lt("result",q,r.BYTES*2)}const h=H2;function v(b,g,x,A=h){const{context:m,zip215:u}=A,y=r.BYTES;b=Lt("signature",b,2*y),g=Lt("message",g),x=Lt("publicKey",x,y),u!==void 0&&La("zip215",u),a&&(g=a(g));const T=ri(b.slice(y,2*y));let z,L,q;try{z=N.fromHex(x,u),L=N.fromHex(b.slice(0,y),u),q=C.multiplyUnsafe(T)}catch{return!1}if(!u&&z.isSmallOrder())return!1;const j=_(m,L.toRawBytes(),z.toRawBytes(),g);return L.add(z.multiplyUnsafe(j)).subtract(q).clearCofactor().equals(N.ZERO)}return C._setWindowSize(8),{CURVE:t,getPublicKey:k,sign:s,verify:v,ExtendedPoint:N,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>o(r.BYTES),precompute(b=8,g=N.BASE){return g._setWindowSize(b),g.multiply(BigInt(3)),g}}}}BigInt(0),BigInt(1);const Ga=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Uc=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const W2=BigInt(1),zc=BigInt(2);BigInt(3);const Y2=BigInt(5),Z2=BigInt(8);function G2(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),a=BigInt(80),i=Ga,o=e*e%i*e%i,f=St(o,zc,i)*o%i,c=St(f,W2,i)*e%i,d=St(c,Y2,i)*c%i,l=St(d,t,i)*d%i,p=St(l,r,i)*l%i,w=St(p,n,i)*p%i,S=St(w,a,i)*w%i,E=St(S,a,i)*w%i,M=St(E,t,i)*d%i;return{pow_p_5_8:St(M,zc,i)*e%i,b2:o}}function X2(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function J2(e,t){const r=Ga,n=ze(t*t*t,r),a=ze(n*n*t,r),i=G2(e*a).pow_p_5_8;let o=ze(e*n*i,r);const f=ze(t*o*o,r),c=o,d=ze(o*Uc,r),l=f===e,p=f===ze(-e,r),w=f===ze(-e*Uc,r);return l&&(o=c),(p||w)&&(o=d),R2(o,r)&&(o=ze(-o,r)),{isValid:l||p,value:o}}const Q2=Tc(Ga,void 0,!0),e3={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Q2,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Z2,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:x2,randomBytes:Yb,adjustScalarBytes:X2,uvRatio:J2};K2(e3);const Lc=".",qc="base64url",t3="utf8",r3="utf8";function kc(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function n3(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?kc(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function i3(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var a=0;a<e.length;a++){var i=e.charAt(a),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=a}var f=e.length,c=e.charAt(0),d=Math.log(f)/Math.log(256),l=Math.log(256)/Math.log(f);function p(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var M=0,D=0,I=0,O=E.length;I!==O&&E[I]===0;)I++,M++;for(var N=(O-I)*l+1>>>0,C=new Uint8Array(N);I!==O;){for(var F=E[I],P=0,$=N-1;(F!==0||P<D)&&$!==-1;$--,P++)F+=256*C[$]>>>0,C[$]=F%f>>>0,F=F/f>>>0;if(F!==0)throw new Error("Non-zero carry");D=P,I++}for(var U=N-D;U!==N&&C[U]===0;)U++;for(var R=c.repeat(M);U<N;++U)R+=e.charAt(C[U]);return R}function w(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var M=0;if(E[M]!==" "){for(var D=0,I=0;E[M]===c;)D++,M++;for(var O=(E.length-M)*d+1>>>0,N=new Uint8Array(O);E[M];){var C=r[E.charCodeAt(M)];if(C===255)return;for(var F=0,P=O-1;(C!==0||F<I)&&P!==-1;P--,F++)C+=f*N[P]>>>0,N[P]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");I=F,M++}if(E[M]!==" "){for(var $=O-I;$!==O&&N[$]===0;)$++;for(var U=new Uint8Array(D+(O-$)),R=D;$!==O;)U[R++]=N[$++];return U}}}function S(E){var M=w(E);if(M)return M;throw new Error(`Non-${t} character`)}return{encode:p,decodeUnsafe:w,decode:S}}var a3=i3,o3=a3;const jc=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},f3=e=>new TextEncoder().encode(e),s3=e=>new TextDecoder().decode(e);class c3{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class u3{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Hc(this,t)}}class d3{constructor(t){this.decoders=t}or(t){return Hc(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Hc=(e,t)=>new d3({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class h3{constructor(t,r,n,a){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=a,this.encoder=new c3(t,r,n),this.decoder=new u3(t,r,a)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ai=({name:e,prefix:t,encode:r,decode:n})=>new h3(e,t,r,n),En=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:a}=o3(r,t);return ai({prefix:e,name:t,encode:n,decode:i=>jc(a(i))})},l3=(e,t,r,n)=>{const a={};for(let l=0;l<t.length;++l)a[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let f=0,c=0,d=0;for(let l=0;l<i;++l){const p=a[e[l]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|p,f+=r,f>=8&&(f-=8,o[d++]=255&c>>f)}if(f>=r||255&c<<8-f)throw new SyntaxError("Unexpected end of data");return o},b3=(e,t,r)=>{const n=t[t.length-1]==="=",a=(1<<r)-1;let i="",o=0,f=0;for(let c=0;c<e.length;++c)for(f=f<<8|e[c],o+=8;o>r;)o-=r,i+=t[a&f>>o];if(o&&(i+=t[a&f<<r-o]),n)for(;i.length*r&7;)i+="=";return i},We=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ai({prefix:t,name:e,encode(a){return b3(a,n,r)},decode(a){return l3(a,n,r,e)}}),p3=ai({prefix:"\0",name:"identity",encode:e=>s3(e),decode:e=>f3(e)});var v3=Object.freeze({__proto__:null,identity:p3});const g3=We({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var m3=Object.freeze({__proto__:null,base2:g3});const y3=We({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var w3=Object.freeze({__proto__:null,base8:y3});const x3=En({prefix:"9",name:"base10",alphabet:"0123456789"});var E3=Object.freeze({__proto__:null,base10:x3});const _3=We({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),S3=We({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var A3=Object.freeze({__proto__:null,base16:_3,base16upper:S3});const D3=We({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),M3=We({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),B3=We({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),I3=We({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),O3=We({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N3=We({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),C3=We({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),R3=We({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),T3=We({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var $3=Object.freeze({__proto__:null,base32:D3,base32upper:M3,base32pad:B3,base32padupper:I3,base32hex:O3,base32hexupper:N3,base32hexpad:C3,base32hexpadupper:R3,base32z:T3});const P3=En({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),F3=En({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var U3=Object.freeze({__proto__:null,base36:P3,base36upper:F3});const z3=En({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),L3=En({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var q3=Object.freeze({__proto__:null,base58btc:z3,base58flickr:L3});const k3=We({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),j3=We({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),H3=We({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),V3=We({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var K3=Object.freeze({__proto__:null,base64:k3,base64pad:j3,base64url:H3,base64urlpad:V3});const Vc=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),W3=Vc.reduce((e,t,r)=>(e[r]=t,e),[]),Y3=Vc.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Z3(e){return e.reduce((t,r)=>(t+=W3[r],t),"")}function G3(e){const t=[];for(const r of e){const n=Y3[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const X3=ai({prefix:"\u{1F680}",name:"base256emoji",encode:Z3,decode:G3});var J3=Object.freeze({__proto__:null,base256emoji:X3}),Q3=Wc,Kc=128,e8=127,t8=~e8,r8=Math.pow(2,31);function Wc(e,t,r){t=t||[],r=r||0;for(var n=r;e>=r8;)t[r++]=e&255|Kc,e/=128;for(;e&t8;)t[r++]=e&255|Kc,e>>>=7;return t[r]=e|0,Wc.bytes=r-n+1,t}var n8=Xa,i8=128,Yc=127;function Xa(e,n){var r=0,n=n||0,a=0,i=n,o,f=e.length;do{if(i>=f)throw Xa.bytes=0,new RangeError("Could not decode varint");o=e[i++],r+=a<28?(o&Yc)<<a:(o&Yc)*Math.pow(2,a),a+=7}while(o>=i8);return Xa.bytes=i-n,r}var a8=Math.pow(2,7),o8=Math.pow(2,14),f8=Math.pow(2,21),s8=Math.pow(2,28),c8=Math.pow(2,35),u8=Math.pow(2,42),d8=Math.pow(2,49),h8=Math.pow(2,56),l8=Math.pow(2,63),b8=function(e){return e<a8?1:e<o8?2:e<f8?3:e<s8?4:e<c8?5:e<u8?6:e<d8?7:e<h8?8:e<l8?9:10},p8={encode:Q3,decode:n8,encodingLength:b8},Zc=p8;const Gc=(e,t,r=0)=>(Zc.encode(e,t,r),t),Xc=e=>Zc.encodingLength(e),Ja=(e,t)=>{const r=t.byteLength,n=Xc(e),a=n+Xc(r),i=new Uint8Array(a+r);return Gc(e,i,0),Gc(r,i,n),i.set(t,a),new v8(e,r,t,i)};class v8{constructor(t,r,n,a){this.code=t,this.size=r,this.digest=n,this.bytes=a}}const Jc=({name:e,code:t,encode:r})=>new g8(e,t,r);class g8{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Ja(this.code,r):r.then(n=>Ja(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Qc=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),m8=Jc({name:"sha2-256",code:18,encode:Qc("SHA-256")}),y8=Jc({name:"sha2-512",code:19,encode:Qc("SHA-512")});var w8=Object.freeze({__proto__:null,sha256:m8,sha512:y8});const eu=0,x8="identity",tu=jc;var E8=Object.freeze({__proto__:null,identity:{code:eu,name:x8,encode:tu,digest:e=>Ja(eu,tu(e))}});new TextEncoder,new TextDecoder;const ru={...v3,...m3,...w3,...E3,...A3,...$3,...U3,...q3,...K3,...J3};({...w8,...E8});function nu(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const iu=nu("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Qa=nu("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=n3(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),au={utf8:iu,"utf-8":iu,hex:ru.base16,latin1:Qa,ascii:Qa,binary:Qa,...ru};function _8(e,t="utf8"){const r=au[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function eo(e,t="utf8"){const r=au[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?kc(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function ou(e){return kb(_8(eo(e,qc),t3))}function S8(e){return eo(e,qc)}function A8(e){const t=e.split(Lc),r=ou(t[0]),n=ou(t[1]),a=S8(t[2]),i=eo(t.slice(0,2).join(Lc),r3);return{header:r,payload:n,signature:a,data:i}}function fu(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function to(e,t){t||(t=e.reduce((a,i)=>a+i.length,0));const r=fu(t);let n=0;for(const a of e)r.set(a,n),n+=a.length;return r}function D8(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var a=0;a<e.length;a++){var i=e.charAt(a),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=a}var f=e.length,c=e.charAt(0),d=Math.log(f)/Math.log(256),l=Math.log(256)/Math.log(f);function p(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var M=0,D=0,I=0,O=E.length;I!==O&&E[I]===0;)I++,M++;for(var N=(O-I)*l+1>>>0,C=new Uint8Array(N);I!==O;){for(var F=E[I],P=0,$=N-1;(F!==0||P<D)&&$!==-1;$--,P++)F+=256*C[$]>>>0,C[$]=F%f>>>0,F=F/f>>>0;if(F!==0)throw new Error("Non-zero carry");D=P,I++}for(var U=N-D;U!==N&&C[U]===0;)U++;for(var R=c.repeat(M);U<N;++U)R+=e.charAt(C[U]);return R}function w(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var M=0;if(E[M]!==" "){for(var D=0,I=0;E[M]===c;)D++,M++;for(var O=(E.length-M)*d+1>>>0,N=new Uint8Array(O);E[M];){var C=r[E.charCodeAt(M)];if(C===255)return;for(var F=0,P=O-1;(C!==0||F<I)&&P!==-1;P--,F++)C+=f*N[P]>>>0,N[P]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");I=F,M++}if(E[M]!==" "){for(var $=O-I;$!==O&&N[$]===0;)$++;for(var U=new Uint8Array(D+(O-$)),R=D;$!==O;)U[R++]=N[$++];return U}}}function S(E){var M=w(E);if(M)return M;throw new Error(`Non-${t} character`)}return{encode:p,decodeUnsafe:w,decode:S}}var M8=D8,B8=M8;const su=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},I8=e=>new TextEncoder().encode(e),O8=e=>new TextDecoder().decode(e);class N8{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class C8{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return cu(this,t)}}class R8{constructor(t){this.decoders=t}or(t){return cu(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const cu=(e,t)=>new R8({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class T8{constructor(t,r,n,a){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=a,this.encoder=new N8(t,r,n),this.decoder=new C8(t,r,a)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const oi=({name:e,prefix:t,encode:r,decode:n})=>new T8(e,t,r,n),_n=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:a}=B8(r,t);return oi({prefix:e,name:t,encode:n,decode:i=>su(a(i))})},$8=(e,t,r,n)=>{const a={};for(let l=0;l<t.length;++l)a[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let f=0,c=0,d=0;for(let l=0;l<i;++l){const p=a[e[l]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|p,f+=r,f>=8&&(f-=8,o[d++]=255&c>>f)}if(f>=r||255&c<<8-f)throw new SyntaxError("Unexpected end of data");return o},P8=(e,t,r)=>{const n=t[t.length-1]==="=",a=(1<<r)-1;let i="",o=0,f=0;for(let c=0;c<e.length;++c)for(f=f<<8|e[c],o+=8;o>r;)o-=r,i+=t[a&f>>o];if(o&&(i+=t[a&f<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Ye=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>oi({prefix:t,name:e,encode(a){return P8(a,n,r)},decode(a){return $8(a,n,r,e)}}),F8=oi({prefix:"\0",name:"identity",encode:e=>O8(e),decode:e=>I8(e)});var U8=Object.freeze({__proto__:null,identity:F8});const z8=Ye({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var L8=Object.freeze({__proto__:null,base2:z8});const q8=Ye({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var k8=Object.freeze({__proto__:null,base8:q8});const j8=_n({prefix:"9",name:"base10",alphabet:"0123456789"});var H8=Object.freeze({__proto__:null,base10:j8});const V8=Ye({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),K8=Ye({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var W8=Object.freeze({__proto__:null,base16:V8,base16upper:K8});const Y8=Ye({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Z8=Ye({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),G8=Ye({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),X8=Ye({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),J8=Ye({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Q8=Ye({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ep=Ye({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tp=Ye({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rp=Ye({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var np=Object.freeze({__proto__:null,base32:Y8,base32upper:Z8,base32pad:G8,base32padupper:X8,base32hex:J8,base32hexupper:Q8,base32hexpad:ep,base32hexpadupper:tp,base32z:rp});const ip=_n({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ap=_n({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var op=Object.freeze({__proto__:null,base36:ip,base36upper:ap});const fp=_n({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sp=_n({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var cp=Object.freeze({__proto__:null,base58btc:fp,base58flickr:sp});const up=Ye({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dp=Ye({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hp=Ye({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),lp=Ye({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var bp=Object.freeze({__proto__:null,base64:up,base64pad:dp,base64url:hp,base64urlpad:lp});const uu=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),pp=uu.reduce((e,t,r)=>(e[r]=t,e),[]),vp=uu.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function gp(e){return e.reduce((t,r)=>(t+=pp[r],t),"")}function mp(e){const t=[];for(const r of e){const n=vp[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const yp=oi({prefix:"\u{1F680}",name:"base256emoji",encode:gp,decode:mp});var wp=Object.freeze({__proto__:null,base256emoji:yp}),xp=hu,du=128,Ep=127,_p=~Ep,Sp=Math.pow(2,31);function hu(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Sp;)t[r++]=e&255|du,e/=128;for(;e&_p;)t[r++]=e&255|du,e>>>=7;return t[r]=e|0,hu.bytes=r-n+1,t}var Ap=ro,Dp=128,lu=127;function ro(e,n){var r=0,n=n||0,a=0,i=n,o,f=e.length;do{if(i>=f)throw ro.bytes=0,new RangeError("Could not decode varint");o=e[i++],r+=a<28?(o&lu)<<a:(o&lu)*Math.pow(2,a),a+=7}while(o>=Dp);return ro.bytes=i-n,r}var Mp=Math.pow(2,7),Bp=Math.pow(2,14),Ip=Math.pow(2,21),Op=Math.pow(2,28),Np=Math.pow(2,35),Cp=Math.pow(2,42),Rp=Math.pow(2,49),Tp=Math.pow(2,56),$p=Math.pow(2,63),Pp=function(e){return e<Mp?1:e<Bp?2:e<Ip?3:e<Op?4:e<Np?5:e<Cp?6:e<Rp?7:e<Tp?8:e<$p?9:10},Fp={encode:xp,decode:Ap,encodingLength:Pp},bu=Fp;const pu=(e,t,r=0)=>(bu.encode(e,t,r),t),vu=e=>bu.encodingLength(e),no=(e,t)=>{const r=t.byteLength,n=vu(e),a=n+vu(r),i=new Uint8Array(a+r);return pu(e,i,0),pu(r,i,n),i.set(t,a),new Up(e,r,t,i)};class Up{constructor(t,r,n,a){this.code=t,this.size=r,this.digest=n,this.bytes=a}}const gu=({name:e,code:t,encode:r})=>new zp(e,t,r);class zp{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?no(this.code,r):r.then(n=>no(this.code,n))}else throw Error("Unknown type, must be binary type")}}const mu=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Lp=gu({name:"sha2-256",code:18,encode:mu("SHA-256")}),qp=gu({name:"sha2-512",code:19,encode:mu("SHA-512")});var kp=Object.freeze({__proto__:null,sha256:Lp,sha512:qp});const yu=0,jp="identity",wu=su;var Hp=Object.freeze({__proto__:null,identity:{code:yu,name:jp,encode:wu,digest:e=>no(yu,wu(e))}});new TextEncoder,new TextDecoder;const xu={...U8,...L8,...k8,...H8,...W8,...np,...op,...cp,...bp,...wp};({...kp,...Hp});function Eu(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const _u=Eu("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),io=Eu("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=fu(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Su={utf8:_u,"utf-8":_u,hex:xu.base16,latin1:io,ascii:io,binary:io,...xu};function ct(e,t="utf8"){const r=Su[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function rt(e,t="utf8"){const r=Su[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var Au={},Vp="elliptic",Kp="6.6.1",Wp="EC cryptography",Yp="lib/elliptic.js",Zp=["lib"],Gp={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Xp={type:"git",url:"git@github.com:indutny/elliptic"},Jp=["EC","Elliptic","curve","Cryptography"],Qp="Fedor Indutny <fedor@indutny.com>",e6="MIT",t6={url:"https://github.com/indutny/elliptic/issues"},r6="https://github.com/indutny/elliptic",n6={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},i6={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},a6={name:Vp,version:Kp,description:Wp,main:Yp,files:Zp,scripts:Gp,repository:Xp,keywords:Jp,author:Qp,license:e6,bugs:t6,homepage:r6,devDependencies:n6,dependencies:i6},ft={},At={exports:{}},o6={},f6=Object.freeze({__proto__:null,default:o6}),Du=sf(f6);(function(e){(function(t,r){function n(_,s){if(!_)throw new Error(s||"Assertion failed")}function a(_,s){_.super_=s;var h=function(){};h.prototype=s.prototype,_.prototype=new h,_.prototype.constructor=_}function i(_,s,h){if(i.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((s==="le"||s==="be")&&(h=s,s=10),this._init(_||0,s||10,h||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Du.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,h){return s.cmp(h)>0?s:h},i.min=function(s,h){return s.cmp(h)<0?s:h},i.prototype._init=function(s,h,v){if(typeof s=="number")return this._initNumber(s,h,v);if(typeof s=="object")return this._initArray(s,h,v);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),s=s.toString().replace(/\s+/g,"");var b=0;s[0]==="-"&&(b++,this.negative=1),b<s.length&&(h===16?this._parseHex(s,b,v):(this._parseBase(s,h,b),v==="le"&&this._initArray(this.toArray(),h,v)))},i.prototype._initNumber=function(s,h,v){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),h,v)},i.prototype._initArray=function(s,h,v){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var g,x,A=0;if(v==="be")for(b=s.length-1,g=0;b>=0;b-=3)x=s[b]|s[b-1]<<8|s[b-2]<<16,this.words[g]|=x<<A&67108863,this.words[g+1]=x>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(v==="le")for(b=0,g=0;b<s.length;b+=3)x=s[b]|s[b+1]<<8|s[b+2]<<16,this.words[g]|=x<<A&67108863,this.words[g+1]=x>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this.strip()};function f(_,s){var h=_.charCodeAt(s);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function c(_,s,h){var v=f(_,h);return h-1>=s&&(v|=f(_,h-1)<<4),v}i.prototype._parseHex=function(s,h,v){this.length=Math.ceil((s.length-h)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var g=0,x=0,A;if(v==="be")for(b=s.length-1;b>=h;b-=2)A=c(s,h,b)<<g,this.words[x]|=A&67108863,g>=18?(g-=18,x+=1,this.words[x]|=A>>>26):g+=8;else{var m=s.length-h;for(b=m%2===0?h+1:h;b<s.length;b+=2)A=c(s,h,b)<<g,this.words[x]|=A&67108863,g>=18?(g-=18,x+=1,this.words[x]|=A>>>26):g+=8}this.strip()};function d(_,s,h,v){for(var b=0,g=Math.min(_.length,h),x=s;x<g;x++){var A=_.charCodeAt(x)-48;b*=v,A>=49?b+=A-49+10:A>=17?b+=A-17+10:b+=A}return b}i.prototype._parseBase=function(s,h,v){this.words=[0],this.length=1;for(var b=0,g=1;g<=67108863;g*=h)b++;b--,g=g/h|0;for(var x=s.length-v,A=x%b,m=Math.min(x,x-A)+v,u=0,y=v;y<m;y+=b)u=d(s,y,y+b,h),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(A!==0){var T=1;for(u=d(s,y,s.length,h),y=0;y<A;y++)T*=h;this.imuln(T),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var h=0;h<this.length;h++)s.words[h]=this.words[h];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,h){s=s||10,h=h|0||1;var v;if(s===16||s==="hex"){v="";for(var b=0,g=0,x=0;x<this.length;x++){var A=this.words[x],m=((A<<b|g)&16777215).toString(16);g=A>>>24-b&16777215,b+=2,b>=26&&(b-=26,x--),g!==0||x!==this.length-1?v=l[6-m.length]+m+v:v=m+v}for(g!==0&&(v=g.toString(16)+v);v.length%h!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(s===(s|0)&&s>=2&&s<=36){var u=p[s],y=w[s];v="";var T=this.clone();for(T.negative=0;!T.isZero();){var z=T.modn(y).toString(s);T=T.idivn(y),T.isZero()?v=z+v:v=l[u-z.length]+z+v}for(this.isZero()&&(v="0"+v);v.length%h!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,h){return n(typeof o<"u"),this.toArrayLike(o,s,h)},i.prototype.toArray=function(s,h){return this.toArrayLike(Array,s,h)},i.prototype.toArrayLike=function(s,h,v){var b=this.byteLength(),g=v||Math.max(1,b);n(b<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var x=h==="le",A=new s(g),m,u,y=this.clone();if(x){for(u=0;!y.isZero();u++)m=y.andln(255),y.iushrn(8),A[u]=m;for(;u<g;u++)A[u]=0}else{for(u=0;u<g-b;u++)A[u]=0;for(u=0;!y.isZero();u++)m=y.andln(255),y.iushrn(8),A[g-u-1]=m}return A},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var h=s,v=0;return h>=4096&&(v+=13,h>>>=13),h>=64&&(v+=7,h>>>=7),h>=8&&(v+=4,h>>>=4),h>=2&&(v+=2,h>>>=2),v+h},i.prototype._zeroBits=function(s){if(s===0)return 26;var h=s,v=0;return(h&8191)===0&&(v+=13,h>>>=13),(h&127)===0&&(v+=7,h>>>=7),(h&15)===0&&(v+=4,h>>>=4),(h&3)===0&&(v+=2,h>>>=2),(h&1)===0&&v++,v},i.prototype.bitLength=function(){var s=this.words[this.length-1],h=this._countBits(s);return(this.length-1)*26+h};function S(_){for(var s=new Array(_.bitLength()),h=0;h<s.length;h++){var v=h/26|0,b=h%26;s[h]=(_.words[v]&1<<b)>>>b}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,h=0;h<this.length;h++){var v=this._zeroBits(this.words[h]);if(s+=v,v!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var h=0;h<s.length;h++)this.words[h]=this.words[h]|s.words[h];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var h;this.length>s.length?h=s:h=this;for(var v=0;v<h.length;v++)this.words[v]=this.words[v]&s.words[v];return this.length=h.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var h,v;this.length>s.length?(h=this,v=s):(h=s,v=this);for(var b=0;b<v.length;b++)this.words[b]=h.words[b]^v.words[b];if(this!==h)for(;b<h.length;b++)this.words[b]=h.words[b];return this.length=h.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var h=Math.ceil(s/26)|0,v=s%26;this._expand(h),v>0&&h--;for(var b=0;b<h;b++)this.words[b]=~this.words[b]&67108863;return v>0&&(this.words[b]=~this.words[b]&67108863>>26-v),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,h){n(typeof s=="number"&&s>=0);var v=s/26|0,b=s%26;return this._expand(v+1),h?this.words[v]=this.words[v]|1<<b:this.words[v]=this.words[v]&~(1<<b),this.strip()},i.prototype.iadd=function(s){var h;if(this.negative!==0&&s.negative===0)return this.negative=0,h=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,h=this.isub(s),s.negative=1,h._normSign();var v,b;this.length>s.length?(v=this,b=s):(v=s,b=this);for(var g=0,x=0;x<b.length;x++)h=(v.words[x]|0)+(b.words[x]|0)+g,this.words[x]=h&67108863,g=h>>>26;for(;g!==0&&x<v.length;x++)h=(v.words[x]|0)+g,this.words[x]=h&67108863,g=h>>>26;if(this.length=v.length,g!==0)this.words[this.length]=g,this.length++;else if(v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this},i.prototype.add=function(s){var h;return s.negative!==0&&this.negative===0?(s.negative=0,h=this.sub(s),s.negative^=1,h):s.negative===0&&this.negative!==0?(this.negative=0,h=s.sub(this),this.negative=1,h):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var h=this.iadd(s);return s.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var v=this.cmp(s);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,g;v>0?(b=this,g=s):(b=s,g=this);for(var x=0,A=0;A<g.length;A++)h=(b.words[A]|0)-(g.words[A]|0)+x,x=h>>26,this.words[A]=h&67108863;for(;x!==0&&A<b.length;A++)h=(b.words[A]|0)+x,x=h>>26,this.words[A]=h&67108863;if(x===0&&A<b.length&&b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this.length=Math.max(this.length,A),b!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function E(_,s,h){h.negative=s.negative^_.negative;var v=_.length+s.length|0;h.length=v,v=v-1|0;var b=_.words[0]|0,g=s.words[0]|0,x=b*g,A=x&67108863,m=x/67108864|0;h.words[0]=A;for(var u=1;u<v;u++){for(var y=m>>>26,T=m&67108863,z=Math.min(u,s.length-1),L=Math.max(0,u-_.length+1);L<=z;L++){var q=u-L|0;b=_.words[q]|0,g=s.words[L]|0,x=b*g+T,y+=x/67108864|0,T=x&67108863}h.words[u]=T|0,m=y|0}return m!==0?h.words[u]=m|0:h.length--,h.strip()}var M=function(s,h,v){var b=s.words,g=h.words,x=v.words,A=0,m,u,y,T=b[0]|0,z=T&8191,L=T>>>13,q=b[1]|0,j=q&8191,V=q>>>13,Z=b[2]|0,H=Z&8191,W=Z>>>13,Je=b[3]|0,G=Je&8191,J=Je>>>13,lt=b[4]|0,re=lt&8191,ue=lt>>>13,Ai=b[5]|0,de=Ai&8191,ae=Ai>>>13,Cn=b[6]|0,ne=Cn&8191,oe=Cn>>>13,Rn=b[7]|0,fe=Rn&8191,se=Rn>>>13,Tn=b[8]|0,he=Tn&8191,le=Tn>>>13,Di=b[9]|0,be=Di&8191,me=Di>>>13,z0=g[0]|0,ye=z0&8191,we=z0>>>13,L0=g[1]|0,xe=L0&8191,Ee=L0>>>13,q0=g[2]|0,_e=q0&8191,Se=q0>>>13,k0=g[3]|0,Ae=k0&8191,De=k0>>>13,j0=g[4]|0,Me=j0&8191,Be=j0>>>13,H0=g[5]|0,Ie=H0&8191,Oe=H0>>>13,V0=g[6]|0,Ne=V0&8191,Ce=V0>>>13,K0=g[7]|0,Re=K0&8191,Te=K0>>>13,W0=g[8]|0,$e=W0&8191,Pe=W0>>>13,Y0=g[9]|0,Fe=Y0&8191,Ue=Y0>>>13;v.negative=s.negative^h.negative,v.length=19,m=Math.imul(z,ye),u=Math.imul(z,we),u=u+Math.imul(L,ye)|0,y=Math.imul(L,we);var Ro=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,m=Math.imul(j,ye),u=Math.imul(j,we),u=u+Math.imul(V,ye)|0,y=Math.imul(V,we),m=m+Math.imul(z,xe)|0,u=u+Math.imul(z,Ee)|0,u=u+Math.imul(L,xe)|0,y=y+Math.imul(L,Ee)|0;var To=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(To>>>26)|0,To&=67108863,m=Math.imul(H,ye),u=Math.imul(H,we),u=u+Math.imul(W,ye)|0,y=Math.imul(W,we),m=m+Math.imul(j,xe)|0,u=u+Math.imul(j,Ee)|0,u=u+Math.imul(V,xe)|0,y=y+Math.imul(V,Ee)|0,m=m+Math.imul(z,_e)|0,u=u+Math.imul(z,Se)|0,u=u+Math.imul(L,_e)|0,y=y+Math.imul(L,Se)|0;var $o=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+($o>>>26)|0,$o&=67108863,m=Math.imul(G,ye),u=Math.imul(G,we),u=u+Math.imul(J,ye)|0,y=Math.imul(J,we),m=m+Math.imul(H,xe)|0,u=u+Math.imul(H,Ee)|0,u=u+Math.imul(W,xe)|0,y=y+Math.imul(W,Ee)|0,m=m+Math.imul(j,_e)|0,u=u+Math.imul(j,Se)|0,u=u+Math.imul(V,_e)|0,y=y+Math.imul(V,Se)|0,m=m+Math.imul(z,Ae)|0,u=u+Math.imul(z,De)|0,u=u+Math.imul(L,Ae)|0,y=y+Math.imul(L,De)|0;var Po=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Po>>>26)|0,Po&=67108863,m=Math.imul(re,ye),u=Math.imul(re,we),u=u+Math.imul(ue,ye)|0,y=Math.imul(ue,we),m=m+Math.imul(G,xe)|0,u=u+Math.imul(G,Ee)|0,u=u+Math.imul(J,xe)|0,y=y+Math.imul(J,Ee)|0,m=m+Math.imul(H,_e)|0,u=u+Math.imul(H,Se)|0,u=u+Math.imul(W,_e)|0,y=y+Math.imul(W,Se)|0,m=m+Math.imul(j,Ae)|0,u=u+Math.imul(j,De)|0,u=u+Math.imul(V,Ae)|0,y=y+Math.imul(V,De)|0,m=m+Math.imul(z,Me)|0,u=u+Math.imul(z,Be)|0,u=u+Math.imul(L,Me)|0,y=y+Math.imul(L,Be)|0;var Fo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,m=Math.imul(de,ye),u=Math.imul(de,we),u=u+Math.imul(ae,ye)|0,y=Math.imul(ae,we),m=m+Math.imul(re,xe)|0,u=u+Math.imul(re,Ee)|0,u=u+Math.imul(ue,xe)|0,y=y+Math.imul(ue,Ee)|0,m=m+Math.imul(G,_e)|0,u=u+Math.imul(G,Se)|0,u=u+Math.imul(J,_e)|0,y=y+Math.imul(J,Se)|0,m=m+Math.imul(H,Ae)|0,u=u+Math.imul(H,De)|0,u=u+Math.imul(W,Ae)|0,y=y+Math.imul(W,De)|0,m=m+Math.imul(j,Me)|0,u=u+Math.imul(j,Be)|0,u=u+Math.imul(V,Me)|0,y=y+Math.imul(V,Be)|0,m=m+Math.imul(z,Ie)|0,u=u+Math.imul(z,Oe)|0,u=u+Math.imul(L,Ie)|0,y=y+Math.imul(L,Oe)|0;var Uo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,m=Math.imul(ne,ye),u=Math.imul(ne,we),u=u+Math.imul(oe,ye)|0,y=Math.imul(oe,we),m=m+Math.imul(de,xe)|0,u=u+Math.imul(de,Ee)|0,u=u+Math.imul(ae,xe)|0,y=y+Math.imul(ae,Ee)|0,m=m+Math.imul(re,_e)|0,u=u+Math.imul(re,Se)|0,u=u+Math.imul(ue,_e)|0,y=y+Math.imul(ue,Se)|0,m=m+Math.imul(G,Ae)|0,u=u+Math.imul(G,De)|0,u=u+Math.imul(J,Ae)|0,y=y+Math.imul(J,De)|0,m=m+Math.imul(H,Me)|0,u=u+Math.imul(H,Be)|0,u=u+Math.imul(W,Me)|0,y=y+Math.imul(W,Be)|0,m=m+Math.imul(j,Ie)|0,u=u+Math.imul(j,Oe)|0,u=u+Math.imul(V,Ie)|0,y=y+Math.imul(V,Oe)|0,m=m+Math.imul(z,Ne)|0,u=u+Math.imul(z,Ce)|0,u=u+Math.imul(L,Ne)|0,y=y+Math.imul(L,Ce)|0;var zo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(zo>>>26)|0,zo&=67108863,m=Math.imul(fe,ye),u=Math.imul(fe,we),u=u+Math.imul(se,ye)|0,y=Math.imul(se,we),m=m+Math.imul(ne,xe)|0,u=u+Math.imul(ne,Ee)|0,u=u+Math.imul(oe,xe)|0,y=y+Math.imul(oe,Ee)|0,m=m+Math.imul(de,_e)|0,u=u+Math.imul(de,Se)|0,u=u+Math.imul(ae,_e)|0,y=y+Math.imul(ae,Se)|0,m=m+Math.imul(re,Ae)|0,u=u+Math.imul(re,De)|0,u=u+Math.imul(ue,Ae)|0,y=y+Math.imul(ue,De)|0,m=m+Math.imul(G,Me)|0,u=u+Math.imul(G,Be)|0,u=u+Math.imul(J,Me)|0,y=y+Math.imul(J,Be)|0,m=m+Math.imul(H,Ie)|0,u=u+Math.imul(H,Oe)|0,u=u+Math.imul(W,Ie)|0,y=y+Math.imul(W,Oe)|0,m=m+Math.imul(j,Ne)|0,u=u+Math.imul(j,Ce)|0,u=u+Math.imul(V,Ne)|0,y=y+Math.imul(V,Ce)|0,m=m+Math.imul(z,Re)|0,u=u+Math.imul(z,Te)|0,u=u+Math.imul(L,Re)|0,y=y+Math.imul(L,Te)|0;var Lo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,m=Math.imul(he,ye),u=Math.imul(he,we),u=u+Math.imul(le,ye)|0,y=Math.imul(le,we),m=m+Math.imul(fe,xe)|0,u=u+Math.imul(fe,Ee)|0,u=u+Math.imul(se,xe)|0,y=y+Math.imul(se,Ee)|0,m=m+Math.imul(ne,_e)|0,u=u+Math.imul(ne,Se)|0,u=u+Math.imul(oe,_e)|0,y=y+Math.imul(oe,Se)|0,m=m+Math.imul(de,Ae)|0,u=u+Math.imul(de,De)|0,u=u+Math.imul(ae,Ae)|0,y=y+Math.imul(ae,De)|0,m=m+Math.imul(re,Me)|0,u=u+Math.imul(re,Be)|0,u=u+Math.imul(ue,Me)|0,y=y+Math.imul(ue,Be)|0,m=m+Math.imul(G,Ie)|0,u=u+Math.imul(G,Oe)|0,u=u+Math.imul(J,Ie)|0,y=y+Math.imul(J,Oe)|0,m=m+Math.imul(H,Ne)|0,u=u+Math.imul(H,Ce)|0,u=u+Math.imul(W,Ne)|0,y=y+Math.imul(W,Ce)|0,m=m+Math.imul(j,Re)|0,u=u+Math.imul(j,Te)|0,u=u+Math.imul(V,Re)|0,y=y+Math.imul(V,Te)|0,m=m+Math.imul(z,$e)|0,u=u+Math.imul(z,Pe)|0,u=u+Math.imul(L,$e)|0,y=y+Math.imul(L,Pe)|0;var qo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(qo>>>26)|0,qo&=67108863,m=Math.imul(be,ye),u=Math.imul(be,we),u=u+Math.imul(me,ye)|0,y=Math.imul(me,we),m=m+Math.imul(he,xe)|0,u=u+Math.imul(he,Ee)|0,u=u+Math.imul(le,xe)|0,y=y+Math.imul(le,Ee)|0,m=m+Math.imul(fe,_e)|0,u=u+Math.imul(fe,Se)|0,u=u+Math.imul(se,_e)|0,y=y+Math.imul(se,Se)|0,m=m+Math.imul(ne,Ae)|0,u=u+Math.imul(ne,De)|0,u=u+Math.imul(oe,Ae)|0,y=y+Math.imul(oe,De)|0,m=m+Math.imul(de,Me)|0,u=u+Math.imul(de,Be)|0,u=u+Math.imul(ae,Me)|0,y=y+Math.imul(ae,Be)|0,m=m+Math.imul(re,Ie)|0,u=u+Math.imul(re,Oe)|0,u=u+Math.imul(ue,Ie)|0,y=y+Math.imul(ue,Oe)|0,m=m+Math.imul(G,Ne)|0,u=u+Math.imul(G,Ce)|0,u=u+Math.imul(J,Ne)|0,y=y+Math.imul(J,Ce)|0,m=m+Math.imul(H,Re)|0,u=u+Math.imul(H,Te)|0,u=u+Math.imul(W,Re)|0,y=y+Math.imul(W,Te)|0,m=m+Math.imul(j,$e)|0,u=u+Math.imul(j,Pe)|0,u=u+Math.imul(V,$e)|0,y=y+Math.imul(V,Pe)|0,m=m+Math.imul(z,Fe)|0,u=u+Math.imul(z,Ue)|0,u=u+Math.imul(L,Fe)|0,y=y+Math.imul(L,Ue)|0;var ko=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(ko>>>26)|0,ko&=67108863,m=Math.imul(be,xe),u=Math.imul(be,Ee),u=u+Math.imul(me,xe)|0,y=Math.imul(me,Ee),m=m+Math.imul(he,_e)|0,u=u+Math.imul(he,Se)|0,u=u+Math.imul(le,_e)|0,y=y+Math.imul(le,Se)|0,m=m+Math.imul(fe,Ae)|0,u=u+Math.imul(fe,De)|0,u=u+Math.imul(se,Ae)|0,y=y+Math.imul(se,De)|0,m=m+Math.imul(ne,Me)|0,u=u+Math.imul(ne,Be)|0,u=u+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Be)|0,m=m+Math.imul(de,Ie)|0,u=u+Math.imul(de,Oe)|0,u=u+Math.imul(ae,Ie)|0,y=y+Math.imul(ae,Oe)|0,m=m+Math.imul(re,Ne)|0,u=u+Math.imul(re,Ce)|0,u=u+Math.imul(ue,Ne)|0,y=y+Math.imul(ue,Ce)|0,m=m+Math.imul(G,Re)|0,u=u+Math.imul(G,Te)|0,u=u+Math.imul(J,Re)|0,y=y+Math.imul(J,Te)|0,m=m+Math.imul(H,$e)|0,u=u+Math.imul(H,Pe)|0,u=u+Math.imul(W,$e)|0,y=y+Math.imul(W,Pe)|0,m=m+Math.imul(j,Fe)|0,u=u+Math.imul(j,Ue)|0,u=u+Math.imul(V,Fe)|0,y=y+Math.imul(V,Ue)|0;var jo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(jo>>>26)|0,jo&=67108863,m=Math.imul(be,_e),u=Math.imul(be,Se),u=u+Math.imul(me,_e)|0,y=Math.imul(me,Se),m=m+Math.imul(he,Ae)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(le,Ae)|0,y=y+Math.imul(le,De)|0,m=m+Math.imul(fe,Me)|0,u=u+Math.imul(fe,Be)|0,u=u+Math.imul(se,Me)|0,y=y+Math.imul(se,Be)|0,m=m+Math.imul(ne,Ie)|0,u=u+Math.imul(ne,Oe)|0,u=u+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Oe)|0,m=m+Math.imul(de,Ne)|0,u=u+Math.imul(de,Ce)|0,u=u+Math.imul(ae,Ne)|0,y=y+Math.imul(ae,Ce)|0,m=m+Math.imul(re,Re)|0,u=u+Math.imul(re,Te)|0,u=u+Math.imul(ue,Re)|0,y=y+Math.imul(ue,Te)|0,m=m+Math.imul(G,$e)|0,u=u+Math.imul(G,Pe)|0,u=u+Math.imul(J,$e)|0,y=y+Math.imul(J,Pe)|0,m=m+Math.imul(H,Fe)|0,u=u+Math.imul(H,Ue)|0,u=u+Math.imul(W,Fe)|0,y=y+Math.imul(W,Ue)|0;var Ho=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,m=Math.imul(be,Ae),u=Math.imul(be,De),u=u+Math.imul(me,Ae)|0,y=Math.imul(me,De),m=m+Math.imul(he,Me)|0,u=u+Math.imul(he,Be)|0,u=u+Math.imul(le,Me)|0,y=y+Math.imul(le,Be)|0,m=m+Math.imul(fe,Ie)|0,u=u+Math.imul(fe,Oe)|0,u=u+Math.imul(se,Ie)|0,y=y+Math.imul(se,Oe)|0,m=m+Math.imul(ne,Ne)|0,u=u+Math.imul(ne,Ce)|0,u=u+Math.imul(oe,Ne)|0,y=y+Math.imul(oe,Ce)|0,m=m+Math.imul(de,Re)|0,u=u+Math.imul(de,Te)|0,u=u+Math.imul(ae,Re)|0,y=y+Math.imul(ae,Te)|0,m=m+Math.imul(re,$e)|0,u=u+Math.imul(re,Pe)|0,u=u+Math.imul(ue,$e)|0,y=y+Math.imul(ue,Pe)|0,m=m+Math.imul(G,Fe)|0,u=u+Math.imul(G,Ue)|0,u=u+Math.imul(J,Fe)|0,y=y+Math.imul(J,Ue)|0;var Vo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,m=Math.imul(be,Me),u=Math.imul(be,Be),u=u+Math.imul(me,Me)|0,y=Math.imul(me,Be),m=m+Math.imul(he,Ie)|0,u=u+Math.imul(he,Oe)|0,u=u+Math.imul(le,Ie)|0,y=y+Math.imul(le,Oe)|0,m=m+Math.imul(fe,Ne)|0,u=u+Math.imul(fe,Ce)|0,u=u+Math.imul(se,Ne)|0,y=y+Math.imul(se,Ce)|0,m=m+Math.imul(ne,Re)|0,u=u+Math.imul(ne,Te)|0,u=u+Math.imul(oe,Re)|0,y=y+Math.imul(oe,Te)|0,m=m+Math.imul(de,$e)|0,u=u+Math.imul(de,Pe)|0,u=u+Math.imul(ae,$e)|0,y=y+Math.imul(ae,Pe)|0,m=m+Math.imul(re,Fe)|0,u=u+Math.imul(re,Ue)|0,u=u+Math.imul(ue,Fe)|0,y=y+Math.imul(ue,Ue)|0;var Ko=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,m=Math.imul(be,Ie),u=Math.imul(be,Oe),u=u+Math.imul(me,Ie)|0,y=Math.imul(me,Oe),m=m+Math.imul(he,Ne)|0,u=u+Math.imul(he,Ce)|0,u=u+Math.imul(le,Ne)|0,y=y+Math.imul(le,Ce)|0,m=m+Math.imul(fe,Re)|0,u=u+Math.imul(fe,Te)|0,u=u+Math.imul(se,Re)|0,y=y+Math.imul(se,Te)|0,m=m+Math.imul(ne,$e)|0,u=u+Math.imul(ne,Pe)|0,u=u+Math.imul(oe,$e)|0,y=y+Math.imul(oe,Pe)|0,m=m+Math.imul(de,Fe)|0,u=u+Math.imul(de,Ue)|0,u=u+Math.imul(ae,Fe)|0,y=y+Math.imul(ae,Ue)|0;var Wo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,m=Math.imul(be,Ne),u=Math.imul(be,Ce),u=u+Math.imul(me,Ne)|0,y=Math.imul(me,Ce),m=m+Math.imul(he,Re)|0,u=u+Math.imul(he,Te)|0,u=u+Math.imul(le,Re)|0,y=y+Math.imul(le,Te)|0,m=m+Math.imul(fe,$e)|0,u=u+Math.imul(fe,Pe)|0,u=u+Math.imul(se,$e)|0,y=y+Math.imul(se,Pe)|0,m=m+Math.imul(ne,Fe)|0,u=u+Math.imul(ne,Ue)|0,u=u+Math.imul(oe,Fe)|0,y=y+Math.imul(oe,Ue)|0;var Yo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,m=Math.imul(be,Re),u=Math.imul(be,Te),u=u+Math.imul(me,Re)|0,y=Math.imul(me,Te),m=m+Math.imul(he,$e)|0,u=u+Math.imul(he,Pe)|0,u=u+Math.imul(le,$e)|0,y=y+Math.imul(le,Pe)|0,m=m+Math.imul(fe,Fe)|0,u=u+Math.imul(fe,Ue)|0,u=u+Math.imul(se,Fe)|0,y=y+Math.imul(se,Ue)|0;var Zo=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,m=Math.imul(be,$e),u=Math.imul(be,Pe),u=u+Math.imul(me,$e)|0,y=Math.imul(me,Pe),m=m+Math.imul(he,Fe)|0,u=u+Math.imul(he,Ue)|0,u=u+Math.imul(le,Fe)|0,y=y+Math.imul(le,Ue)|0;var Go=(A+m|0)+((u&8191)<<13)|0;A=(y+(u>>>13)|0)+(Go>>>26)|0,Go&=67108863,m=Math.imul(be,Fe),u=Math.imul(be,Ue),u=u+Math.imul(me,Fe)|0,y=Math.imul(me,Ue);var Xo=(A+m|0)+((u&8191)<<13)|0;return A=(y+(u>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,x[0]=Ro,x[1]=To,x[2]=$o,x[3]=Po,x[4]=Fo,x[5]=Uo,x[6]=zo,x[7]=Lo,x[8]=qo,x[9]=ko,x[10]=jo,x[11]=Ho,x[12]=Vo,x[13]=Ko,x[14]=Wo,x[15]=Yo,x[16]=Zo,x[17]=Go,x[18]=Xo,A!==0&&(x[19]=A,v.length++),v};Math.imul||(M=E);function D(_,s,h){h.negative=s.negative^_.negative,h.length=_.length+s.length;for(var v=0,b=0,g=0;g<h.length-1;g++){var x=b;b=0;for(var A=v&67108863,m=Math.min(g,s.length-1),u=Math.max(0,g-_.length+1);u<=m;u++){var y=g-u,T=_.words[y]|0,z=s.words[u]|0,L=T*z,q=L&67108863;x=x+(L/67108864|0)|0,q=q+A|0,A=q&67108863,x=x+(q>>>26)|0,b+=x>>>26,x&=67108863}h.words[g]=A,v=x,x=b}return v!==0?h.words[g]=v:h.length--,h.strip()}function I(_,s,h){var v=new O;return v.mulp(_,s,h)}i.prototype.mulTo=function(s,h){var v,b=this.length+s.length;return this.length===10&&s.length===10?v=M(this,s,h):b<63?v=E(this,s,h):b<1024?v=D(this,s,h):v=I(this,s,h),v};function O(_,s){this.x=_,this.y=s}O.prototype.makeRBT=function(s){for(var h=new Array(s),v=i.prototype._countBits(s)-1,b=0;b<s;b++)h[b]=this.revBin(b,v,s);return h},O.prototype.revBin=function(s,h,v){if(s===0||s===v-1)return s;for(var b=0,g=0;g<h;g++)b|=(s&1)<<h-g-1,s>>=1;return b},O.prototype.permute=function(s,h,v,b,g,x){for(var A=0;A<x;A++)b[A]=h[s[A]],g[A]=v[s[A]]},O.prototype.transform=function(s,h,v,b,g,x){this.permute(x,s,h,v,b,g);for(var A=1;A<g;A<<=1)for(var m=A<<1,u=Math.cos(2*Math.PI/m),y=Math.sin(2*Math.PI/m),T=0;T<g;T+=m)for(var z=u,L=y,q=0;q<A;q++){var j=v[T+q],V=b[T+q],Z=v[T+q+A],H=b[T+q+A],W=z*Z-L*H;H=z*H+L*Z,Z=W,v[T+q]=j+Z,b[T+q]=V+H,v[T+q+A]=j-Z,b[T+q+A]=V-H,q!==m&&(W=u*z-y*L,L=u*L+y*z,z=W)}},O.prototype.guessLen13b=function(s,h){var v=Math.max(h,s)|1,b=v&1,g=0;for(v=v/2|0;v;v=v>>>1)g++;return 1<<g+1+b},O.prototype.conjugate=function(s,h,v){if(!(v<=1))for(var b=0;b<v/2;b++){var g=s[b];s[b]=s[v-b-1],s[v-b-1]=g,g=h[b],h[b]=-h[v-b-1],h[v-b-1]=-g}},O.prototype.normalize13b=function(s,h){for(var v=0,b=0;b<h/2;b++){var g=Math.round(s[2*b+1]/h)*8192+Math.round(s[2*b]/h)+v;s[b]=g&67108863,g<67108864?v=0:v=g/67108864|0}return s},O.prototype.convert13b=function(s,h,v,b){for(var g=0,x=0;x<h;x++)g=g+(s[x]|0),v[2*x]=g&8191,g=g>>>13,v[2*x+1]=g&8191,g=g>>>13;for(x=2*h;x<b;++x)v[x]=0;n(g===0),n((g&-8192)===0)},O.prototype.stub=function(s){for(var h=new Array(s),v=0;v<s;v++)h[v]=0;return h},O.prototype.mulp=function(s,h,v){var b=2*this.guessLen13b(s.length,h.length),g=this.makeRBT(b),x=this.stub(b),A=new Array(b),m=new Array(b),u=new Array(b),y=new Array(b),T=new Array(b),z=new Array(b),L=v.words;L.length=b,this.convert13b(s.words,s.length,A,b),this.convert13b(h.words,h.length,y,b),this.transform(A,x,m,u,b,g),this.transform(y,x,T,z,b,g);for(var q=0;q<b;q++){var j=m[q]*T[q]-u[q]*z[q];u[q]=m[q]*z[q]+u[q]*T[q],m[q]=j}return this.conjugate(m,u,b),this.transform(m,u,L,x,b,g),this.conjugate(L,x,b),this.normalize13b(L,b),v.negative=s.negative^h.negative,v.length=s.length+h.length,v.strip()},i.prototype.mul=function(s){var h=new i(null);return h.words=new Array(this.length+s.length),this.mulTo(s,h)},i.prototype.mulf=function(s){var h=new i(null);return h.words=new Array(this.length+s.length),I(this,s,h)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var h=0,v=0;v<this.length;v++){var b=(this.words[v]|0)*s,g=(b&67108863)+(h&67108863);h>>=26,h+=b/67108864|0,h+=g>>>26,this.words[v]=g&67108863}return h!==0&&(this.words[v]=h,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var h=S(s);if(h.length===0)return new i(1);for(var v=this,b=0;b<h.length&&h[b]===0;b++,v=v.sqr());if(++b<h.length)for(var g=v.sqr();b<h.length;b++,g=g.sqr())h[b]!==0&&(v=v.mul(g));return v},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var h=s%26,v=(s-h)/26,b=67108863>>>26-h<<26-h,g;if(h!==0){var x=0;for(g=0;g<this.length;g++){var A=this.words[g]&b,m=(this.words[g]|0)-A<<h;this.words[g]=m|x,x=A>>>26-h}x&&(this.words[g]=x,this.length++)}if(v!==0){for(g=this.length-1;g>=0;g--)this.words[g+v]=this.words[g];for(g=0;g<v;g++)this.words[g]=0;this.length+=v}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,h,v){n(typeof s=="number"&&s>=0);var b;h?b=(h-h%26)/26:b=0;var g=s%26,x=Math.min((s-g)/26,this.length),A=67108863^67108863>>>g<<g,m=v;if(b-=x,b=Math.max(0,b),m){for(var u=0;u<x;u++)m.words[u]=this.words[u];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,u=0;u<this.length;u++)this.words[u]=this.words[u+x];else this.words[0]=0,this.length=1;var y=0;for(u=this.length-1;u>=0&&(y!==0||u>=b);u--){var T=this.words[u]|0;this.words[u]=y<<26-g|T>>>g,y=T&A}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,h,v){return n(this.negative===0),this.iushrn(s,h,v)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var h=s%26,v=(s-h)/26,b=1<<h;if(this.length<=v)return!1;var g=this.words[v];return!!(g&b)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var h=s%26,v=(s-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(h!==0&&v++,this.length=Math.min(v,this.length),h!==0){var b=67108863^67108863>>>h<<h;this.words[this.length-1]&=b}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,h,v){var b=s.length+v,g;this._expand(b);var x,A=0;for(g=0;g<s.length;g++){x=(this.words[g+v]|0)+A;var m=(s.words[g]|0)*h;x-=m&67108863,A=(x>>26)-(m/67108864|0),this.words[g+v]=x&67108863}for(;g<this.length-v;g++)x=(this.words[g+v]|0)+A,A=x>>26,this.words[g+v]=x&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,g=0;g<this.length;g++)x=-(this.words[g]|0)+A,A=x>>26,this.words[g]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,h){var v=this.length-s.length,b=this.clone(),g=s,x=g.words[g.length-1]|0,A=this._countBits(x);v=26-A,v!==0&&(g=g.ushln(v),b.iushln(v),x=g.words[g.length-1]|0);var m=b.length-g.length,u;if(h!=="mod"){u=new i(null),u.length=m+1,u.words=new Array(u.length);for(var y=0;y<u.length;y++)u.words[y]=0}var T=b.clone()._ishlnsubmul(g,1,m);T.negative===0&&(b=T,u&&(u.words[m]=1));for(var z=m-1;z>=0;z--){var L=(b.words[g.length+z]|0)*67108864+(b.words[g.length+z-1]|0);for(L=Math.min(L/x|0,67108863),b._ishlnsubmul(g,L,z);b.negative!==0;)L--,b.negative=0,b._ishlnsubmul(g,1,z),b.isZero()||(b.negative^=1);u&&(u.words[z]=L)}return u&&u.strip(),b.strip(),h!=="div"&&v!==0&&b.iushrn(v),{div:u||null,mod:b}},i.prototype.divmod=function(s,h,v){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var b,g,x;return this.negative!==0&&s.negative===0?(x=this.neg().divmod(s,h),h!=="mod"&&(b=x.div.neg()),h!=="div"&&(g=x.mod.neg(),v&&g.negative!==0&&g.iadd(s)),{div:b,mod:g}):this.negative===0&&s.negative!==0?(x=this.divmod(s.neg(),h),h!=="mod"&&(b=x.div.neg()),{div:b,mod:x.mod}):(this.negative&s.negative)!==0?(x=this.neg().divmod(s.neg(),h),h!=="div"&&(g=x.mod.neg(),v&&g.negative!==0&&g.isub(s)),{div:x.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?h==="div"?{div:this.divn(s.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,h)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var h=this.divmod(s);if(h.mod.isZero())return h.div;var v=h.div.negative!==0?h.mod.isub(s):h.mod,b=s.ushrn(1),g=s.andln(1),x=v.cmp(b);return x<0||g===1&&x===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var h=(1<<26)%s,v=0,b=this.length-1;b>=0;b--)v=(h*v+(this.words[b]|0))%s;return v},i.prototype.idivn=function(s){n(s<=67108863);for(var h=0,v=this.length-1;v>=0;v--){var b=(this.words[v]|0)+h*67108864;this.words[v]=b/s|0,h=b%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var h=this,v=s.clone();h.negative!==0?h=h.umod(s):h=h.clone();for(var b=new i(1),g=new i(0),x=new i(0),A=new i(1),m=0;h.isEven()&&v.isEven();)h.iushrn(1),v.iushrn(1),++m;for(var u=v.clone(),y=h.clone();!h.isZero();){for(var T=0,z=1;(h.words[0]&z)===0&&T<26;++T,z<<=1);if(T>0)for(h.iushrn(T);T-- >0;)(b.isOdd()||g.isOdd())&&(b.iadd(u),g.isub(y)),b.iushrn(1),g.iushrn(1);for(var L=0,q=1;(v.words[0]&q)===0&&L<26;++L,q<<=1);if(L>0)for(v.iushrn(L);L-- >0;)(x.isOdd()||A.isOdd())&&(x.iadd(u),A.isub(y)),x.iushrn(1),A.iushrn(1);h.cmp(v)>=0?(h.isub(v),b.isub(x),g.isub(A)):(v.isub(h),x.isub(b),A.isub(g))}return{a:x,b:A,gcd:v.iushln(m)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var h=this,v=s.clone();h.negative!==0?h=h.umod(s):h=h.clone();for(var b=new i(1),g=new i(0),x=v.clone();h.cmpn(1)>0&&v.cmpn(1)>0;){for(var A=0,m=1;(h.words[0]&m)===0&&A<26;++A,m<<=1);if(A>0)for(h.iushrn(A);A-- >0;)b.isOdd()&&b.iadd(x),b.iushrn(1);for(var u=0,y=1;(v.words[0]&y)===0&&u<26;++u,y<<=1);if(u>0)for(v.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(x),g.iushrn(1);h.cmp(v)>=0?(h.isub(v),b.isub(g)):(v.isub(h),g.isub(b))}var T;return h.cmpn(1)===0?T=b:T=g,T.cmpn(0)<0&&T.iadd(s),T},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var h=this.clone(),v=s.clone();h.negative=0,v.negative=0;for(var b=0;h.isEven()&&v.isEven();b++)h.iushrn(1),v.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;v.isEven();)v.iushrn(1);var g=h.cmp(v);if(g<0){var x=h;h=v,v=x}else if(g===0||v.cmpn(1)===0)break;h.isub(v)}while(!0);return v.iushln(b)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var h=s%26,v=(s-h)/26,b=1<<h;if(this.length<=v)return this._expand(v+1),this.words[v]|=b,this;for(var g=b,x=v;g!==0&&x<this.length;x++){var A=this.words[x]|0;A+=g,g=A>>>26,A&=67108863,this.words[x]=A}return g!==0&&(this.words[x]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var h=s<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var v;if(this.length>1)v=1;else{h&&(s=-s),n(s<=67108863,"Number is too big");var b=this.words[0]|0;v=b===s?0:b<s?-1:1}return this.negative!==0?-v|0:v},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var h=this.ucmp(s);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var h=0,v=this.length-1;v>=0;v--){var b=this.words[v]|0,g=s.words[v]|0;if(b!==g){b<g?h=-1:b>g&&(h=1);break}}return h},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new R(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var N={k256:null,p224:null,p192:null,p25519:null};function C(_,s){this.name=_,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},C.prototype.ireduce=function(s){var h=s,v;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),v=h.bitLength();while(v>this.n);var b=v<this.n?-1:h.ucmp(this.p);return b===0?(h.words[0]=0,h.length=1):b>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},C.prototype.split=function(s,h){s.iushrn(this.n,0,h)},C.prototype.imulK=function(s){return s.imul(this.k)};function F(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(F,C),F.prototype.split=function(s,h){for(var v=4194303,b=Math.min(s.length,9),g=0;g<b;g++)h.words[g]=s.words[g];if(h.length=b,s.length<=9){s.words[0]=0,s.length=1;return}var x=s.words[9];for(h.words[h.length++]=x&v,g=10;g<s.length;g++){var A=s.words[g]|0;s.words[g-10]=(A&v)<<4|x>>>22,x=A}x>>>=22,s.words[g-10]=x,x===0&&s.length>10?s.length-=10:s.length-=9},F.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var h=0,v=0;v<s.length;v++){var b=s.words[v]|0;h+=b*977,s.words[v]=h&67108863,h=b*64+(h/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function P(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(P,C);function $(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a($,C);function U(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(U,C),U.prototype.imulK=function(s){for(var h=0,v=0;v<s.length;v++){var b=(s.words[v]|0)*19+h,g=b&67108863;b>>>=26,s.words[v]=g,h=b}return h!==0&&(s.words[s.length++]=h),s},i._prime=function(s){if(N[s])return N[s];var h;if(s==="k256")h=new F;else if(s==="p224")h=new P;else if(s==="p192")h=new $;else if(s==="p25519")h=new U;else throw new Error("Unknown prime "+s);return N[s]=h,h};function R(_){if(typeof _=="string"){var s=i._prime(_);this.m=s.p,this.prime=s}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}R.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},R.prototype._verify2=function(s,h){n((s.negative|h.negative)===0,"red works only with positives"),n(s.red&&s.red===h.red,"red works only with red numbers")},R.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},R.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},R.prototype.add=function(s,h){this._verify2(s,h);var v=s.add(h);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},R.prototype.iadd=function(s,h){this._verify2(s,h);var v=s.iadd(h);return v.cmp(this.m)>=0&&v.isub(this.m),v},R.prototype.sub=function(s,h){this._verify2(s,h);var v=s.sub(h);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},R.prototype.isub=function(s,h){this._verify2(s,h);var v=s.isub(h);return v.cmpn(0)<0&&v.iadd(this.m),v},R.prototype.shl=function(s,h){return this._verify1(s),this.imod(s.ushln(h))},R.prototype.imul=function(s,h){return this._verify2(s,h),this.imod(s.imul(h))},R.prototype.mul=function(s,h){return this._verify2(s,h),this.imod(s.mul(h))},R.prototype.isqr=function(s){return this.imul(s,s.clone())},R.prototype.sqr=function(s){return this.mul(s,s)},R.prototype.sqrt=function(s){if(s.isZero())return s.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var v=this.m.add(new i(1)).iushrn(2);return this.pow(s,v)}for(var b=this.m.subn(1),g=0;!b.isZero()&&b.andln(1)===0;)g++,b.iushrn(1);n(!b.isZero());var x=new i(1).toRed(this),A=x.redNeg(),m=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,m).cmp(A)!==0;)u.redIAdd(A);for(var y=this.pow(u,b),T=this.pow(s,b.addn(1).iushrn(1)),z=this.pow(s,b),L=g;z.cmp(x)!==0;){for(var q=z,j=0;q.cmp(x)!==0;j++)q=q.redSqr();n(j<L);var V=this.pow(y,new i(1).iushln(L-j-1));T=T.redMul(V),y=V.redSqr(),z=z.redMul(y),L=j}return T},R.prototype.invm=function(s){var h=s._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},R.prototype.pow=function(s,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return s.clone();var v=4,b=new Array(1<<v);b[0]=new i(1).toRed(this),b[1]=s;for(var g=2;g<b.length;g++)b[g]=this.mul(b[g-1],s);var x=b[0],A=0,m=0,u=h.bitLength()%26;for(u===0&&(u=26),g=h.length-1;g>=0;g--){for(var y=h.words[g],T=u-1;T>=0;T--){var z=y>>T&1;if(x!==b[0]&&(x=this.sqr(x)),z===0&&A===0){m=0;continue}A<<=1,A|=z,m++,!(m!==v&&(g!==0||T!==0))&&(x=this.mul(x,b[A]),m=0,A=0)}u=26}return x},R.prototype.convertTo=function(s){var h=s.umod(this.m);return h===s?h.clone():h},R.prototype.convertFrom=function(s){var h=s.clone();return h.red=null,h},i.mont=function(s){return new k(s)};function k(_){R.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(k,R),k.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},k.prototype.convertFrom=function(s){var h=this.imod(s.mul(this.rinv));return h.red=null,h},k.prototype.imul=function(s,h){if(s.isZero()||h.isZero())return s.words[0]=0,s.length=1,s;var v=s.imul(h),b=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=v.isub(b).iushrn(this.shift),x=g;return g.cmp(this.m)>=0?x=g.isub(this.m):g.cmpn(0)<0&&(x=g.iadd(this.m)),x._forceRed(this)},k.prototype.mul=function(s,h){if(s.isZero()||h.isZero())return new i(0)._forceRed(this);var v=s.mul(h),b=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=v.isub(b).iushrn(this.shift),x=g;return g.cmp(this.m)>=0?x=g.isub(this.m):g.cmpn(0)<0&&(x=g.iadd(this.m)),x._forceRed(this)},k.prototype.invm=function(s){var h=this.imod(s._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,ld)})(At);var xr=Mu;function Mu(e,t){if(!e)throw new Error(t||"Assertion failed")}Mu.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var ao={};(function(e){var t=e;function r(i,o){if(Array.isArray(i))return i.slice();if(!i)return[];var f=[];if(typeof i!="string"){for(var c=0;c<i.length;c++)f[c]=i[c]|0;return f}if(o==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var c=0;c<i.length;c+=2)f.push(parseInt(i[c]+i[c+1],16))}else for(var c=0;c<i.length;c++){var d=i.charCodeAt(c),l=d>>8,p=d&255;l?f.push(l,p):f.push(p)}return f}t.toArray=r;function n(i){return i.length===1?"0"+i:i}t.zero2=n;function a(i){for(var o="",f=0;f<i.length;f++)o+=n(i[f].toString(16));return o}t.toHex=a,t.encode=function(o,f){return f==="hex"?a(o):o}})(ao),function(e){var t=e,r=At.exports,n=xr,a=ao;t.assert=n,t.toArray=a.toArray,t.zero2=a.zero2,t.toHex=a.toHex,t.encode=a.encode;function i(l,p,w){var S=new Array(Math.max(l.bitLength(),w)+1),E;for(E=0;E<S.length;E+=1)S[E]=0;var M=1<<p+1,D=l.clone();for(E=0;E<S.length;E++){var I,O=D.andln(M-1);D.isOdd()?(O>(M>>1)-1?I=(M>>1)-O:I=O,D.isubn(I)):I=0,S[E]=I,D.iushrn(1)}return S}t.getNAF=i;function o(l,p){var w=[[],[]];l=l.clone(),p=p.clone();for(var S=0,E=0,M;l.cmpn(-S)>0||p.cmpn(-E)>0;){var D=l.andln(3)+S&3,I=p.andln(3)+E&3;D===3&&(D=-1),I===3&&(I=-1);var O;(D&1)===0?O=0:(M=l.andln(7)+S&7,(M===3||M===5)&&I===2?O=-D:O=D),w[0].push(O);var N;(I&1)===0?N=0:(M=p.andln(7)+E&7,(M===3||M===5)&&D===2?N=-I:N=I),w[1].push(N),2*S===O+1&&(S=1-S),2*E===N+1&&(E=1-E),l.iushrn(1),p.iushrn(1)}return w}t.getJSF=o;function f(l,p,w){var S="_"+p;l.prototype[p]=function(){return this[S]!==void 0?this[S]:this[S]=w.call(this)}}t.cachedProperty=f;function c(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=c;function d(l){return new r(l,"hex","le")}t.intFromLE=d}(ft);var fi={exports:{}},oo;fi.exports=function(t){return oo||(oo=new ar(null)),oo.generate(t)};function ar(e){this.rand=e}if(fi.exports.Rand=ar,ar.prototype.generate=function(t){return this._rand(t)},ar.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},typeof self=="object")self.crypto&&self.crypto.getRandomValues?ar.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?ar.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(ar.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Bu=Du;if(typeof Bu.randomBytes!="function")throw new Error("Not supported");ar.prototype._rand=function(t){return Bu.randomBytes(t)}}catch{}var fo={},Er=At.exports,Sn=ft,si=Sn.getNAF,s6=Sn.getJSF,ci=Sn.assert;function or(e,t){this.type=e,this.p=new Er(t.p,16),this.red=t.prime?Er.red(t.prime):Er.mont(this.p),this.zero=new Er(0).toRed(this.red),this.one=new Er(1).toRed(this.red),this.two=new Er(2).toRed(this.red),this.n=t.n&&new Er(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ui=or;or.prototype.point=function(){throw new Error("Not implemented")},or.prototype.validate=function(){throw new Error("Not implemented")},or.prototype._fixedNafMul=function(t,r){ci(t.precomputed);var n=t._getDoubles(),a=si(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var o=[],f,c;for(f=0;f<a.length;f+=n.step){c=0;for(var d=f+n.step-1;d>=f;d--)c=(c<<1)+a[d];o.push(c)}for(var l=this.jpoint(null,null,null),p=this.jpoint(null,null,null),w=i;w>0;w--){for(f=0;f<o.length;f++)c=o[f],c===w?p=p.mixedAdd(n.points[f]):c===-w&&(p=p.mixedAdd(n.points[f].neg()));l=l.add(p)}return l.toP()},or.prototype._wnafMul=function(t,r){var n=4,a=t._getNAFPoints(n);n=a.wnd;for(var i=a.points,o=si(r,n,this._bitLength),f=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var d=0;c>=0&&o[c]===0;c--)d++;if(c>=0&&d++,f=f.dblp(d),c<0)break;var l=o[c];ci(l!==0),t.type==="affine"?l>0?f=f.mixedAdd(i[l-1>>1]):f=f.mixedAdd(i[-l-1>>1].neg()):l>0?f=f.add(i[l-1>>1]):f=f.add(i[-l-1>>1].neg())}return t.type==="affine"?f.toP():f},or.prototype._wnafMulAdd=function(t,r,n,a,i){var o=this._wnafT1,f=this._wnafT2,c=this._wnafT3,d=0,l,p,w;for(l=0;l<a;l++){w=r[l];var S=w._getNAFPoints(t);o[l]=S.wnd,f[l]=S.points}for(l=a-1;l>=1;l-=2){var E=l-1,M=l;if(o[E]!==1||o[M]!==1){c[E]=si(n[E],o[E],this._bitLength),c[M]=si(n[M],o[M],this._bitLength),d=Math.max(c[E].length,d),d=Math.max(c[M].length,d);continue}var D=[r[E],null,null,r[M]];r[E].y.cmp(r[M].y)===0?(D[1]=r[E].add(r[M]),D[2]=r[E].toJ().mixedAdd(r[M].neg())):r[E].y.cmp(r[M].y.redNeg())===0?(D[1]=r[E].toJ().mixedAdd(r[M]),D[2]=r[E].add(r[M].neg())):(D[1]=r[E].toJ().mixedAdd(r[M]),D[2]=r[E].toJ().mixedAdd(r[M].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],O=s6(n[E],n[M]);for(d=Math.max(O[0].length,d),c[E]=new Array(d),c[M]=new Array(d),p=0;p<d;p++){var N=O[0][p]|0,C=O[1][p]|0;c[E][p]=I[(N+1)*3+(C+1)],c[M][p]=0,f[E]=D}}var F=this.jpoint(null,null,null),P=this._wnafT4;for(l=d;l>=0;l--){for(var $=0;l>=0;){var U=!0;for(p=0;p<a;p++)P[p]=c[p][l]|0,P[p]!==0&&(U=!1);if(!U)break;$++,l--}if(l>=0&&$++,F=F.dblp($),l<0)break;for(p=0;p<a;p++){var R=P[p];R!==0&&(R>0?w=f[p][R-1>>1]:R<0&&(w=f[p][-R-1>>1].neg()),w.type==="affine"?F=F.mixedAdd(w):F=F.add(w))}}for(l=0;l<a;l++)f[l]=null;return i?F:F.toP()};function ut(e,t){this.curve=e,this.type=t,this.precomputed=null}or.BasePoint=ut,ut.prototype.eq=function(){throw new Error("Not implemented")},ut.prototype.validate=function(){return this.curve.validate(this)},or.prototype.decodePoint=function(t,r){t=Sn.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?ci(t[t.length-1]%2===0):t[0]===7&&ci(t[t.length-1]%2===1);var a=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return a}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")},ut.prototype.encodeCompressed=function(t){return this.encode(t,!0)},ut.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},ut.prototype.encode=function(t,r){return Sn.encode(this._encode(r),t)},ut.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this},ut.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1},ut.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],a=this,i=0;i<r;i+=t){for(var o=0;o<t;o++)a=a.dbl();n.push(a)}return{step:t,points:n}},ut.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,a=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(a);return{wnd:t,points:r}},ut.prototype._getBeta=function(){return null},ut.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var Kr={exports:{}};typeof Object.create=="function"?Kr.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Kr.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var c6=ft,ce=At.exports,so=Kr.exports,Wr=ui,u6=c6.assert;function dt(e){Wr.call(this,"short",e),this.a=new ce(e.a,16).toRed(this.red),this.b=new ce(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}so(dt,Wr);var d6=dt;dt.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new ce(t.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);r=a[0].cmp(a[1])<0?a[0]:a[1],r=r.toRed(this.red)}if(t.lambda)n=new ce(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],u6(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return t.basis?o=t.basis.map(function(f){return{a:new ce(f.a,16),b:new ce(f.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}},dt.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:ce.mont(t),n=new ce(2).toRed(r).redInvm(),a=n.redNeg(),i=new ce(3).toRed(r).redNeg().redSqrt().redMul(n),o=a.redAdd(i).fromRed(),f=a.redSub(i).fromRed();return[o,f]},dt.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,a=this.n.clone(),i=new ce(1),o=new ce(0),f=new ce(0),c=new ce(1),d,l,p,w,S,E,M,D=0,I,O;n.cmpn(0)!==0;){var N=a.div(n);I=a.sub(N.mul(n)),O=f.sub(N.mul(i));var C=c.sub(N.mul(o));if(!p&&I.cmp(r)<0)d=M.neg(),l=i,p=I.neg(),w=O;else if(p&&++D===2)break;M=I,a=n,n=I,f=i,i=O,c=o,o=C}S=I.neg(),E=O;var F=p.sqr().add(w.sqr()),P=S.sqr().add(E.sqr());return P.cmp(F)>=0&&(S=d,E=l),p.negative&&(p=p.neg(),w=w.neg()),S.negative&&(S=S.neg(),E=E.neg()),[{a:p,b:w},{a:S,b:E}]},dt.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],a=r[1],i=a.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),f=i.mul(n.a),c=o.mul(a.a),d=i.mul(n.b),l=o.mul(a.b),p=t.sub(f).sub(c),w=d.add(l).neg();return{k1:p,k2:w}},dt.prototype.pointFromX=function(t,r){t=new ce(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(a.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=a.fromRed().isOdd();return(r&&!i||!r&&i)&&(a=a.redNeg()),this.point(t,a)},dt.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,a=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(a).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0},dt.prototype._endoWnafMulAdd=function(t,r,n){for(var a=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var f=this._endoSplit(r[o]),c=t[o],d=c._getBeta();f.k1.negative&&(f.k1.ineg(),c=c.neg(!0)),f.k2.negative&&(f.k2.ineg(),d=d.neg(!0)),a[o*2]=c,a[o*2+1]=d,i[o*2]=f.k1,i[o*2+1]=f.k2}for(var l=this._wnafMulAdd(1,a,i,o*2,n),p=0;p<o*2;p++)a[p]=null,i[p]=null;return l};function je(e,t,r,n){Wr.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ce(t,16),this.y=new ce(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}so(je,Wr.BasePoint),dt.prototype.point=function(t,r,n){return new je(this,t,r,n)},dt.prototype.pointFromJSON=function(t,r){return je.fromJSON(this,t,r)},je.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,a=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(a)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(a)}}}return r}},je.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},je.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var a=t.point(r[0],r[1],n);if(!r[2])return a;function i(f){return t.point(f[0],f[1],n)}var o=r[2];return a.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[a].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[a].concat(o.naf.points.map(i))}},a},je.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},je.prototype.isInfinity=function(){return this.inf},je.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),a=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)},je.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),a=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(a),o=i.redSqr().redISub(this.x.redAdd(this.x)),f=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,f)},je.prototype.getX=function(){return this.x.fromRed()},je.prototype.getY=function(){return this.y.fromRed()},je.prototype.mul=function(t){return t=new ce(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},je.prototype.mulAdd=function(t,r,n){var a=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i):this.curve._wnafMulAdd(1,a,i,2)},je.prototype.jmulAdd=function(t,r,n){var a=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i,!0):this.curve._wnafMulAdd(1,a,i,2,!0)},je.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},je.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,a=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return r},je.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Ze(e,t,r,n){Wr.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ce(0)):(this.x=new ce(t,16),this.y=new ce(r,16),this.z=new ce(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}so(Ze,Wr.BasePoint),dt.prototype.jpoint=function(t,r,n){return new Ze(this,t,r,n)},Ze.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),a=this.y.redMul(r).redMul(t);return this.curve.point(n,a)},Ze.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ze.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(r),i=t.x.redMul(n),o=this.y.redMul(r.redMul(t.z)),f=t.y.redMul(n.redMul(this.z)),c=a.redSub(i),d=o.redSub(f);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),p=l.redMul(c),w=a.redMul(l),S=d.redSqr().redIAdd(p).redISub(w).redISub(w),E=d.redMul(w.redISub(S)).redISub(o.redMul(p)),M=this.z.redMul(t.z).redMul(c);return this.curve.jpoint(S,E,M)},Ze.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,a=t.x.redMul(r),i=this.y,o=t.y.redMul(r).redMul(this.z),f=n.redSub(a),c=i.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=f.redSqr(),l=d.redMul(f),p=n.redMul(d),w=c.redSqr().redIAdd(l).redISub(p).redISub(p),S=c.redMul(p.redISub(w)).redISub(i.redMul(l)),E=this.z.redMul(f);return this.curve.jpoint(w,S,E)},Ze.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var a=this.curve.a,i=this.curve.tinv,o=this.x,f=this.y,c=this.z,d=c.redSqr().redSqr(),l=f.redAdd(f);for(r=0;r<t;r++){var p=o.redSqr(),w=l.redSqr(),S=w.redSqr(),E=p.redAdd(p).redIAdd(p).redIAdd(a.redMul(d)),M=o.redMul(w),D=E.redSqr().redISub(M.redAdd(M)),I=M.redISub(D),O=E.redMul(I);O=O.redIAdd(O).redISub(S);var N=l.redMul(c);r+1<t&&(d=d.redMul(S)),o=D,c=N,l=O}return this.curve.jpoint(o,l.redMul(i),c)},Ze.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ze.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),f=this.x.redAdd(i).redSqr().redISub(a).redISub(o);f=f.redIAdd(f);var c=a.redAdd(a).redIAdd(a),d=c.redSqr().redISub(f).redISub(f),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),t=d,r=c.redMul(f.redISub(d)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),w=this.y.redSqr(),S=w.redSqr(),E=this.x.redAdd(w).redSqr().redISub(p).redISub(S);E=E.redIAdd(E);var M=p.redAdd(p).redIAdd(p),D=M.redSqr(),I=S.redIAdd(S);I=I.redIAdd(I),I=I.redIAdd(I),t=D.redISub(E).redISub(E),r=M.redMul(E.redISub(t)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)},Ze.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),f=this.x.redAdd(i).redSqr().redISub(a).redISub(o);f=f.redIAdd(f);var c=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),d=c.redSqr().redISub(f).redISub(f);t=d;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(f.redISub(d)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),w=this.y.redSqr(),S=this.x.redMul(w),E=this.x.redSub(p).redMul(this.x.redAdd(p));E=E.redAdd(E).redIAdd(E);var M=S.redIAdd(S);M=M.redIAdd(M);var D=M.redAdd(M);t=E.redSqr().redISub(D),n=this.y.redAdd(this.z).redSqr().redISub(w).redISub(p);var I=w.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=E.redMul(M.redISub(t)).redISub(I)}return this.curve.jpoint(t,r,n)},Ze.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,a=this.z,i=a.redSqr().redSqr(),o=r.redSqr(),f=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),d=r.redAdd(r);d=d.redIAdd(d);var l=d.redMul(f),p=c.redSqr().redISub(l.redAdd(l)),w=l.redISub(p),S=f.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var E=c.redMul(w).redISub(S),M=n.redAdd(n).redMul(a);return this.curve.jpoint(p,E,M)},Ze.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),a=r.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),f=this.x.redAdd(r).redSqr().redISub(t).redISub(a);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(o);var c=f.redSqr(),d=a.redIAdd(a);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var l=i.redIAdd(f).redSqr().redISub(o).redISub(c).redISub(d),p=r.redMul(l);p=p.redIAdd(p),p=p.redIAdd(p);var w=this.x.redMul(c).redISub(p);w=w.redIAdd(w),w=w.redIAdd(w);var S=this.y.redMul(l.redMul(d.redISub(l)).redISub(f.redMul(c)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var E=this.z.redAdd(f).redSqr().redISub(n).redISub(c);return this.curve.jpoint(w,S,E)},Ze.prototype.mul=function(t,r){return t=new ce(t,r),this.curve._wnafMul(this,t)},Ze.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var a=r.redMul(this.z),i=n.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(a)).cmpn(0)===0},Ze.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var a=t.clone(),i=this.curve.redN.redMul(r);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}},Ze.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ze.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Yr=At.exports,Iu=Kr.exports,di=ui,h6=ft;function Zr(e){di.call(this,"mont",e),this.a=new Yr(e.a,16).toRed(this.red),this.b=new Yr(e.b,16).toRed(this.red),this.i4=new Yr(4).toRed(this.red).redInvm(),this.two=new Yr(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Iu(Zr,di);var l6=Zr;Zr.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),a=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=a.redSqrt();return i.redSqr().cmp(a)===0};function He(e,t,r){di.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Yr(t,16),this.z=new Yr(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Iu(He,di.BasePoint),Zr.prototype.decodePoint=function(t,r){return this.point(h6.toArray(t,r),1)},Zr.prototype.point=function(t,r){return new He(this,t,r)},Zr.prototype.pointFromJSON=function(t){return He.fromJSON(this,t)},He.prototype.precompute=function(){},He.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},He.fromJSON=function(t,r){return new He(t,r[0],r[1]||t.one)},He.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},He.prototype.isInfinity=function(){return this.z.cmpn(0)===0},He.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),a=n.redSqr(),i=r.redSub(a),o=r.redMul(a),f=i.redMul(a.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,f)},He.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},He.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),a=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z),f=o.redMul(n),c=i.redMul(a),d=r.z.redMul(f.redAdd(c).redSqr()),l=r.x.redMul(f.redISub(c).redSqr());return this.curve.point(d,l)},He.prototype.mul=function(t){for(var r=t.clone(),n=this,a=this.curve.point(null,null),i=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var f=o.length-1;f>=0;f--)o[f]===0?(n=n.diffAdd(a,i),a=a.dbl()):(a=n.diffAdd(a,i),n=n.dbl());return a},He.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},He.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},He.prototype.eq=function(t){return this.getX().cmp(t.getX())===0},He.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},He.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var b6=ft,qt=At.exports,Ou=Kr.exports,hi=ui,p6=b6.assert;function Dt(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,hi.call(this,"edwards",e),this.a=new qt(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new qt(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new qt(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),p6(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}Ou(Dt,hi);var v6=Dt;Dt.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},Dt.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},Dt.prototype.jpoint=function(t,r,n,a){return this.point(t,r,n,a)},Dt.prototype.pointFromX=function(t,r){t=new qt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=a.redMul(i.redInvm()),f=o.redSqrt();if(f.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=f.fromRed().isOdd();return(r&&!c||!r&&c)&&(f=f.redNeg()),this.point(t,f)},Dt.prototype.pointFromY=function(t,r){t=new qt(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=a.redMul(i.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var f=o.redSqrt();if(f.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==r&&(f=f.redNeg()),this.point(f,t)},Dt.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),a=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return a.cmp(i)===0};function te(e,t,r,n,a){hi.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new qt(t,16),this.y=new qt(r,16),this.z=n?new qt(n,16):this.curve.one,this.t=a&&new qt(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Ou(te,hi.BasePoint),Dt.prototype.pointFromJSON=function(t){return te.fromJSON(this,t)},Dt.prototype.point=function(t,r,n,a){return new te(this,t,r,n,a)},te.fromJSON=function(t,r){return new te(t,r[0],r[1],r[2])},te.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},te.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},te.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var a=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),o=a.redAdd(r),f=o.redSub(n),c=a.redSub(r),d=i.redMul(f),l=o.redMul(c),p=i.redMul(c),w=f.redMul(o);return this.curve.point(d,l,w,p)},te.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),a,i,o,f,c,d;if(this.curve.twisted){f=this.curve._mulA(r);var l=f.redAdd(n);this.zOne?(a=t.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),i=l.redMul(f.redSub(n)),o=l.redSqr().redSub(l).redSub(l)):(c=this.z.redSqr(),d=l.redSub(c).redISub(c),a=t.redSub(r).redISub(n).redMul(d),i=l.redMul(f.redSub(n)),o=l.redMul(d))}else f=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),d=f.redSub(c).redSub(c),a=this.curve._mulC(t.redISub(f)).redMul(d),i=this.curve._mulC(f).redMul(r.redISub(n)),o=f.redMul(d);return this.curve.point(a,i,o)},te.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},te.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),a=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(r),f=i.redSub(a),c=i.redAdd(a),d=n.redAdd(r),l=o.redMul(f),p=c.redMul(d),w=o.redMul(d),S=f.redMul(c);return this.curve.point(l,p,S,w)},te.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),a=this.x.redMul(t.x),i=this.y.redMul(t.y),o=this.curve.d.redMul(a).redMul(i),f=n.redSub(o),c=n.redAdd(o),d=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(a).redISub(i),l=r.redMul(f).redMul(d),p,w;return this.curve.twisted?(p=r.redMul(c).redMul(i.redSub(this.curve._mulA(a))),w=f.redMul(c)):(p=r.redMul(c).redMul(i.redSub(a)),w=this.curve._mulC(f).redMul(c)),this.curve.point(l,p,w)},te.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},te.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},te.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)},te.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)},te.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},te.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},te.prototype.getX=function(){return this.normalize(),this.x.fromRed()},te.prototype.getY=function(){return this.normalize(),this.y.fromRed()},te.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0},te.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),a=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}},te.prototype.toP=te.prototype.normalize,te.prototype.mixedAdd=te.prototype.add,function(e){var t=e;t.base=ui,t.short=d6,t.mont=l6,t.edwards=v6}(fo);var li={},bi={},Y={},g6=xr,m6=Kr.exports;Y.inherits=m6;function y6(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function w6(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),a=0;a<e.length;a+=2)r.push(parseInt(e[a]+e[a+1],16))}else for(var n=0,a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):y6(e,a)?(i=65536+((i&1023)<<10)+(e.charCodeAt(++a)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(a=0;a<e.length;a++)r[a]=e[a]|0;return r}Y.toArray=w6;function x6(e){for(var t="",r=0;r<e.length;r++)t+=Cu(e[r].toString(16));return t}Y.toHex=x6;function Nu(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Y.htonl=Nu;function E6(e,t){for(var r="",n=0;n<e.length;n++){var a=e[n];t==="little"&&(a=Nu(a)),r+=Ru(a.toString(16))}return r}Y.toHex32=E6;function Cu(e){return e.length===1?"0"+e:e}Y.zero2=Cu;function Ru(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Y.zero8=Ru;function _6(e,t,r,n){var a=r-t;g6(a%4===0);for(var i=new Array(a/4),o=0,f=t;o<i.length;o++,f+=4){var c;n==="big"?c=e[f]<<24|e[f+1]<<16|e[f+2]<<8|e[f+3]:c=e[f+3]<<24|e[f+2]<<16|e[f+1]<<8|e[f],i[o]=c>>>0}return i}Y.join32=_6;function S6(e,t){for(var r=new Array(e.length*4),n=0,a=0;n<e.length;n++,a+=4){var i=e[n];t==="big"?(r[a]=i>>>24,r[a+1]=i>>>16&255,r[a+2]=i>>>8&255,r[a+3]=i&255):(r[a+3]=i>>>24,r[a+2]=i>>>16&255,r[a+1]=i>>>8&255,r[a]=i&255)}return r}Y.split32=S6;function A6(e,t){return e>>>t|e<<32-t}Y.rotr32=A6;function D6(e,t){return e<<t|e>>>32-t}Y.rotl32=D6;function M6(e,t){return e+t>>>0}Y.sum32=M6;function B6(e,t,r){return e+t+r>>>0}Y.sum32_3=B6;function I6(e,t,r,n){return e+t+r+n>>>0}Y.sum32_4=I6;function O6(e,t,r,n,a){return e+t+r+n+a>>>0}Y.sum32_5=O6;function N6(e,t,r,n){var a=e[t],i=e[t+1],o=n+i>>>0,f=(o<n?1:0)+r+a;e[t]=f>>>0,e[t+1]=o}Y.sum64=N6;function C6(e,t,r,n){var a=t+n>>>0,i=(a<t?1:0)+e+r;return i>>>0}Y.sum64_hi=C6;function R6(e,t,r,n){var a=t+n;return a>>>0}Y.sum64_lo=R6;function T6(e,t,r,n,a,i,o,f){var c=0,d=t;d=d+n>>>0,c+=d<t?1:0,d=d+i>>>0,c+=d<i?1:0,d=d+f>>>0,c+=d<f?1:0;var l=e+r+a+o+c;return l>>>0}Y.sum64_4_hi=T6;function $6(e,t,r,n,a,i,o,f){var c=t+n+i+f;return c>>>0}Y.sum64_4_lo=$6;function P6(e,t,r,n,a,i,o,f,c,d){var l=0,p=t;p=p+n>>>0,l+=p<t?1:0,p=p+i>>>0,l+=p<i?1:0,p=p+f>>>0,l+=p<f?1:0,p=p+d>>>0,l+=p<d?1:0;var w=e+r+a+o+c+l;return w>>>0}Y.sum64_5_hi=P6;function F6(e,t,r,n,a,i,o,f,c,d){var l=t+n+i+f+d;return l>>>0}Y.sum64_5_lo=F6;function U6(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}Y.rotr64_hi=U6;function z6(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Y.rotr64_lo=z6;function L6(e,t,r){return e>>>r}Y.shr64_hi=L6;function q6(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Y.shr64_lo=q6;var Gr={},Tu=Y,k6=xr;function pi(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Gr.BlockHash=pi,pi.prototype.update=function(t,r){if(t=Tu.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=Tu.join32(t,0,t.length-n,this.endian);for(var a=0;a<t.length;a+=this._delta32)this._update(t,a,a+this._delta32)}return this},pi.prototype.digest=function(t){return this.update(this._pad()),k6(this.pending===null),this._digest(t)},pi.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,a=new Array(n+this.padLength);a[0]=128;for(var i=1;i<n;i++)a[i]=0;if(t<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)a[i++]=0;a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=t>>>24&255,a[i++]=t>>>16&255,a[i++]=t>>>8&255,a[i++]=t&255}else for(a[i++]=t&255,a[i++]=t>>>8&255,a[i++]=t>>>16&255,a[i++]=t>>>24&255,a[i++]=0,a[i++]=0,a[i++]=0,a[i++]=0,o=8;o<this.padLength;o++)a[i++]=0;return a};var Xr={},Mt={},j6=Y,Bt=j6.rotr32;function H6(e,t,r,n){if(e===0)return $u(t,r,n);if(e===1||e===3)return Fu(t,r,n);if(e===2)return Pu(t,r,n)}Mt.ft_1=H6;function $u(e,t,r){return e&t^~e&r}Mt.ch32=$u;function Pu(e,t,r){return e&t^e&r^t&r}Mt.maj32=Pu;function Fu(e,t,r){return e^t^r}Mt.p32=Fu;function V6(e){return Bt(e,2)^Bt(e,13)^Bt(e,22)}Mt.s0_256=V6;function K6(e){return Bt(e,6)^Bt(e,11)^Bt(e,25)}Mt.s1_256=K6;function W6(e){return Bt(e,7)^Bt(e,18)^e>>>3}Mt.g0_256=W6;function Y6(e){return Bt(e,17)^Bt(e,19)^e>>>10}Mt.g1_256=Y6;var Jr=Y,Z6=Gr,G6=Mt,co=Jr.rotl32,An=Jr.sum32,X6=Jr.sum32_5,J6=G6.ft_1,Uu=Z6.BlockHash,Q6=[1518500249,1859775393,2400959708,3395469782];function It(){if(!(this instanceof It))return new It;Uu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Jr.inherits(It,Uu);var e4=It;It.blockSize=512,It.outSize=160,It.hmacStrength=80,It.padLength=64,It.prototype._update=function(t,r){for(var n=this.W,a=0;a<16;a++)n[a]=t[r+a];for(;a<n.length;a++)n[a]=co(n[a-3]^n[a-8]^n[a-14]^n[a-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],c=this.h[3],d=this.h[4];for(a=0;a<n.length;a++){var l=~~(a/20),p=X6(co(i,5),J6(l,o,f,c),d,n[a],Q6[l]);d=c,c=f,f=co(o,30),o=i,i=p}this.h[0]=An(this.h[0],i),this.h[1]=An(this.h[1],o),this.h[2]=An(this.h[2],f),this.h[3]=An(this.h[3],c),this.h[4]=An(this.h[4],d)},It.prototype._digest=function(t){return t==="hex"?Jr.toHex32(this.h,"big"):Jr.split32(this.h,"big")};var Qr=Y,t4=Gr,en=Mt,r4=xr,vt=Qr.sum32,n4=Qr.sum32_4,i4=Qr.sum32_5,a4=en.ch32,o4=en.maj32,f4=en.s0_256,s4=en.s1_256,c4=en.g0_256,u4=en.g1_256,zu=t4.BlockHash,d4=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ot(){if(!(this instanceof Ot))return new Ot;zu.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=d4,this.W=new Array(64)}Qr.inherits(Ot,zu);var Lu=Ot;Ot.blockSize=512,Ot.outSize=256,Ot.hmacStrength=192,Ot.padLength=64,Ot.prototype._update=function(t,r){for(var n=this.W,a=0;a<16;a++)n[a]=t[r+a];for(;a<n.length;a++)n[a]=n4(u4(n[a-2]),n[a-7],c4(n[a-15]),n[a-16]);var i=this.h[0],o=this.h[1],f=this.h[2],c=this.h[3],d=this.h[4],l=this.h[5],p=this.h[6],w=this.h[7];for(r4(this.k.length===n.length),a=0;a<n.length;a++){var S=i4(w,s4(d),a4(d,l,p),this.k[a],n[a]),E=vt(f4(i),o4(i,o,f));w=p,p=l,l=d,d=vt(c,S),c=f,f=o,o=i,i=vt(S,E)}this.h[0]=vt(this.h[0],i),this.h[1]=vt(this.h[1],o),this.h[2]=vt(this.h[2],f),this.h[3]=vt(this.h[3],c),this.h[4]=vt(this.h[4],d),this.h[5]=vt(this.h[5],l),this.h[6]=vt(this.h[6],p),this.h[7]=vt(this.h[7],w)},Ot.prototype._digest=function(t){return t==="hex"?Qr.toHex32(this.h,"big"):Qr.split32(this.h,"big")};var uo=Y,qu=Lu;function kt(){if(!(this instanceof kt))return new kt;qu.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}uo.inherits(kt,qu);var h4=kt;kt.blockSize=512,kt.outSize=224,kt.hmacStrength=192,kt.padLength=64,kt.prototype._digest=function(t){return t==="hex"?uo.toHex32(this.h.slice(0,7),"big"):uo.split32(this.h.slice(0,7),"big")};var nt=Y,l4=Gr,b4=xr,Nt=nt.rotr64_hi,Ct=nt.rotr64_lo,ku=nt.shr64_hi,ju=nt.shr64_lo,fr=nt.sum64,ho=nt.sum64_hi,lo=nt.sum64_lo,p4=nt.sum64_4_hi,v4=nt.sum64_4_lo,g4=nt.sum64_5_hi,m4=nt.sum64_5_lo,Hu=l4.BlockHash,y4=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function gt(){if(!(this instanceof gt))return new gt;Hu.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y4,this.W=new Array(160)}nt.inherits(gt,Hu);var Vu=gt;gt.blockSize=1024,gt.outSize=512,gt.hmacStrength=192,gt.padLength=128,gt.prototype._prepareBlock=function(t,r){for(var n=this.W,a=0;a<32;a++)n[a]=t[r+a];for(;a<n.length;a+=2){var i=O4(n[a-4],n[a-3]),o=N4(n[a-4],n[a-3]),f=n[a-14],c=n[a-13],d=B4(n[a-30],n[a-29]),l=I4(n[a-30],n[a-29]),p=n[a-32],w=n[a-31];n[a]=p4(i,o,f,c,d,l,p,w),n[a+1]=v4(i,o,f,c,d,l,p,w)}},gt.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,a=this.h[0],i=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4],d=this.h[5],l=this.h[6],p=this.h[7],w=this.h[8],S=this.h[9],E=this.h[10],M=this.h[11],D=this.h[12],I=this.h[13],O=this.h[14],N=this.h[15];b4(this.k.length===n.length);for(var C=0;C<n.length;C+=2){var F=O,P=N,$=D4(w,S),U=M4(w,S),R=w4(w,S,E,M,D),k=x4(w,S,E,M,D,I),_=this.k[C],s=this.k[C+1],h=n[C],v=n[C+1],b=g4(F,P,$,U,R,k,_,s,h,v),g=m4(F,P,$,U,R,k,_,s,h,v);F=S4(a,i),P=A4(a,i),$=E4(a,i,o,f,c),U=_4(a,i,o,f,c,d);var x=ho(F,P,$,U),A=lo(F,P,$,U);O=D,N=I,D=E,I=M,E=w,M=S,w=ho(l,p,b,g),S=lo(p,p,b,g),l=c,p=d,c=o,d=f,o=a,f=i,a=ho(b,g,x,A),i=lo(b,g,x,A)}fr(this.h,0,a,i),fr(this.h,2,o,f),fr(this.h,4,c,d),fr(this.h,6,l,p),fr(this.h,8,w,S),fr(this.h,10,E,M),fr(this.h,12,D,I),fr(this.h,14,O,N)},gt.prototype._digest=function(t){return t==="hex"?nt.toHex32(this.h,"big"):nt.split32(this.h,"big")};function w4(e,t,r,n,a){var i=e&r^~e&a;return i<0&&(i+=4294967296),i}function x4(e,t,r,n,a,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function E4(e,t,r,n,a){var i=e&r^e&a^r&a;return i<0&&(i+=4294967296),i}function _4(e,t,r,n,a,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function S4(e,t){var r=Nt(e,t,28),n=Nt(t,e,2),a=Nt(t,e,7),i=r^n^a;return i<0&&(i+=4294967296),i}function A4(e,t){var r=Ct(e,t,28),n=Ct(t,e,2),a=Ct(t,e,7),i=r^n^a;return i<0&&(i+=4294967296),i}function D4(e,t){var r=Nt(e,t,14),n=Nt(e,t,18),a=Nt(t,e,9),i=r^n^a;return i<0&&(i+=4294967296),i}function M4(e,t){var r=Ct(e,t,14),n=Ct(e,t,18),a=Ct(t,e,9),i=r^n^a;return i<0&&(i+=4294967296),i}function B4(e,t){var r=Nt(e,t,1),n=Nt(e,t,8),a=ku(e,t,7),i=r^n^a;return i<0&&(i+=4294967296),i}function I4(e,t){var r=Ct(e,t,1),n=Ct(e,t,8),a=ju(e,t,7),i=r^n^a;return i<0&&(i+=4294967296),i}function O4(e,t){var r=Nt(e,t,19),n=Nt(t,e,29),a=ku(e,t,6),i=r^n^a;return i<0&&(i+=4294967296),i}function N4(e,t){var r=Ct(e,t,19),n=Ct(t,e,29),a=ju(e,t,6),i=r^n^a;return i<0&&(i+=4294967296),i}var bo=Y,Ku=Vu;function jt(){if(!(this instanceof jt))return new jt;Ku.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}bo.inherits(jt,Ku);var C4=jt;jt.blockSize=1024,jt.outSize=384,jt.hmacStrength=192,jt.padLength=128,jt.prototype._digest=function(t){return t==="hex"?bo.toHex32(this.h.slice(0,12),"big"):bo.split32(this.h.slice(0,12),"big")},Xr.sha1=e4,Xr.sha224=h4,Xr.sha256=Lu,Xr.sha384=C4,Xr.sha512=Vu;var Wu={},_r=Y,R4=Gr,vi=_r.rotl32,Yu=_r.sum32,Dn=_r.sum32_3,Zu=_r.sum32_4,Gu=R4.BlockHash;function Rt(){if(!(this instanceof Rt))return new Rt;Gu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_r.inherits(Rt,Gu),Wu.ripemd160=Rt,Rt.blockSize=512,Rt.outSize=160,Rt.hmacStrength=192,Rt.padLength=64,Rt.prototype._update=function(t,r){for(var n=this.h[0],a=this.h[1],i=this.h[2],o=this.h[3],f=this.h[4],c=n,d=a,l=i,p=o,w=f,S=0;S<80;S++){var E=Yu(vi(Zu(n,Xu(S,a,i,o),t[P4[S]+r],T4(S)),U4[S]),f);n=f,f=o,o=vi(i,10),i=a,a=E,E=Yu(vi(Zu(c,Xu(79-S,d,l,p),t[F4[S]+r],$4(S)),z4[S]),w),c=w,w=p,p=vi(l,10),l=d,d=E}E=Dn(this.h[1],i,p),this.h[1]=Dn(this.h[2],o,w),this.h[2]=Dn(this.h[3],f,c),this.h[3]=Dn(this.h[4],n,d),this.h[4]=Dn(this.h[0],a,l),this.h[0]=E},Rt.prototype._digest=function(t){return t==="hex"?_r.toHex32(this.h,"little"):_r.split32(this.h,"little")};function Xu(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function T4(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function $4(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var P4=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],F4=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],U4=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],z4=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],L4=Y,q4=xr;function tn(e,t,r){if(!(this instanceof tn))return new tn(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(L4.toArray(t,r))}var k4=tn;tn.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),q4(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)},tn.prototype.update=function(t,r){return this.inner.update(t,r),this},tn.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(e){var t=e;t.utils=Y,t.common=Gr,t.sha=Xr,t.ripemd=Wu,t.hmac=k4,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(bi);var po,Ju;function j4(){return Ju||(Ju=1,po={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),po}(function(e){var t=e,r=bi,n=fo,a=ft,i=a.assert;function o(d){d.type==="short"?this.curve=new n.short(d):d.type==="edwards"?this.curve=new n.edwards(d):this.curve=new n.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function f(d,l){Object.defineProperty(t,d,{configurable:!0,enumerable:!0,get:function(){var p=new o(l);return Object.defineProperty(t,d,{configurable:!0,enumerable:!0,value:p}),p}})}f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=j4()}catch{c=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(li);var H4=bi,Sr=ao,Qu=xr;function sr(e){if(!(this instanceof sr))return new sr(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Sr.toArray(e.entropy,e.entropyEnc||"hex"),r=Sr.toArray(e.nonce,e.nonceEnc||"hex"),n=Sr.toArray(e.pers,e.persEnc||"hex");Qu(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var V4=sr;sr.prototype._init=function(t,r,n){var a=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656},sr.prototype._hmac=function(){return new H4.hmac(this.hash,this.K)},sr.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},sr.prototype.reseed=function(t,r,n,a){typeof r!="string"&&(a=n,n=r,r=null),t=Sr.toArray(t,r),n=Sr.toArray(n,a),Qu(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},sr.prototype.generate=function(t,r,n,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(a=n,n=r,r=null),n&&(n=Sr.toArray(n,a||"hex"),this._update(n));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(n),this._reseed++,Sr.encode(o,r)};var K4=At.exports,W4=ft,vo=W4.assert;function Ge(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Y4=Ge;Ge.fromPublic=function(t,r,n){return r instanceof Ge?r:new Ge(t,{pub:r,pubEnc:n})},Ge.fromPrivate=function(t,r,n){return r instanceof Ge?r:new Ge(t,{priv:r,privEnc:n})},Ge.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ge.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub},Ge.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv},Ge.prototype._importPrivate=function(t,r){this.priv=new K4(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)},Ge.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?vo(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&vo(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)},Ge.prototype.derive=function(t){return t.validate()||vo(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Ge.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)},Ge.prototype.verify=function(t,r,n){return this.ec.verify(t,r,this,void 0,n)},Ge.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var gi=At.exports,go=ft,Z4=go.assert;function mi(e,t){if(e instanceof mi)return e;this._importDER(e,t)||(Z4(e.r&&e.s,"Signature without r or s"),this.r=new gi(e.r,16),this.s=new gi(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var G4=mi;function X4(){this.place=0}function mo(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||e[t.place]===0)return!1;for(var a=0,i=0,o=t.place;i<n;i++,o++)a<<=8,a|=e[o],a>>>=0;return a<=127?!1:(t.place=o,a)}function e0(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}mi.prototype._importDER=function(t,r){t=go.toArray(t,r);var n=new X4;if(t[n.place++]!==48)return!1;var a=mo(t,n);if(a===!1||a+n.place!==t.length||t[n.place++]!==2)return!1;var i=mo(t,n);if(i===!1||(t[n.place]&128)!==0)return!1;var o=t.slice(n.place,i+n.place);if(n.place+=i,t[n.place++]!==2)return!1;var f=mo(t,n);if(f===!1||t.length!==f+n.place||(t[n.place]&128)!==0)return!1;var c=t.slice(n.place,f+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new gi(o),this.s=new gi(c),this.recoveryParam=null,!0};function yo(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}mi.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=e0(r),n=e0(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var a=[2];yo(a,r.length),a=a.concat(r),a.push(2),yo(a,n.length);var i=a.concat(n),o=[48];return yo(o,i.length),o=o.concat(i),go.encode(o,t)};var mt=At.exports,t0=V4,J4=ft,wo=li,Q4=fi.exports,Ar=J4.assert,xo=Y4,yi=G4;function ht(e){if(!(this instanceof ht))return new ht(e);typeof e=="string"&&(Ar(Object.prototype.hasOwnProperty.call(wo,e),"Unknown curve "+e),e=wo[e]),e instanceof wo.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var e5=ht;ht.prototype.keyPair=function(t){return new xo(this,t)},ht.prototype.keyFromPrivate=function(t,r){return xo.fromPrivate(this,t,r)},ht.prototype.keyFromPublic=function(t,r){return xo.fromPublic(this,t,r)},ht.prototype.genKeyPair=function(t){t||(t={});for(var r=new t0({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Q4(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new mt(2));;){var i=new mt(r.generate(n));if(!(i.cmp(a)>0))return i.iaddn(1),this.keyFromPrivate(i)}},ht.prototype._truncateToN=function(t,r,n){var a;if(mt.isBN(t)||typeof t=="number")t=new mt(t,16),a=t.byteLength();else if(typeof t=="object")a=t.length,t=new mt(t,16);else{var i=t.toString();a=i.length+1>>>1,t=new mt(i,16)}typeof n!="number"&&(n=a*8);var o=n-this.n.bitLength();return o>0&&(t=t.ushrn(o)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t},ht.prototype.sign=function(t,r,n,a){if(typeof n=="object"&&(a=n,n=null),a||(a={}),typeof t!="string"&&typeof t!="number"&&!mt.isBN(t)){Ar(typeof t=="object"&&t&&typeof t.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Ar(t.length>>>0===t.length);for(var i=0;i<t.length;i++)Ar((t[i]&255)===t[i])}r=this.keyFromPrivate(r,n),t=this._truncateToN(t,!1,a.msgBitLength),Ar(!t.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),f=r.getPrivate().toArray("be",o),c=t.toArray("be",o);Ar(new mt(c).eq(t),"Can not sign message");for(var d=new t0({hash:this.hash,entropy:f,nonce:c,pers:a.pers,persEnc:a.persEnc||"utf8"}),l=this.n.sub(new mt(1)),p=0;;p++){var w=a.k?a.k(p):new mt(d.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(l)>=0)){var S=this.g.mul(w);if(!S.isInfinity()){var E=S.getX(),M=E.umod(this.n);if(M.cmpn(0)!==0){var D=w.invm(this.n).mul(M.mul(r.getPrivate()).iadd(t));if(D=D.umod(this.n),D.cmpn(0)!==0){var I=(S.getY().isOdd()?1:0)|(E.cmp(M)!==0?2:0);return a.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),I^=1),new yi({r:M,s:D,recoveryParam:I})}}}}}},ht.prototype.verify=function(t,r,n,a,i){i||(i={}),t=this._truncateToN(t,!1,i.msgBitLength),n=this.keyFromPublic(n,a),r=new yi(r,"hex");var o=r.r,f=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||f.cmpn(1)<0||f.cmp(this.n)>=0)return!1;var c=f.invm(this.n),d=c.mul(t).umod(this.n),l=c.mul(o).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,n.getPublic(),l),p.isInfinity()?!1:p.eqXToP(o)):(p=this.g.mulAdd(d,n.getPublic(),l),p.isInfinity()?!1:p.getX().umod(this.n).cmp(o)===0)},ht.prototype.recoverPubKey=function(e,t,r,n){Ar((3&r)===r,"The recovery param is more than two bits"),t=new yi(t,n);var a=this.n,i=new mt(e),o=t.r,f=t.s,c=r&1,d=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var l=t.r.invm(a),p=a.sub(i).mul(l).umod(a),w=f.mul(l).umod(a);return this.g.mulAdd(p,o,w)},ht.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new yi(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var a=0;a<4;a++){var i;try{i=this.recoverPubKey(e,t,a)}catch{continue}if(i.eq(r))return a}throw new Error("Unable to find valid recovery factor")};var Mn=ft,r0=Mn.assert,n0=Mn.parseBytes,rn=Mn.cachedProperty;function Ve(e,t){this.eddsa=e,this._secret=n0(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=n0(t.pub)}Ve.fromPublic=function(t,r){return r instanceof Ve?r:new Ve(t,{pub:r})},Ve.fromSecret=function(t,r){return r instanceof Ve?r:new Ve(t,{secret:r})},Ve.prototype.secret=function(){return this._secret},rn(Ve,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),rn(Ve,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),rn(Ve,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,a=r.slice(0,t.encodingLength);return a[0]&=248,a[n]&=127,a[n]|=64,a}),rn(Ve,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),rn(Ve,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),rn(Ve,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Ve.prototype.sign=function(t){return r0(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},Ve.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)},Ve.prototype.getSecret=function(t){return r0(this._secret,"KeyPair is public only"),Mn.encode(this.secret(),t)},Ve.prototype.getPublic=function(t){return Mn.encode(this.pubBytes(),t)};var t5=Ve,r5=At.exports,wi=ft,i0=wi.assert,xi=wi.cachedProperty,n5=wi.parseBytes;function Dr(e,t){this.eddsa=e,typeof t!="object"&&(t=n5(t)),Array.isArray(t)&&(i0(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i0(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r5&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}xi(Dr,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),xi(Dr,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),xi(Dr,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),xi(Dr,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Dr.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Dr.prototype.toHex=function(){return wi.encode(this.toBytes(),"hex").toUpperCase()};var i5=Dr,a5=bi,o5=li,nn=ft,f5=nn.assert,a0=nn.parseBytes,o0=t5,f0=i5;function it(e){if(f5(e==="ed25519","only tested with ed25519 so far"),!(this instanceof it))return new it(e);e=o5[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=a5.sha512}var s5=it;it.prototype.sign=function(t,r){t=a0(t);var n=this.keyFromSecret(r),a=this.hashInt(n.messagePrefix(),t),i=this.g.mul(a),o=this.encodePoint(i),f=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),c=a.add(f).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},it.prototype.verify=function(t,r,n){if(t=a0(t),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var a=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),a.pubBytes(),t),o=this.g.mul(r.S()),f=r.R().add(a.pub().mul(i));return f.eq(o)},it.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return nn.intFromLE(t.digest()).umod(this.curve.n)},it.prototype.keyFromPublic=function(t){return o0.fromPublic(this,t)},it.prototype.keyFromSecret=function(t){return o0.fromSecret(this,t)},it.prototype.makeSignature=function(t){return t instanceof f0?t:new f0(this,t)},it.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r},it.prototype.decodePoint=function(t){t=nn.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),a=(t[r]&128)!==0,i=nn.intFromLE(n);return this.curve.pointFromY(i,a)},it.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},it.prototype.decodeInt=function(t){return nn.intFromLE(t)},it.prototype.isPoint=function(t){return t instanceof this.pointClass},function(e){var t=e;t.version=a6.version,t.utils=ft,t.rand=fi.exports,t.curve=fo,t.curves=li,t.ec=e5,t.eddsa=s5}(Au);const Eo="base10",Xe="base16",_o="base64pad",c5="base64url",an="utf8",So=0,on=1,Bn=2,u5=0,s0=1,In=12,Ao=32;function d5(){const e=Ta.utils.randomPrivateKey(),t=Ta.getPublicKey(e);return{privateKey:rt(e,Xe),publicKey:rt(t,Xe)}}function h5(){const e=pr(Ao);return rt(e,Xe)}function l5(e,t){const r=Ta.getSharedSecret(ct(e,Xe),ct(t,Xe)),n=Rb(Gt,r,void 0,void 0,Ao);return rt(n,Xe)}function b5(e){const t=Gt(ct(e,Xe));return rt(t,Xe)}function p5(e){const t=Gt(ct(e,an));return rt(t,Xe)}function Do(e){return ct(`${e}`,Eo)}function Mr(e){return Number(rt(e,Eo))}function v5(e){const t=Do(typeof e.type<"u"?e.type:So);if(Mr(t)===on&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?ct(e.senderPublicKey,Xe):void 0,n=typeof e.iv<"u"?ct(e.iv,Xe):pr(In),a=ct(e.symKey,Xe),i=vc(a,n).encrypt(ct(e.message,an));return Mo({type:t,sealed:i,iv:n,senderPublicKey:r,encoding:e.encoding})}function g5(e){const t=ct(e.symKey,Xe),{sealed:r,iv:n}=Ei(e),a=vc(t,n).decrypt(r);if(a===null)throw new Error("Failed to decrypt");return rt(a,an)}function m5(e,t){const r=Do(Bn),n=pr(In),a=ct(e,an);return Mo({type:r,sealed:a,iv:n,encoding:t})}function y5(e,t){const{sealed:r}=Ei({encoded:e,encoding:t});return rt(r,an)}function Mo(e){const{encoding:t=_o}=e;if(Mr(e.type)===Bn)return rt(to([e.type,e.sealed]),t);if(Mr(e.type)===on){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return rt(to([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return rt(to([e.type,e.iv,e.sealed]),t)}function Ei(e){const{encoded:t,encoding:r=_o}=e,n=ct(t,r),a=n.slice(u5,s0),i=s0;if(Mr(a)===on){const d=i+Ao,l=d+In,p=n.slice(i,d),w=n.slice(d,l),S=n.slice(l);return{type:a,sealed:S,iv:w,senderPublicKey:p}}if(Mr(a)===Bn){const d=n.slice(i),l=pr(In);return{type:a,sealed:d,iv:l}}const o=i+In,f=n.slice(i,o),c=n.slice(o);return{type:a,sealed:c,iv:f}}function w5(e,t){const r=Ei({encoded:e,encoding:t?.encoding});return c0({type:Mr(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?rt(r.senderPublicKey,Xe):void 0,receiverPublicKey:t?.receiverPublicKey})}function c0(e){const t=e?.type||So;if(t===on){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function x5(e){return e.type===on&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function E5(e){return e.type===Bn}function u0(e){return new Au.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}function _5(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}function S5(e){return Buffer.from(_5(e),"base64")}function A5(e,t){const[r,n,a]=e.split("."),i=S5(a);if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32).toString("hex"),f=i.slice(32,64).toString("hex"),c=`${r}.${n}`,d=Gt(c),l=u0(t),p=rt(d,Xe);if(!l.verify(p,{r:o,s:f}))throw new Error("Invalid signature");return A8(e).payload}const D5={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},d0="irn";function M5(e){return e?.relay||{protocol:d0}}function B5(e){const t=D5[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function h0(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(a=>{if(a.startsWith(n)){const i=a.replace(n,""),o=e[a];r[i]=o}}),r}function I5(e){if(!e.includes("wc:")){const d=Hi(e);d!=null&&d.includes("wc:")&&(e=d)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),a=e.substring(t+1,r).split("@"),i=typeof r<"u"?e.substring(r):"",o=new URLSearchParams(i),f={};o.forEach((d,l)=>{f[l]=d});const c=typeof f.methods=="string"?f.methods.split(","):void 0;return{protocol:n,topic:l0(a[0]),version:parseInt(a[1],10),symKey:f.symKey,relay:h0(f),methods:c,expiryTimestamp:f.expiryTimestamp?parseInt(f.expiryTimestamp,10):void 0}}function l0(e){return e.startsWith("//")?e.substring(2):e}function b0(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(a=>{const i=a,o=r+t+i;e[i]&&(n[o]=e[i])}),n}function O5(e){const t=new URLSearchParams,r=b0(e.relay);Object.keys(r).sort().forEach(a=>{t.set(a,r[a])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const n=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${n}`}function N5(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var C5=Object.defineProperty,R5=Object.defineProperties,T5=Object.getOwnPropertyDescriptors,p0=Object.getOwnPropertySymbols,$5=Object.prototype.hasOwnProperty,P5=Object.prototype.propertyIsEnumerable,v0=(e,t,r)=>t in e?C5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F5=(e,t)=>{for(var r in t||(t={}))$5.call(t,r)&&v0(e,r,t[r]);if(p0)for(var r of p0(t))P5.call(t,r)&&v0(e,r,t[r]);return e},U5=(e,t)=>R5(e,T5(t));function Br(e){const t=[];return e.forEach(r=>{const[n,a]=r.split(":");t.push(`${n}:${a}`)}),t}function g0(e){const t=[];return Object.values(e).forEach(r=>{t.push(...Br(r.accounts))}),t}function m0(e,t){const r=[];return Object.values(e).forEach(n=>{Br(n.accounts).includes(t)&&r.push(...n.methods)}),r}function y0(e,t){const r=[];return Object.values(e).forEach(n=>{Br(n.accounts).includes(t)&&r.push(...n.events)}),r}function z5(e,t){const r=O0(e,t);if(r)throw new Error(r.message);const n={};for(const[a,i]of Object.entries(e))n[a]={methods:i.methods,events:i.events,chains:i.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}function L5(e){const{proposal:{requiredNamespaces:t,optionalNamespaces:r={}},supportedNamespaces:n}=e,a=Io(t),i=Io(r),o={};Object.keys(n).forEach(d=>{const l=n[d].chains,p=n[d].methods,w=n[d].events,S=n[d].accounts;l.forEach(E=>{if(!S.some(M=>M.includes(E)))throw new Error(`No accounts provided for chain ${E} in namespace ${d}`)}),o[d]={chains:l,methods:p,events:w,accounts:S}});const f=C0(t,o,"approve()");if(f)throw new Error(f.message);const c={};return!Object.keys(t).length&&!Object.keys(r).length?o:(Object.keys(a).forEach(d=>{const l=n[d].chains.filter(E=>{var M,D;return(D=(M=a[d])==null?void 0:M.chains)==null?void 0:D.includes(E)}),p=n[d].methods.filter(E=>{var M,D;return(D=(M=a[d])==null?void 0:M.methods)==null?void 0:D.includes(E)}),w=n[d].events.filter(E=>{var M,D;return(D=(M=a[d])==null?void 0:M.events)==null?void 0:D.includes(E)}),S=l.map(E=>n[d].accounts.filter(M=>M.includes(`${E}:`))).flat();c[d]={chains:l,methods:p,events:w,accounts:S}}),Object.keys(i).forEach(d=>{var l,p,w,S,E,M;if(!n[d])return;const D=(p=(l=i[d])==null?void 0:l.chains)==null?void 0:p.filter(C=>n[d].chains.includes(C)),I=n[d].methods.filter(C=>{var F,P;return(P=(F=i[d])==null?void 0:F.methods)==null?void 0:P.includes(C)}),O=n[d].events.filter(C=>{var F,P;return(P=(F=i[d])==null?void 0:F.events)==null?void 0:P.includes(C)}),N=D?.map(C=>n[d].accounts.filter(F=>F.includes(`${C}:`))).flat();c[d]={chains:Tt((w=c[d])==null?void 0:w.chains,D),methods:Tt((S=c[d])==null?void 0:S.methods,I),events:Tt((E=c[d])==null?void 0:E.events,O),accounts:Tt((M=c[d])==null?void 0:M.accounts,N)}}),c)}function Bo(e){return e.includes(":")}function w0(e){return Bo(e)?e.split(":")[0]:e}function Io(e){var t,r,n;const a={};if(!_i(e))return a;for(const[i,o]of Object.entries(e)){const f=Bo(i)?[i]:o.chains,c=o.methods||[],d=o.events||[],l=w0(i);a[l]=U5(F5({},a[l]),{chains:Tt(f,(t=a[l])==null?void 0:t.chains),methods:Tt(c,(r=a[l])==null?void 0:r.methods),events:Tt(d,(n=a[l])==null?void 0:n.events)})}return a}function x0(e){const t={};return e?.forEach(r=>{var n;const[a,i]=r.split(":");t[a]||(t[a]={accounts:[],chains:[],events:[],methods:[]}),t[a].accounts.push(r),(n=t[a].chains)==null||n.push(`${a}:${i}`)}),t}function q5(e,t){t=t.map(n=>n.replace("did:pkh:",""));const r=x0(t);for(const[n,a]of Object.entries(r))a.methods?a.methods=Tt(a.methods,e):a.methods=e,a.events=["chainChanged","accountsChanged"];return r}const E0={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},_0={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ht(e,t){const{message:r,code:n}=_0[e];return{message:t?`${r} ${t}`:r,code:n}}function Ir(e,t){const{message:r,code:n}=E0[e];return{message:t?`${r} ${t}`:r,code:n}}function On(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function _i(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function cr(e){return typeof e>"u"}function st(e,t){return t&&cr(e)?!0:typeof e=="string"&&!!e.trim().length}function Si(e,t){return t&&cr(e)?!0:typeof e=="number"&&!isNaN(e)}function k5(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),a=Object.keys(r);let i=!0;return Wt(a,n)?(n.forEach(o=>{const{accounts:f,methods:c,events:d}=e.namespaces[o],l=Br(f),p=r[o];(!Wt($n(o,p),l)||!Wt(p.methods,c)||!Wt(p.events,d))&&(i=!1)}),i):!1}function Nn(e){return st(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function S0(e){if(st(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Nn(r)}}return!1}function j5(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(st(e,!1)){if(t(e))return!0;const r=Hi(e);return t(r)}}catch{}return!1}function H5(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function V5(e){return e?.topic}function K5(e,t){let r=null;return st(e?.publicKey,!1)||(r=Ht("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function Oo(e){let t=!0;return On(e)?e.length&&(t=e.every(r=>st(r,!1))):t=!1,t}function A0(e,t,r){let n=null;return On(t)&&t.length?t.forEach(a=>{n||Nn(a)||(n=Ir("UNSUPPORTED_CHAINS",`${r}, chain ${a} should be a string and conform to "namespace:chainId" format`))}):Nn(e)||(n=Ir("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function D0(e,t,r){let n=null;return Object.entries(e).forEach(([a,i])=>{if(n)return;const o=A0(a,$n(a,i),`${t} ${r}`);o&&(n=o)}),n}function M0(e,t){let r=null;return On(e)?e.forEach(n=>{r||S0(n)||(r=Ir("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Ir("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function B0(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const a=M0(n?.accounts,`${t} namespace`);a&&(r=a)}),r}function I0(e,t){let r=null;return Oo(e?.methods)?Oo(e?.events)||(r=Ir("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Ir("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function No(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const a=I0(n,`${t}, namespace`);a&&(r=a)}),r}function W5(e,t,r){let n=null;if(e&&_i(e)){const a=No(e,t);a&&(n=a);const i=D0(e,t,r);i&&(n=i)}else n=Ht("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function O0(e,t){let r=null;if(e&&_i(e)){const n=No(e,t);n&&(r=n);const a=B0(e,t);a&&(r=a)}else r=Ht("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function N0(e){return st(e.protocol,!0)}function Y5(e,t){let r=!1;return t&&!e?r=!0:e&&On(e)&&e.length&&e.forEach(n=>{r=N0(n)}),r}function Z5(e){return typeof e=="number"}function G5(e){return typeof e<"u"&&typeof e!==null}function X5(e){return!(!e||typeof e!="object"||!e.code||!Si(e.code,!1)||!e.message||!st(e.message,!1))}function J5(e){return!(cr(e)||!st(e.method,!1))}function Q5(e){return!(cr(e)||cr(e.result)&&cr(e.error)||!Si(e.id,!1)||!st(e.jsonrpc,!1))}function ev(e){return!(cr(e)||!st(e.name,!1))}function tv(e,t){return!(!Nn(t)||!g0(e).includes(t))}function rv(e,t,r){return st(r,!1)?m0(e,t).includes(r):!1}function nv(e,t,r){return st(r,!1)?y0(e,t).includes(r):!1}function C0(e,t,r){let n=null;const a=iv(e),i=av(t),o=Object.keys(a),f=Object.keys(i),c=R0(Object.keys(e)),d=R0(Object.keys(t)),l=c.filter(p=>!d.includes(p));return l.length&&(n=Ht("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(t).toString()}`)),Wt(o,f)||(n=Ht("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${f.toString()}`)),Object.keys(t).forEach(p=>{if(!p.includes(":")||n)return;const w=Br(t[p].accounts);w.includes(p)||(n=Ht("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${p}
        Required: ${p}
        Approved: ${w.toString()}`))}),o.forEach(p=>{n||(Wt(a[p].methods,i[p].methods)?Wt(a[p].events,i[p].events)||(n=Ht("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${p}`)):n=Ht("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${p}`))}),n}function iv(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(a=>{t[a]={methods:e[r].methods,events:e[r].events}})}),t}function R0(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function av(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const n=Br(e[r].accounts);n?.forEach(a=>{t[a]={accounts:e[r].accounts.filter(i=>i.includes(`${a}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function ov(e,t){return Si(e,!1)&&e<=t.max&&e>=t.min}function fv(){const e=br();return new Promise(t=>{switch(e){case Qe.browser:t(T0());break;case Qe.reactNative:t($0());break;case Qe.node:t(P0());break;default:t(!0)}})}function T0(){return un()&&navigator?.onLine}async function $0(){if(Kt()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}function P0(){return!0}function sv(e){switch(br()){case Qe.browser:F0(e);break;case Qe.reactNative:U0(e);break;case Qe.node:break}}function F0(e){!Kt()&&un()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function U0(e){Kt()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}const Co={};class cv{static get(t){return Co[t]}static set(t,r){Co[t]=r}static delete(t){delete Co[t]}}B.BASE10=Eo,B.BASE16=Xe,B.BASE64=_o,B.BASE64URL=c5,B.COLON=Qd,B.DEFAULT_DEPTH=Li,B.EMPTY_SPACE=Un,B.ENV_MAP=Qe,B.INTERNAL_ERRORS=_0,B.MemoryStore=cv,B.ONE_THOUSAND=eh,B.REACT_NATIVE_PRODUCT=Ef,B.RELAYER_DEFAULT_PROTOCOL=d0,B.SDK_ERRORS=E0,B.SDK_TYPE=Sf,B.SLASH=_f,B.TYPE_0=So,B.TYPE_1=on,B.TYPE_2=Bn,B.UTF8=an,B.addResourceToRecap=nc,B.appendToQueryString=Af,B.assertType=sh,B.assignAbilityToActions=Sa,B.base64Decode=tc,B.base64Encode=ec,B.buildApprovedNamespaces=L5,B.buildAuthObject=rb,B.buildNamespacesFromAuth=q5,B.buildRecapStatement=ac,B.calcExpiry=wh,B.capitalize=bh,B.capitalizeWord=Nf,B.createDelayedPromise=ph,B.createEncodedRecap=ob,B.createExpiringPromise=vh,B.createRecap=rc,B.decodeRecap=tr,B.decodeTypeByte=Mr,B.decodeTypeTwoEnvelope=y5,B.decrypt=g5,B.deriveSymKey=l5,B.deserialize=Ei,B.encodeRecap=Jn,B.encodeTypeByte=Do,B.encodeTypeTwoEnvelope=m5,B.encrypt=v5,B.engineEvent=Eh,B.enumify=lh,B.extractSolanaTransactionId=Y1,B.formatAccountId=Qo,B.formatAccountWithChain=Z0,B.formatChainId=Jo,B.formatDeeplinkUrl=Cf,B.formatExpirerTarget=ki,B.formatIdTarget=mh,B.formatMessage=Gs,B.formatMessageContext=ch,B.formatRelayParams=b0,B.formatRelayRpcUrl=oh,B.formatStatementFromRecap=Da,B.formatTopicTarget=gh,B.formatUA=Bf,B.formatUri=O5,B.fromBase64=Hi,B.generateKeyPair=d5,B.generateRandomBytes32=h5,B.getAccountsChains=Br,B.getAccountsFromNamespaces=X0,B.getAddressFromAccount=ef,B.getAddressesFromAccounts=G0,B.getAppId=nh,B.getAppMetadata=ih,B.getBrowserOnlineStatus=T0,B.getChainFromAccount=tf,B.getChainsFromAccounts=rf,B.getChainsFromNamespace=$n,B.getChainsFromNamespaces=J0,B.getChainsFromRecap=cb,B.getChainsFromRequiredNamespaces=Q0,B.getCommonValuesInArrays=ji,B.getCryptoKeyFromKeyData=u0,B.getDecodedRecapFromResources=Xs,B.getDeepLink=Sh,B.getDidAddress=_a,B.getDidAddressSegments=Xn,B.getDidChainId=Ys,B.getEnvironment=br,B.getHttpUrl=fh,B.getInternalError=Ht,B.getJavascriptID=Mf,B.getJavascriptOS=Df,B.getLastItems=Of,B.getLinkModeURL=N5,B.getMethodsFromRecap=sb,B.getNamespacedDidChainId=Zs,B.getNamespacesChains=g0,B.getNamespacesEventsForChainId=y0,B.getNamespacesFromAccounts=x0,B.getNamespacesMethodsForChainId=m0,B.getNodeOnlineStatus=P0,B.getReCapActions=Qs,B.getReactNativeOnlineStatus=$0,B.getRecapAbilitiesFromResource=ab,B.getRecapFromResources=Qn,B.getRecapResource=Js,B.getRelayClientMetadata=ah,B.getRelayProtocolApi=B5,B.getRelayProtocolName=M5,B.getRequiredNamespacesFromNamespaces=z5,B.getSdkError=Ir,B.getSearchParamFromURL=Ah,B.getUniqueValues=Ii,B.handleDeeplinkRedirect=_h,B.hasOverlap=Wt,B.hashEthereumMessage=xa,B.hashKey=b5,B.hashMessage=p5,B.isAndroid=th,B.isBrowser=un,B.isCaipNamespace=Bo,B.isConformingNamespaces=C0,B.isExpired=xh,B.isIframe=$f,B.isIos=rh,B.isNode=qi,B.isOnline=fv,B.isProposalStruct=H5,B.isReactNative=Kt,B.isRecap=Aa,B.isSessionCompatible=k5,B.isSessionStruct=V5,B.isTelegram=Tf,B.isTestRun=Mh,B.isTypeOneEnvelope=x5,B.isTypeTwoEnvelope=E5,B.isUndefined=cr,B.isValidAccountId=S0,B.isValidAccounts=M0,B.isValidActions=I0,B.isValidArray=On,B.isValidChainId=Nn,B.isValidChains=A0,B.isValidController=K5,B.isValidEip1271Signature=Hs,B.isValidEip191Signature=js,B.isValidErrorReason=X5,B.isValidEvent=ev,B.isValidId=Z5,B.isValidNamespaceAccounts=B0,B.isValidNamespaceActions=No,B.isValidNamespaceChains=D0,B.isValidNamespaceMethodsOrEvents=Oo,B.isValidNamespaces=O0,B.isValidNamespacesChainId=tv,B.isValidNamespacesEvent=nv,B.isValidNamespacesRequest=rv,B.isValidNumber=Si,B.isValidObject=_i,B.isValidParams=G5,B.isValidRecap=_t,B.isValidRelay=N0,B.isValidRelays=Y5,B.isValidRequest=J5,B.isValidRequestExpiry=ov,B.isValidRequiredNamespaces=W5,B.isValidResponse=Q5,B.isValidString=st,B.isValidUrl=j5,B.mapEntries=hh,B.mapToObj=uh,B.mergeArrays=Tt,B.mergeEncodedRecaps=fb,B.mergeRecaps=ic,B.normalizeNamespaces=Io,B.objToMap=dh,B.openDeeplink=Rf,B.parseAccountId=Bi,B.parseChainId=Mi,B.parseContextNames=If,B.parseExpirerTarget=yh,B.parseNamespaceKey=w0,B.parseRelayParams=h0,B.parseTopic=l0,B.parseUri=I5,B.populateAuthPayload=nb,B.recapHasResource=ib,B.serialize=Mo,B.sleep=Bh,B.subscribeToBrowserNetworkChange=F0,B.subscribeToNetworkChange=sv,B.subscribeToReactNativeNetworkChange=U0,B.toBase64=Pf,B.uuidv4=Dh,B.validateDecoding=w5,B.validateEncoding=c0,B.validateSignedCacao=tb,B.verifyP256Jwt=A5,B.verifySignature=ks,Object.defineProperty(B,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
